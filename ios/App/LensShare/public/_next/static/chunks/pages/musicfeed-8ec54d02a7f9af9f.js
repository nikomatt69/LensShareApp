(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8436],{4896:function(e,t,r){"use strict";function n(e){return e}function i(e){let t={subscribe(t){let r=null,n=!1,i=!1,a=!1;function o(){if(null===r){a=!0;return}!i&&(i=!0,"function"==typeof r?r():r&&r.unsubscribe())}return r=e({next(e){n||t.next?.(e)},error(e){n||(n=!0,t.error?.(e),o())},complete(){n||(n=!0,t.complete?.(),o())}}),a&&o(),{unsubscribe:o}},pipe:(...e)=>(0===e.length?n:1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)})(t)};return t}r.d(t,{Y_:function(){return eW},XY:function(){return e$}});class a extends Error{constructor(e){super(e),this.name="ObservableAbortError",Object.setPrototypeOf(this,a.prototype)}}class o extends Error{static from(e,t={}){return e instanceof Error?e instanceof o||"TRPCClientError"===e.name?(t.meta&&(e.meta={...e.meta,...t.meta}),e):new o(e.message,{...t,cause:e,result:null}):new o(e.error.message??"",{...t,cause:void 0,result:e})}constructor(e,t){let r=t?.cause;super(e,{cause:r}),this.meta=t?.meta,this.cause=r,this.shape=t?.result?.error,this.data=t?.result?.error.data,this.name="TRPCClientError",Object.setPrototypeOf(this,o.prototype)}}function s(e){let t=Object.create(null);for(let r in e){let n=e[r];t[n]=r}return t}let l={PARSE_ERROR:-32700,BAD_REQUEST:-32600,INTERNAL_SERVER_ERROR:-32603,UNAUTHORIZED:-32001,FORBIDDEN:-32003,NOT_FOUND:-32004,METHOD_NOT_SUPPORTED:-32005,TIMEOUT:-32008,CONFLICT:-32009,PRECONDITION_FAILED:-32012,PAYLOAD_TOO_LARGE:-32013,UNPROCESSABLE_CONTENT:-32022,TOO_MANY_REQUESTS:-32029,CLIENT_CLOSED_REQUEST:-32099};s(l),s(l);let u=()=>{},c=e=>(function e(t,r){let n=new Proxy(u,{get(n,i){if("string"==typeof i&&"then"!==i)return e(t,[...r,i])},apply(e,n,i){let a="apply"===r[r.length-1];return t({args:a?i.length>=2?i[1]:[]:i,path:a?r.slice(0,-1):r})}});return n})(e,[]),d=e=>new Proxy(u,{get(t,r){if("string"==typeof r&&"then"!==r)return e(r)}}),h=e=>"function"==typeof e;function p(e){var t;return{url:e.url,fetch:e.fetch,AbortController:(t=e.AbortController)?t:"undefined"!=typeof window&&window.AbortController?window.AbortController:"undefined"!=typeof globalThis&&globalThis.AbortController?globalThis.AbortController:null}}let f={query:"GET",mutation:"POST"};function m(e){return"input"in e?e.runtime.transformer.serialize(e.input):function(e){let t={};for(let r=0;r<e.length;r++){let n=e[r];t[r]=n}return t}(e.inputs.map(t=>e.runtime.transformer.serialize(t)))}let v=e=>{let t=e.url+"/"+e.path,r=[];if("inputs"in e&&r.push("batch=1"),"query"===e.type){let n=m(e);void 0!==n&&r.push(`input=${encodeURIComponent(JSON.stringify(n))}`)}return r.length&&(t+="?"+r.join("&")),t},g=e=>{if("query"===e.type)return;let t=m(e);return void 0!==t?JSON.stringify(t):void 0},y=e=>w({...e,contentTypeHeader:"application/json",getUrl:v,getBody:g});async function b(e,t){let r=e.getUrl(e),n=e.getBody(e),{type:i}=e,a=await e.headers();if("subscription"===i)throw Error("Subscriptions should use wsLink");let o={...e.contentTypeHeader?{"content-type":e.contentTypeHeader}:{},...e.batchModeHeader?{"trpc-batch-mode":e.batchModeHeader}:{},...a};return(function(e){if(e)return e;if("undefined"!=typeof window&&h(window.fetch))return window.fetch;if("undefined"!=typeof globalThis&&h(globalThis.fetch))return globalThis.fetch;throw Error("No fetch implementation found")})(e.fetch)(r,{method:f[i],signal:t?.signal,body:n,headers:o})}function w(e){let t=e.AbortController?new e.AbortController:null,r={},n=new Promise((n,i)=>{b(e,t).then(e=>(r.response=e,e.json())).then(e=>{r.responseJSON=e,n({json:e,meta:r})}).catch(e=>{i(o.from(e,{meta:r}))})}),i=()=>{t?.abort()};return{promise:n,cancel:i}}function x(e){return!!e&&!Array.isArray(e)&&"object"==typeof e}class _ extends Error{constructor(){super("Unable to transform response from server")}}function k(e,t){let r;try{r=function(e,t){if("error"in e){let r=t.transformer.deserialize(e.error);return{ok:!1,error:{...e,error:r}}}let n={...e.result,...(!e.result.type||"data"===e.result.type)&&{type:"data",data:t.transformer.deserialize(e.result.data)}};return{ok:!0,result:n}}(e,t)}catch(n){throw new _}if(!r.ok&&(!x(r.error.error)||"number"!=typeof r.error.error.code)||r.ok&&!x(r.result))throw new _;return r}let T=()=>{throw Error("Something went wrong. Please submit an issue at https://github.com/trpc/trpc/issues/new")};function E(e){let t=null,r=null,n=()=>{clearTimeout(r),r=null,t=null};function i(){let r=function(t){let r=[[]],n=0;for(;;){let i=t[n];if(!i)break;let a=r[r.length-1];if(i.aborted){i.reject?.(Error("Aborted")),n++;continue}let o=e.validate(a.concat(i).map(e=>e.key));if(o){a.push(i),n++;continue}if(0===a.length){i.reject?.(Error("Input is too big for a single dispatch")),n++;continue}r.push([])}return r}(t);for(let i of(n(),r)){if(!i.length)continue;let a={items:i,cancel:T};for(let o of i)o.batch=a;let s=(e,t)=>{let r=a.items[e];r.resolve?.(t),r.batch=null,r.reject=null,r.resolve=null},{promise:l,cancel:u}=e.fetch(a.items.map(e=>e.key),s);a.cancel=u,l.then(e=>{for(let t=0;t<e.length;t++){let r=e[t];s(t,r)}for(let n of a.items)n.reject?.(Error("Missing result")),n.batch=null}).catch(e=>{for(let t of a.items)t.reject?.(e),t.batch=null})}}return{load:function(e){let n={aborted:!1,key:e,batch:null,resolve:T,reject:T},a=new Promise((e,r)=>{n.reject=r,n.resolve=e,t||(t=[]),t.push(n)});r||(r=setTimeout(i));let o=()=>{n.aborted=!0,n.batch?.items.every(e=>e.aborted)&&(n.batch.cancel(),n.batch=null)};return{promise:a,cancel:o}}}}function C(e){return function(t){let r=p(t),n=t.maxURLLength??1/0;return a=>{let s=i=>{let o=e=>{if(n===1/0)return!0;let t=e.map(e=>e.path).join(","),o=e.map(e=>e.input),s=v({...r,runtime:a,type:i,path:t,inputs:o});return s.length<=n},s=e({...r,runtime:a,type:i,opts:t});return{validate:o,fetch:s}},l=E(s("query")),u=E(s("mutation")),c=E(s("subscription")),d={query:l,subscription:c,mutation:u};return({op:e})=>i(t=>{let r;let n=d[e.type],{promise:i,cancel:s}=n.load(e);return i.then(e=>{r=e;let n=k(e.json,a);if(!n.ok){t.error(o.from(n.error,{meta:e.meta}));return}t.next({context:e.meta,result:n.result}),t.complete()}).catch(e=>{t.error(o.from(e,{meta:r?.meta}))}),()=>{s()}})}}}let S=e=>t=>{let r=t.map(e=>e.path).join(","),n=t.map(e=>e.input),{promise:i,cancel:a}=y({...e,path:r,inputs:n,headers:()=>e.opts.headers?"function"==typeof e.opts.headers?e.opts.headers({opList:t}):e.opts.headers:{}});return{promise:i.then(e=>{let r=Array.isArray(e.json)?e.json:t.map(()=>e.json),n=r.map(t=>({meta:e.meta,json:t}));return n}),cancel:a}},j=C(S);function L(e){return t=>{let r=p(t);return n=>({op:a})=>i(i=>{let s;let{path:l,input:u,type:c}=a,{promise:d,cancel:h}=e.requester({...r,runtime:n,type:c,path:l,input:u,headers:()=>t.headers?"function"==typeof t.headers?t.headers({op:a}):t.headers:{}});return d.then(e=>{s=e.meta;let t=k(e.json,n);if(!t.ok){i.error(o.from(t.error,{meta:s}));return}i.next({context:e.meta,result:t.result}),i.complete()}).catch(e=>{i.error(o.from(e,{meta:s}))}),()=>{h()}})}}L({requester:y});class P{$request({type:e,input:t,path:r,context:n={}}){var a;let o=(a={links:this.links,op:{id:++this.requestId,type:e,path:r,input:t,context:n}},i(e=>{let t=function e(t=0,r=a.op){let n=a.links[t];if(!n)throw Error("No more links to execute - did you forget to add an ending link?");let i=n({op:r,next(r){let n=e(t+1,r);return n}});return i}();return t.subscribe(e)}));return o.pipe(e=>{let t=0,r=null,n=[];return{subscribe:i=>(t++,n.push(i),r||(r=e.subscribe({next(e){for(let t of n)t.next?.(e)},error(e){for(let t of n)t.error?.(e)},complete(){for(let e of n)e.complete?.()}})),{unsubscribe(){t--,function(){if(0===t&&r){let e=r;r=null,e.unsubscribe()}}();let e=n.findIndex(e=>e===i);e>-1&&n.splice(e,1)}})}})}requestAsPromise(e){let t=this.$request(e),{promise:r,abort:n}=function(e){let t;let r=new Promise((r,n)=>{let i=!1;function o(){i||(i=!0,n(new a("This operation was aborted.")),s.unsubscribe())}let s=e.subscribe({next(e){i=!0,r(e),o()},error(e){i=!0,n(e),o()},complete(){i=!0,o()}});t=o});return{promise:r,abort:t}}(t),i=new Promise((t,i)=>{e.signal?.addEventListener("abort",n),r.then(e=>{t(e.result.data)}).catch(e=>{i(o.from(e))})});return i}query(e,t,r){return this.requestAsPromise({type:"query",path:e,input:t,context:r?.context,signal:r?.signal})}mutation(e,t,r){return this.requestAsPromise({type:"mutation",path:e,input:t,context:r?.context,signal:r?.signal})}subscription(e,t,r){let n=this.$request({type:"subscription",path:e,input:t,context:r?.context});return n.subscribe({next(e){"started"===e.result.type?r.onStarted?.():"stopped"===e.result.type?r.onStopped?.():r.onData?.(e.result.data)},error(e){r.onError?.(e)},complete(){r.onComplete?.()}})}constructor(e){this.requestId=0;let t=(()=>{let t=e.transformer;return t?"input"in t?e.transformer:{input:t,output:t}:{input:{serialize:e=>e,deserialize:e=>e},output:{serialize:e=>e,deserialize:e=>e}}})();this.runtime={transformer:{serialize:e=>t.input.serialize(e),deserialize:e=>t.output.deserialize(e)},combinedTransformer:t},this.links=e.links.map(e=>e(this.runtime))}}let R={query:"query",mutate:"mutation",subscribe:"subscription"},I=e=>R[e];async function M(e){let t=e.parse??JSON.parse,r=r=>{if(e.signal?.aborted||!r||"}"===r)return;let n=r.indexOf(":"),i=r.substring(2,n-1),a=r.substring(n+1);e.onSingle(Number(i),t(a))};await O(e.readableStream,r,e.textDecoder)}async function O(e,t,r){let n="",i=e=>{let i=r.decode(e),a=i.split("\n");if(1===a.length)n+=a[0];else if(a.length>1){t(n+a[0]);for(let o=1;o<a.length-1;o++)t(a[o]);n=a[a.length-1]}};"getReader"in e?await A(e,i):await new Promise(t=>{e.on("data",i),e.on("end",t)}),t(n)}async function A(e,t){let r=e.getReader(),n=await r.read();for(;!n.done;)t(n.value),n=await r.read()}let N=(e,t)=>{let r=e.AbortController?new e.AbortController:null,n=b({...e,contentTypeHeader:"application/json",batchModeHeader:"stream",getUrl:v,getBody:g},r),i=()=>r?.abort(),a=n.then(async n=>{if(!n.body)throw Error("Received response without body");let i={response:n};return M({readableStream:n.body,onSingle:t,parse:e=>({json:JSON.parse(e),meta:i}),signal:r?.signal,textDecoder:e.textDecoder})});return{cancel:i,promise:a}},D=e=>{let t=function(e){if(e)return e;if("undefined"!=typeof window&&window.TextDecoder)return new window.TextDecoder;if("undefined"!=typeof globalThis&&globalThis.TextDecoder)return new globalThis.TextDecoder;throw Error("No TextDecoder implementation found")}(e.opts.textDecoder);return(r,n)=>{let i=r.map(e=>e.path).join(","),a=r.map(e=>e.input),{cancel:o,promise:s}=N({...e,textDecoder:t,path:i,inputs:a,headers:()=>e.opts.headers?"function"==typeof e.opts.headers?e.opts.headers({opList:r}):e.opts.headers:{}},(e,t)=>{n(e,t)});return{promise:s.then(()=>[]),cancel:o}}};C(D);let q=e=>{if("input"in e){if(!(e.input instanceof FormData))throw Error("Input is not FormData");return e.input}},F=e=>{if("mutation"!==e.type)throw Error("We only handle mutations with formdata");return w({...e,getUrl:()=>`${e.url}/${e.path}`,getBody:q})};L({requester:F});var U,B,H,V=r(6154),Z=function(){function e(){this.keyToValue=new Map,this.valueToKey=new Map}return e.prototype.set=function(e,t){this.keyToValue.set(e,t),this.valueToKey.set(t,e)},e.prototype.getByKey=function(e){return this.keyToValue.get(e)},e.prototype.getByValue=function(e){return this.valueToKey.get(e)},e.prototype.clear=function(){this.keyToValue.clear(),this.valueToKey.clear()},e}(),z=function(){function e(e){this.generateIdentifier=e,this.kv=new Z}return e.prototype.register=function(e,t){this.kv.getByValue(e)||(t||(t=this.generateIdentifier(e)),this.kv.set(t,e))},e.prototype.clear=function(){this.kv.clear()},e.prototype.getIdentifier=function(e){return this.kv.getByValue(e)},e.prototype.getValue=function(e){return this.kv.getByKey(e)},e}(),$=(U=function(e,t){return(U=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}U(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),W=function(e){function t(){var t=e.call(this,function(e){return e.name})||this;return t.classToAllowedProps=new Map,t}return $(t,e),t.prototype.register=function(t,r){"object"==typeof r?(r.allowProps&&this.classToAllowedProps.set(t,r.allowProps),e.prototype.register.call(this,t,r.identifier)):e.prototype.register.call(this,t,r)},t.prototype.getAllowedProps=function(e){return this.classToAllowedProps.get(e)},t}(z),Q=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o};function G(e,t){Object.entries(e).forEach(function(e){var r=Q(e,2),n=r[0];return t(r[1],n)})}function K(e,t){return -1!==e.indexOf(t)}function Y(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(t(n))return n}}var J=function(){function e(){this.transfomers={}}return e.prototype.register=function(e){this.transfomers[e.name]=e},e.prototype.findApplicable=function(e){return function(e,t){var r=function(e){if("values"in Object)return Object.values(e);var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(e[r]);return t}(e);if("find"in r)return r.find(t);for(var n=0;n<r.length;n++){var i=r[n];if(t(i))return i}}(this.transfomers,function(t){return t.isApplicable(e)})},e.prototype.findByName=function(e){return this.transfomers[e]},e}(),X=function(e){return void 0===e},ee=function(e){return"object"==typeof e&&null!==e&&e!==Object.prototype&&(null===Object.getPrototypeOf(e)||Object.getPrototypeOf(e)===Object.prototype)},et=function(e){return ee(e)&&0===Object.keys(e).length},er=function(e){return Array.isArray(e)},en=function(e){return e instanceof Map},ei=function(e){return e instanceof Set},ea=function(e){return"Symbol"===Object.prototype.toString.call(e).slice(8,-1)},eo=function(e){return"number"==typeof e&&isNaN(e)},es=function(e){return"boolean"==typeof e||null===e||X(e)||"number"==typeof e&&!isNaN(e)||"string"==typeof e||ea(e)},el=function(e){return e.replace(/\./g,"\\.")},eu=function(e){return e.map(String).map(el).join(".")},ec=function(e){for(var t=[],r="",n=0;n<e.length;n++){var i=e.charAt(n);if("\\"===i&&"."===e.charAt(n+1)){r+=".",n++;continue}if("."===i){t.push(r),r="";continue}r+=i}var a=r;return t.push(a),t},ed=function(){return(ed=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},eh=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o},ep=function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};function ef(e,t,r,n){return{isApplicable:e,annotation:t,transform:r,untransform:n}}var em=[ef(X,"undefined",function(){return null},function(){}),ef(function(e){return"bigint"==typeof e},"bigint",function(e){return e.toString()},function(e){return"undefined"!=typeof BigInt?BigInt(e):(console.error("Please add a BigInt polyfill."),e)}),ef(function(e){return e instanceof Date&&!isNaN(e.valueOf())},"Date",function(e){return e.toISOString()},function(e){return new Date(e)}),ef(function(e){return e instanceof Error},"Error",function(e,t){var r={name:e.name,message:e.message};return t.allowedErrorProps.forEach(function(t){r[t]=e[t]}),r},function(e,t){var r=Error(e.message);return r.name=e.name,r.stack=e.stack,t.allowedErrorProps.forEach(function(t){r[t]=e[t]}),r}),ef(function(e){return e instanceof RegExp},"regexp",function(e){return""+e},function(e){return RegExp(e.slice(1,e.lastIndexOf("/")),e.slice(e.lastIndexOf("/")+1))}),ef(ei,"set",function(e){return ep([],eh(e.values()))},function(e){return new Set(e)}),ef(en,"map",function(e){return ep([],eh(e.entries()))},function(e){return new Map(e)}),ef(function(e){var t;return eo(e)||(t=e)===1/0||t===-1/0},"number",function(e){return eo(e)?"NaN":e>0?"Infinity":"-Infinity"},Number),ef(function(e){return 0===e&&1/e==-1/0},"number",function(){return"-0"},Number),ef(function(e){return e instanceof URL},"URL",function(e){return e.toString()},function(e){return new URL(e)})];function ev(e,t,r,n){return{isApplicable:e,annotation:t,transform:r,untransform:n}}var eg=ev(function(e,t){return!!ea(e)&&!!t.symbolRegistry.getIdentifier(e)},function(e,t){return["symbol",t.symbolRegistry.getIdentifier(e)]},function(e){return e.description},function(e,t,r){var n=r.symbolRegistry.getValue(t[1]);if(!n)throw Error("Trying to deserialize unknown symbol");return n}),ey=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,Uint8ClampedArray].reduce(function(e,t){return e[t.name]=t,e},{}),eb=ev(function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},function(e){return["typed-array",e.constructor.name]},function(e){return ep([],eh(e))},function(e,t){var r=ey[t[1]];if(!r)throw Error("Trying to deserialize unknown typed array");return new r(e)});function ew(e,t){return null!=e&&!!e.constructor&&!!t.classRegistry.getIdentifier(e.constructor)}var ex=ev(ew,function(e,t){return["class",t.classRegistry.getIdentifier(e.constructor)]},function(e,t){var r=t.classRegistry.getAllowedProps(e.constructor);if(!r)return ed({},e);var n={};return r.forEach(function(t){n[t]=e[t]}),n},function(e,t,r){var n=r.classRegistry.getValue(t[1]);if(!n)throw Error("Trying to deserialize unknown class - check https://github.com/blitz-js/superjson/issues/116#issuecomment-773996564");return Object.assign(Object.create(n.prototype),e)}),e_=ev(function(e,t){return!!t.customTransformerRegistry.findApplicable(e)},function(e,t){return["custom",t.customTransformerRegistry.findApplicable(e).name]},function(e,t){return t.customTransformerRegistry.findApplicable(e).serialize(e)},function(e,t,r){var n=r.customTransformerRegistry.findByName(t[1]);if(!n)throw Error("Trying to deserialize unknown custom value");return n.deserialize(e)}),ek=[ex,eg,e_,eb],eT=function(e,t){var r=Y(ek,function(r){return r.isApplicable(e,t)});if(r)return{value:r.transform(e,t),type:r.annotation(e,t)};var n=Y(em,function(r){return r.isApplicable(e,t)});if(n)return{value:n.transform(e,t),type:n.annotation}},eE={};em.forEach(function(e){eE[e.annotation]=e});var eC=function(e,t,r){if(er(t))switch(t[0]){case"symbol":return eg.untransform(e,t,r);case"class":return ex.untransform(e,t,r);case"custom":return e_.untransform(e,t,r);case"typed-array":return eb.untransform(e,t,r);default:throw Error("Unknown transformation: "+t)}else{var n=eE[t];if(!n)throw Error("Unknown transformation: "+t);return n.untransform(e,r)}},eS=function(e,t){for(var r=e.keys();t>0;)r.next(),t--;return r.next().value};function ej(e){if(K(e,"__proto__"))throw Error("__proto__ is not allowed as a property");if(K(e,"prototype"))throw Error("prototype is not allowed as a property");if(K(e,"constructor"))throw Error("constructor is not allowed as a property")}var eL=function(e,t){ej(t);for(var r=0;r<t.length;r++){var n=t[r];if(ei(e))e=eS(e,+n);else if(en(e)){var i=+n,a=0==+t[++r]?"key":"value",o=eS(e,i);switch(a){case"key":e=o;break;case"value":e=e.get(o)}}else e=e[n]}return e},eP=function(e,t,r){if(ej(t),0===t.length)return r(e);for(var n=e,i=0;i<t.length-1;i++){var a=t[i];if(er(n))n=n[+a];else if(ee(n))n=n[a];else if(ei(n)){var o=+a;n=eS(n,o)}else if(en(n)){if(i===t.length-2)break;var o=+a,s=0==+t[++i]?"key":"value",l=eS(n,o);switch(s){case"key":n=l;break;case"value":n=n.get(l)}}}var u=t[t.length-1];if(er(n)?n[+u]=r(n[+u]):ee(n)&&(n[u]=r(n[u])),ei(n)){var c=eS(n,+u),d=r(c);c!==d&&(n.delete(c),n.add(d))}if(en(n)){var o=+t[t.length-2],h=eS(n,o),s=0==+u?"key":"value";switch(s){case"key":var p=r(h);n.set(p,n.get(h)),p!==h&&n.delete(h);break;case"value":n.set(h,r(n.get(h)))}}return e},eR=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o},eI=function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},eM=function(e,t,r,n,i){if(void 0===n&&(n=[]),void 0===i&&(i=[]),es(e)||(a=e,o=n,(l=(s=t).get(a))?l.push(o):s.set(a,[o])),!(ee(e)||er(e)||en(e)||ei(e)||ew(e,r))){var a,o,s,l,u,c=eT(e,r);return c?{transformedValue:c.value,annotations:[c.type]}:{transformedValue:e}}if(K(i,e))return{transformedValue:null};var d=eT(e,r),h=null!==(u=null==d?void 0:d.value)&&void 0!==u?u:e;es(e)||(i=eI(eI([],eR(i)),[e]));var p=er(h)?[]:{},f={};return(G(h,function(e,a){var o=eM(e,t,r,eI(eI([],eR(n)),[a]),i);p[a]=o.transformedValue,er(o.annotations)?f[a]=o.annotations:ee(o.annotations)&&G(o.annotations,function(e,t){f[el(a)+"."+t]=e})}),et(f))?{transformedValue:p,annotations:d?[d.type]:void 0}:{transformedValue:p,annotations:d?[d.type,f]:f}};function eO(e){return Object.prototype.toString.call(e).slice(8,-1)}function eA(e){return"Array"===eO(e)}var eN=function(){return(eN=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},eD=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,a=r.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(n=a.next()).done;)o.push(n.value)}catch(s){i={error:s}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(i)throw i.error}}return o},eq=function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e},eF=function(){function e(){this.classRegistry=new W,this.symbolRegistry=new z(function(e){var t;return null!==(t=e.description)&&void 0!==t?t:""}),this.customTransformerRegistry=new J,this.allowedErrorProps=[]}return e.prototype.serialize=function(e){var t,r,n=new Map,i=eM(e,n,this),a={json:i.transformedValue};i.annotations&&(a.meta=eN(eN({},a.meta),{values:i.annotations}));var o=(t={},r=void 0,(n.forEach(function(e){if(!(e.length<=1)){var n=eR(e.map(function(e){return e.map(String)}).sort(function(e,t){return e.length-t.length})),i=n[0],a=n.slice(1);0===i.length?r=a.map(eu):t[eu(i)]=a.map(eu)}}),r)?et(t)?[r]:[r,t]:et(t)?void 0:t);return o&&(a.meta=eN(eN({},a.meta),{referentialEqualities:o})),a},e.prototype.deserialize=function(e){var t,r,n,i=e.json,a=e.meta,o=function e(t,r={}){if(eA(t))return t.map(t=>e(t,r));if(!function(e){if("Object"!==eO(e))return!1;let t=Object.getPrototypeOf(e);return!!t&&t.constructor===Object&&t===Object.prototype}(t))return t;let n=Object.getOwnPropertyNames(t),i=Object.getOwnPropertySymbols(t);return[...n,...i].reduce((n,i)=>{if(eA(r.props)&&!r.props.includes(i))return n;let a=t[i],o=e(a,r);return function(e,t,r,n,i){let a=({}).propertyIsEnumerable.call(n,t)?"enumerable":"nonenumerable";"enumerable"===a&&(e[t]=r),i&&"nonenumerable"===a&&Object.defineProperty(e,t,{value:r,enumerable:!1,writable:!0,configurable:!0})}(n,i,o,t,r.nonenumerable),n},{})}(i);return(null==a?void 0:a.values)&&(t=o,r=a.values,n=this,function e(t,r,n){if(void 0===n&&(n=[]),t){if(!er(t)){G(t,function(t,i){return e(t,r,eI(eI([],eR(n)),eR(ec(i))))});return}var i=eR(t,2),a=i[0],o=i[1];o&&G(o,function(t,i){e(t,r,eI(eI([],eR(n)),eR(ec(i))))}),r(a,n)}}(r,function(e,r){t=eP(t,r,function(t){return eC(t,e,n)})}),o=t),(null==a?void 0:a.referentialEqualities)&&(o=function(e,t){function r(t,r){var n=eL(e,ec(r));t.map(ec).forEach(function(t){e=eP(e,t,function(){return n})})}if(er(t)){var n=eR(t,2),i=n[0],a=n[1];i.forEach(function(t){e=eP(e,ec(t),function(){return e})}),a&&G(a,r)}else G(t,r);return e}(o,a.referentialEqualities)),o},e.prototype.stringify=function(e){return JSON.stringify(this.serialize(e))},e.prototype.parse=function(e){return this.deserialize(JSON.parse(e))},e.prototype.registerClass=function(e,t){this.classRegistry.register(e,t)},e.prototype.registerSymbol=function(e,t){this.symbolRegistry.register(e,t)},e.prototype.registerCustom=function(e,t){this.customTransformerRegistry.register(eN({name:t},e))},e.prototype.allowErrorProps=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];(e=this.allowedErrorProps).push.apply(e,eq([],eD(t)))},e.defaultInstance=new e,e.serialize=e.defaultInstance.serialize.bind(e.defaultInstance),e.deserialize=e.defaultInstance.deserialize.bind(e.defaultInstance),e.stringify=e.defaultInstance.stringify.bind(e.defaultInstance),e.parse=e.defaultInstance.parse.bind(e.defaultInstance),e.registerClass=e.defaultInstance.registerClass.bind(e.defaultInstance),e.registerSymbol=e.defaultInstance.registerSymbol.bind(e.defaultInstance),e.registerCustom=e.defaultInstance.registerCustom.bind(e.defaultInstance),e.allowErrorProps=e.defaultInstance.allowErrorProps.bind(e.defaultInstance),e}();eF.serialize,eF.deserialize,eF.stringify,eF.parse,eF.registerClass,eF.registerCustom,eF.registerSymbol,eF.allowErrorProps;var eU=r(1604);function eB(){eB=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(u){l=function(e,t,r){return e[t]=r}}function c(e,t,r,i){var a,o,s=Object.create((t&&t.prototype instanceof p?t:p).prototype);return n(s,"_invoke",{value:(a=new T(i||[]),o="suspendedStart",function(t,n){if("executing"===o)throw Error("Generator is already running");if("completed"===o){if("throw"===t)throw n;return C()}for(a.method=t,a.arg=n;;){var i=a.delegate;if(i){var s=function e(t,r){var n=r.method,i=t.iterator[n];if(void 0===i)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=void 0,e(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+n+"' method")),h;var a=d(i,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var o=a.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,h):o:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,h)}(i,a);if(s){if(s===h)continue;return s}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===o)throw o="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o="executing";var l=d(e,r,a);if("normal"===l.type){if(o=a.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(o="completed",a.method="throw",a.arg=l.arg)}})}),s}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}e.wrap=c;var h={};function p(){}function f(){}function m(){}var v={};l(v,a,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(E([])));y&&y!==t&&r.call(y,a)&&(v=y);var b=m.prototype=p.prototype=Object.create(v);function w(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function x(e,t){var i;n(this,"_invoke",{value:function(n,a){function o(){return new t(function(i,o){!function n(i,a,o,s){var l=d(e[i],e,a);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==typeof c&&r.call(c,"__await")?t.resolve(c.__await).then(function(e){n("next",e,o,s)},function(e){n("throw",e,o,s)}):t.resolve(c).then(function(e){u.value=e,o(u)},function(e){return n("throw",e,o,s)})}s(l.arg)}(n,a,i,o)})}return i=i?i.then(o,o):o()}})}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return f.prototype=m,n(b,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:f,configurable:!0}),f.displayName=l(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(x.prototype),l(x.prototype,o,function(){return this}),e.AsyncIterator=x,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new x(c(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then(function(e){return e.done?e.value:o.next()})},w(b),l(b,s,"Generator"),l(b,a,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}function eH(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(u){r(u);return}s.done?t(l):Promise.resolve(l).then(n,i)}function eV(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function o(e){eH(a,n,i,o,s,"next",e)}function s(e){eH(a,n,i,o,s,"throw",e)}o(void 0)})}}var eZ=eU.z.object({data:eU.z.object({challenge:eU.z.object({text:eU.z.string()})})}),ez=function(e){let t=new P(e),r=d(e=>t.hasOwnProperty(e)?t[e]:"__untypedClient"===e?t:c(({path:r,args:n})=>{let i=[e,...r],a=I(i.pop()),o=i.join(".");return t[a](o,...n)}));return r}({transformer:eF,links:[j({url:"https://sdk-iriko.huddle01.com/trpc"})]}),e$=(B=eV(eB().mark(function e(t){var r,n;return eB().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.Z.request({method:"POST",url:"https://api.lens.dev/",headers:{"Content-Type":"application/json"},data:{query:"query Challenge($request: ChallengeRequest!) {\n                challenge(request: $request) { text }\n              }",variables:{request:{address:t}}}});case 2:return r=e.sent.data,n=eZ.parse(r).data.challenge.text,e.abrupt("return",{message:n});case 6:case"end":return e.stop()}},e)})),function(e){return B.apply(this,arguments)}),eW=(H=eV(eB().mark(function e(t,r){var n,i,a;return eB().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=function(){var e=eV(eB().mark(function e(){return eB().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.Z.request({method:"POST",url:"https://api.lens.dev/",headers:{"Content-Type":"application/json"},data:{query:"mutation ($request: SignedAuthChallenge!) { \n            authenticate(request: $request) {\n              accessToken\n              refreshToken\n            }\n          }",variables:{request:{address:r,signature:t}}}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),e.next=4,n();case 4:return i=e.sent,e.next=7,ez.auth.login.mutate({address:r,chain:"lens",accessToken:i.data.data.authenticate.accessToken,walletName:"lens"});case 7:return a=e.sent,e.abrupt("return",{accessToken:a.accessToken});case 11:throw e.prev=11,e.t0=e.catch(0),Error("Error getting lens access token");case 14:case"end":return e.stop()}},e,null,[[0,11]])})),function(e,t){return H.apply(this,arguments)})},99983:function(e,t,r){"use strict";let n;r.d(t,{e:function(){return nw}});var i,a,o,s=r(69753),l=r(67294),u=r(18607);function c(){let e=(0,u.g)();return e.provider}var d=r(61688);let h=d.useSyncExternalStore;var p=r(32161),f=r(89886),m=r(30081),v=r(33989);class g extends v.l{constructor(e,t){super(),this.client=e,this.setOptions(t),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.client.defaultMutationOptions(e),(0,p.VS)(t,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this})}onUnsubscribe(){if(!this.listeners.length){var e;null==(e=this.currentMutation)||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();let t={listeners:!0};"success"===e.type?t.onSuccess=!0:"error"===e.type&&(t.onError=!0),this.notify(t)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:void 0!==e?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){let e=this.currentMutation?this.currentMutation.state:(0,f.R)(),t={...e,isLoading:"loading"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset};this.currentResult=t}notify(e){m.V.batch(()=>{if(this.mutateOptions&&this.hasListeners()){var t,r,n,i,a,o,s,l;e.onSuccess?(null==(t=(r=this.mutateOptions).onSuccess)||t.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),null==(n=(i=this.mutateOptions).onSettled)||n.call(i,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)):e.onError&&(null==(a=(o=this.mutateOptions).onError)||a.call(o,this.currentResult.error,this.currentResult.variables,this.currentResult.context),null==(s=(l=this.mutateOptions).onSettled)||s.call(l,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context))}e.listeners&&this.listeners.forEach(e=>{e(this.currentResult)})})}}var y=r(51098);function b(e,t){return"function"==typeof e?e(...t):!!e}function w(){}var x=r(15761),_=r(72379);class k extends v.l{constructor(e,t){super(),this.client=e,this.options=t,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(t)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.length&&(this.currentQuery.addObserver(this),T(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.listeners.length||this.destroy()}shouldFetchOnReconnect(){return E(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return E(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=[],this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,t){let r=this.options,n=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),(0,p.VS)(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();let i=this.hasListeners();i&&C(this.currentQuery,n,this.options,r)&&this.executeFetch(),this.updateResult(t),i&&(this.currentQuery!==n||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&this.updateStaleTimeout();let a=this.computeRefetchInterval();i&&(this.currentQuery!==n||this.options.enabled!==r.enabled||a!==this.currentRefetchInterval)&&this.updateRefetchInterval(a)}getOptimisticResult(e){let t=this.client.getQueryCache().build(this.client,e);return this.createResult(t,e)}getCurrentResult(){return this.currentResult}trackResult(e){let t={};return Object.keys(e).forEach(r=>{Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),e[r])})}),t}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...t}={}){return this.fetch({...t,meta:{refetchPage:e}})}fetchOptimistic(e){let t=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,t);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,t))}fetch(e){var t;return this.executeFetch({...e,cancelRefetch:null==(t=e.cancelRefetch)||t}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let t=this.currentQuery.fetch(this.options,e);return null!=e&&e.throwOnError||(t=t.catch(p.ZT)),t}updateStaleTimeout(){if(this.clearStaleTimeout(),p.sk||this.currentResult.isStale||!(0,p.PN)(this.options.staleTime))return;let e=(0,p.Kp)(this.currentResult.dataUpdatedAt,this.options.staleTime);this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},e+1)}computeRefetchInterval(){var e;return"function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(e=this.options.refetchInterval)&&e}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!p.sk&&!1!==this.options.enabled&&(0,p.PN)(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||x.j.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,t){let r;let n=this.currentQuery,i=this.options,a=this.currentResult,o=this.currentResultState,s=this.currentResultOptions,l=e!==n,u=l?e.state:this.currentQueryInitialState,c=l?this.currentResult:this.previousQueryResult,{state:d}=e,{dataUpdatedAt:h,error:f,errorUpdatedAt:m,fetchStatus:v,status:g}=d,y=!1,b=!1;if(t._optimisticResults){let w=this.hasListeners(),x=!w&&T(e,t),k=w&&C(e,n,t,i);(x||k)&&(v=(0,_.Kw)(e.options.networkMode)?"fetching":"paused",h||(g="loading")),"isRestoring"===t._optimisticResults&&(v="idle")}if(t.keepPreviousData&&!d.dataUpdatedAt&&null!=c&&c.isSuccess&&"error"!==g)r=c.data,h=c.dataUpdatedAt,g=c.status,y=!0;else if(t.select&&void 0!==d.data){if(a&&d.data===(null==o?void 0:o.data)&&t.select===this.selectFn)r=this.selectResult;else try{this.selectFn=t.select,r=t.select(d.data),r=(0,p.oE)(null==a?void 0:a.data,r,t),this.selectResult=r,this.selectError=null}catch(E){this.selectError=E}}else r=d.data;if(void 0!==t.placeholderData&&void 0===r&&"loading"===g){let j;if(null!=a&&a.isPlaceholderData&&t.placeholderData===(null==s?void 0:s.placeholderData))j=a.data;else if(j="function"==typeof t.placeholderData?t.placeholderData():t.placeholderData,t.select&&void 0!==j)try{j=t.select(j),this.selectError=null}catch(L){this.selectError=L}void 0!==j&&(g="success",r=(0,p.oE)(null==a?void 0:a.data,j,t),b=!0)}this.selectError&&(f=this.selectError,r=this.selectResult,m=Date.now(),g="error");let P="fetching"===v,R="loading"===g,I="error"===g,M={status:g,fetchStatus:v,isLoading:R,isSuccess:"success"===g,isError:I,isInitialLoading:R&&P,data:r,dataUpdatedAt:h,error:f,errorUpdatedAt:m,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:P,isRefetching:P&&!R,isLoadingError:I&&0===d.dataUpdatedAt,isPaused:"paused"===v,isPlaceholderData:b,isPreviousData:y,isRefetchError:I&&0!==d.dataUpdatedAt,isStale:S(e,t),refetch:this.refetch,remove:this.remove};return M}updateResult(e){let t=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,(0,p.VS)(r,t))return;this.currentResult=r;let n={cache:!0};(null==e?void 0:e.listeners)!==!1&&(()=>{if(!t)return!0;let{notifyOnChangeProps:e}=this.options;if("all"===e||!e&&!this.trackedProps.size)return!0;let r=new Set(null!=e?e:this.trackedProps);return this.options.useErrorBoundary&&r.add("error"),Object.keys(this.currentResult).some(e=>{let n=this.currentResult[e]!==t[e];return n&&r.has(e)})})()&&(n.listeners=!0),this.notify({...n,...e})}updateQuery(){let e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;let t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){let t={};"success"===e.type?t.onSuccess=!e.manual:"error"!==e.type||(0,_.DV)(e.error)||(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}notify(e){m.V.batch(()=>{var t,r,n,i,a,o,s,l;e.onSuccess?(null==(t=(r=this.options).onSuccess)||t.call(r,this.currentResult.data),null==(n=(i=this.options).onSettled)||n.call(i,this.currentResult.data,null)):e.onError&&(null==(a=(o=this.options).onError)||a.call(o,this.currentResult.error),null==(s=(l=this.options).onSettled)||s.call(l,void 0,this.currentResult.error)),e.listeners&&this.listeners.forEach(e=>{e(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function T(e,t){return!1!==t.enabled&&!e.state.dataUpdatedAt&&!("error"===e.state.status&&!1===t.retryOnMount)||e.state.dataUpdatedAt>0&&E(e,t,t.refetchOnMount)}function E(e,t,r){if(!1!==t.enabled){let n="function"==typeof r?r(e):r;return"always"===n||!1!==n&&S(e,t)}return!1}function C(e,t,r,n){return!1!==r.enabled&&(e!==t||!1===n.enabled)&&(!r.suspense||"error"!==e.state.status)&&S(e,r)}function S(e,t){return e.isStaleByTime(t.staleTime)}let j=l.createContext((n=!1,{clearReset:()=>{n=!1},reset:()=>{n=!0},isReset:()=>n})),L=()=>l.useContext(j),P=l.createContext(!1),R=()=>l.useContext(P);P.Provider;let I=(e,t)=>{(e.suspense||e.useErrorBoundary)&&!t.isReset()&&(e.retryOnMount=!1)},M=e=>{l.useEffect(()=>{e.clearReset()},[e])},O=({result:e,errorResetBoundary:t,useErrorBoundary:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&b(r,[e.error,n]),A=e=>{e.suspense&&"number"!=typeof e.staleTime&&(e.staleTime=1e3)},N=(e,t)=>e.isLoading&&e.isFetching&&!t,D=(e,t,r)=>(null==e?void 0:e.suspense)&&N(t,r),q=(e,t,r)=>t.fetchOptimistic(e).then(({data:t})=>{null==e.onSuccess||e.onSuccess(t),null==e.onSettled||e.onSettled(t,null)}).catch(t=>{r.clearReset(),null==e.onError||e.onError(t),null==e.onSettled||e.onSettled(void 0,t)});var F=r(45216),U=r(38934);let B=["cacheTime","networkMode","onError","onMutate","onSettled","onSuccess","retry","retryDelay","useErrorBoundary","meta"],H=["cacheTime","enabled","networkMode","initialData","initialDataUpdatedAt","isDataEqual","keepPreviousData","meta","notifyOnChangeProps","onError","onSettled","onSuccess","placeholderData","refetchInterval","refetchIntervalInBackground","refetchOnMount","refetchOnReconnect","refetchOnWindowFocus","retry","retryOnMount","retryDelay","select","staleTime","structuralSharing","suspense","useErrorBoundary"];function V(e){let{data:t,dataUpdatedAt:r,error:n,errorUpdatedAt:i,failureCount:a,isError:o,isFetched:s,isFetchedAfterMount:u,isFetching:c,isPaused:d,isLoadingError:f,isPlaceholderData:v,isPreviousData:g,isRefetchError:b,isRefetching:w,isStale:x,isSuccess:_,refetch:T,remove:E,status:C,fetchStatus:S}=function(e,t,r){let n=(0,p._v)(e,void 0,void 0);return function(e,t){let r=(0,y.NL)({context:e.context}),n=R(),i=L(),a=r.defaultQueryOptions(e);a._optimisticResults=n?"isRestoring":"optimistic",a.onError&&(a.onError=m.V.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=m.V.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=m.V.batchCalls(a.onSettled)),A(a),I(a,i),M(i);let[o]=l.useState(()=>new t(r,a)),s=o.getOptimisticResult(a);if(h(l.useCallback(e=>n?()=>void 0:o.subscribe(m.V.batchCalls(e)),[o,n]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),l.useEffect(()=>{o.setOptions(a,{listeners:!1})},[a,o]),D(a,s,n))throw q(a,o,i);if(O({result:s,errorResetBoundary:i,useErrorBoundary:a.useErrorBoundary,query:o.getCurrentQuery()}))throw s.error;return a.notifyOnChangeProps?s:o.trackResult(s)}(n,k)}({...e,context:U.Q}),j=(0,l.useMemo)(()=>"loading"===C&&"idle"===S?"idle":C,[C,S]),P=(0,l.useMemo)(()=>"idle"===j,[j]),N=(0,l.useMemo)(()=>"loading"===j&&"fetching"===S,[j,S]);return{data:t,error:n,isError:o,isFetched:s,isFetching:c,isIdle:P,isLoading:N,isRefetching:w,isSuccess:_,refetch:T,status:j,internal:{fetchStatus:S,dataUpdatedAt:r,errorUpdatedAt:i,failureCount:a,isFetchedAfterMount:u,isLoadingError:f,isPaused:d,isPlaceholderData:v,isPreviousData:g,isRefetchError:b,isStale:x,remove:E}}}var Z=r(3255),z=r(52798);function $(){return(0,z.useSyncExternalStoreWithSelector)(e=>(function(e){let t=(0,u.g)(),r=async()=>e(c()),n=t.subscribe(({provider:e})=>e,r);return n})(e),()=>c(),()=>c(),e=>e)}let W=(e,t)=>[{entity:"getPlaybackInfo",args:e,config:t}],Q=(e,t,r,n,i)=>{let a=l.useMemo(()=>e?t??r:n??i,[e,t,r,n,i]);return l.useMemo(()=>l.isValidElement(a)?l.cloneElement(a):null,[a])},G=(e,t)=>l.useMemo(()=>e&&l.isValidElement(e)?l.cloneElement(e):t,[e,t]);var K=r(84688),Y=r(5947),J=r(85893);let X=({streamKey:e,children:t,controls:r,theme:n,title:i,onError:a,aspectRatio:o="16to9",objectFit:s="contain",mediaElementRef:u,onPlaybackStatusUpdate:c,playbackStatusSelector:d,renderChildrenOutsideContainer:h})=>{let p=$(),f=l.useMemo(()=>{let t=p.getConfig().webrtcIngestBaseUrl;return e&&t?`${t}/${e}`:null},[e,p]),[m,v]=l.useState(null),[g,y]=l.useState(null),b=l.useCallback(e=>{let t=e?{type:(0,K.Qi)(e)?"access-control":(0,K.kN)(e)?"offline":"unknown",message:e?.message??"Error with playback."}:null;return y(t),e&&(console.warn(e),a?.(e)),e},[a]);l.useEffect(()=>{e&&y(null)},[e]);let w=l.useCallback(e=>{e&&(v(e),u?.(e))},[u]),x=l.useMemo(()=>({ref:w,ingestUrl:f,objectFit:s,options:r,broadcastError:g,onBroadcastError:b,onPlaybackStatusUpdate:c,playbackStatusSelector:d}),[g,w,r,f,s,b,c,d]),_=l.useMemo(()=>({autoPlay:!1,playbackId:void 0,muted:!1,priority:!1,ingestUrl:f??void 0}),[f]),k=l.useMemo(()=>({hidePosterOnPlayed:!0,showLoadingSpinner:!0,loadingText:null,showUploadingIndicator:!1,error:g}),[g]),T=l.useMemo(()=>({ingestUrl:f,children:t,controls:r,theme:n,title:i,aspectRatio:o,objectFit:s,onBroadcastError:b,onPlaybackStatusUpdate:c,renderChildrenOutsideContainer:h}),[f,o,t,r,s,n,i,b,c,h]);return{mediaElement:m,broadcastProps:x,mediaControllerProps:_,controlsContainerProps:k,props:T}},ee=e=>{let[t,r]=l.useState(null),{onChange:n,thumbIcon:i,defaultThumbIcon:a,sliderWidth:o,ariaName:s,isActive:u,leftCss:c,middleCss:d,rightCss:h,thumbCss:p}=e,f=u||null!==t,m=l.useCallback(async(e,t)=>{if(o){let i=Math.min(Math.max(0,e/o),1);t?(await n?.(i),r(null)):r(i)}},[n,o]),{value:v,middleValue:g}=l.useMemo(()=>{let r=null!==t?t:isNaN(e.value)?0:e.value,n=null!==t?0:!e.secondaryValue||isNaN(e.value)||isNaN(e.secondaryValue)?0:e.secondaryValue-e.value;return{value:r,middleValue:n>0?n:0}},[t,e.value,e.secondaryValue]),y=l.useMemo(()=>({css:{...p,zIndex:1},size:f?"active":"default"}),[p,f]),b=G(i,l.cloneElement(a,y)),w=l.useMemo(()=>1-(v+g),[v,g]),x=l.useMemo(()=>Math.round(100*v),[v]);return{title:`${x}% ${s}`,value:x,active:f,handle:b,sliderProps:{onUpdate:m},sliderLeftTrackProps:{shown:v>.001,rounded:1!==v||f?"left":"full",css:{...c,flex:v}},sliderMiddleTrackProps:{shown:(g??0)>0,rounded:1===g?f?"right":"full":v<=.001?"left":0===w?"right":"none",css:{...d,flex:g}},sliderRightTrackProps:{shown:(w??0)>0,rounded:v<=.001&&!f?"full":"right",css:{...h,flex:w}}}},et=e=>{let{togglePlay:t,canPlay:r,buffered:n,isBroadcast:i,_updateLastInteraction:a}=e,o=l.useMemo(()=>r||0!==n,[r,n]),s=l.useCallback(()=>{o&&(i?a():t())},[t,o,i,a]);return{isLoaded:o,containerProps:{onPress:s}}},er=e=>{let{enterIcon:t,exitIcon:r,onPress:n,fullscreen:i,pictureInPicture:a,requestToggleFullscreen:o,defaultEnterIcon:s,defaultExitIcon:u,...c}=e,d=l.useCallback(async()=>{await n?.(),await o()},[n,o]),h=Q(i,r,u,t,s),p=l.useMemo(()=>i?"Exit full screen (f)":"Full screen (f)",[i]);return{title:p,buttonProps:a?null:{onPress:d,children:h,...c}}},en=e=>{let{playIcon:t,pauseIcon:r,onPress:n,togglePlay:i,playing:a,defaultPauseIcon:o,defaultPlayIcon:s,...u}=e,c=async()=>{await n?.(),await i()},d=Q(a,r,o,t,s),h=l.useMemo(()=>a?"Pause (k)":"Play (k)",[a]);return{title:h,buttonProps:{onPress:c,children:d,...u}}},ei=e=>{let{duration:t,progress:r,requestSeek:n,buffered:i,live:a,...o}=e,[s,u,c]=l.useMemo(()=>[0,t&&!isNaN(t)?t:0,r&&!isNaN(r)?r:0],[t,r]),d=l.useMemo(()=>c/(u-s),[s,u,c]),h=l.useMemo(()=>i/(u-s),[s,u,i]),p=l.useCallback(async t=>{let r=t*(u-s);await e?.onSeek?.(r),n(r)},[u,s,n,e]),f=l.useMemo(()=>(t/60).toFixed(1),[t]);return{isVisible:!a,title:`progress of ${f} minutes`,progressProps:{onChange:p,value:d,secondaryValue:h,leftCss:{backgroundColor:"$progressLeft"},middleCss:{backgroundColor:"$progressMiddle"},rightCss:{backgroundColor:"$progressRight"},thumbCss:{backgroundColor:"$progressThumb"},...o}}},ea=e=>{if(null!=e&&!isNaN(e)&&isFinite(e)){let t=Math.round(e),r=Math.floor(t/3600),n=Math.floor(t%60);return r>0?`${r}:${Math.floor(t%3600/60).toString().padStart(2,"0")}:${n<10?"0":""}${n}`:`${Math.floor(t/60)}:${n.toString().padStart(2,"0")}`}return"0:00"},eo=e=>{let{duration:t,progress:r,live:n}=e,i=l.useMemo(()=>ea(r??null),[r]),a=l.useMemo(()=>ea(t??null),[t]),o=l.useMemo(()=>n?i:`${i} / ${a}`,[i,a,n]);return{title:o,live:n}},es=e=>{let{unmutedIcon:t,mutedIcon:r,onPress:n,showSlider:i=!0,defaultUnmutedIcon:a,defaultMutedIcon:o,requestVolume:s,requestToggleMute:u,isVolumeChangeSupported:c,muted:d,...h}=e,p=l.useCallback(async()=>{await n?.(),u()},[n,u]),f=Q(!d,t,a,r,o),m=l.useMemo(()=>d?"Unmute (m)":"Mute (m)",[d]),v=l.useCallback(async e=>{s(e)},[s]);return{title:m,buttonProps:{onPress:p,children:f,...h},progressProps:{shown:c&&i,onChange:v,leftCss:{backgroundColor:"$volumeLeft"},middleCss:{backgroundColor:"$volumeMiddle"},rightCss:{backgroundColor:"$volumeRight"},thumbCss:{backgroundColor:"$volumeThumb"}}}},el=({decentralizedSrcOrPlaybackId:e,playbackId:t,refetchPlaybackInfoInterval:r,autoUrlUpload:n,onAssetStatusChange:i})=>{let{mutate:a,status:o,progress:s}=function(e){let t=$(),[r,n]=(0,l.useState)(void 0),i=function(e,t,r){let{data:n,error:i,isError:a,isIdle:o,isLoading:s,isSuccess:u,mutate:c,mutateAsync:d,reset:f,variables:v,status:x}=function(e,t,r){let n=(0,p.lV)(e,t,void 0),i=(0,y.NL)({context:n.context}),[a]=l.useState(()=>new g(i,n));l.useEffect(()=>{a.setOptions(n)},[a,n]);let o=h(l.useCallback(e=>a.subscribe(m.V.batchCalls(e)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),s=l.useCallback((e,t)=>{a.mutate(e,t).catch(w)},[a]);if(o.error&&b(a.options.useErrorBoundary,[o.error]))throw o.error;return{...o,mutate:s,mutateAsync:o.mutate}}(t,{context:U.Q,mutationKey:r,..."object"==typeof e?.mutationConfig?(0,F.p)(e.mutationConfig,...B):{},useErrorBoundary:!1});return(0,l.useMemo)(()=>({data:n,error:i,isError:a,isIdle:o,isLoading:s,isSuccess:u,mutate:e?()=>c({...e,config:void 0}):void 0,mutateAsync:()=>e?d({...e,config:void 0}):void 0,variables:v,status:x,internal:{reset:f}}),[n,i,a,o,s,u,c,d,f,v,x,e])}(e,async e=>(function(e){let t=c();return t.createAsset(e)})({...e,onProgress:e=>n(e)}),[{entity:"createAsset",livepeerProvider:t}]);return(0,l.useMemo)(()=>({...i,progress:r}),[i,r])}(e?{sources:[{name:e.id,url:e.url}]}:null);l.useEffect(()=>{s?.[0]&&i(s[0])},[s,i]);let{data:u,error:d}=function(e){let t=$();return V(function(e,t){let r="string"==typeof e?e:{playbackId:e?.playbackId??""};return{clearClient:e.clearClient,queryKey:W(r,t.getConfig()),queryFn:async()=>(function(e){let t=c();return t.getPlaybackInfo(e)})(e),enabled:Boolean("string"==typeof e?e:e?.playbackId),..."object"==typeof e?(0,Z.ei)(e,...H):{}}}(e,t))}({playbackId:e?.id??t??void 0,staleTime:864e5,refetchInterval:e=>!e&&r}),f=l.useMemo(()=>d?.code,[d]);return l.useEffect(()=>{n&&a&&"idle"===o&&404===f&&a()},[n,f,a,o]),u},eu="https://w3s.link",ec="https://arweave.net",ed=({src:e,playbackId:t,jwt:r,refetchPlaybackInfoInterval:n,autoUrlUpload:i={fallback:!0},playbackInfo:a,screenWidth:o,accessKey:s,onAccessKeyRequest:u})=>{let[c,d]=l.useState(null),h=l.useCallback(e=>{d(e)},[d]),p=l.useMemo(()=>t?(0,Z.lV)(t)??(0,Z.qv)(t):Array.isArray(e)?null:(0,Z.lV)(e)??(0,Z.qv)(e),[t,e]),f=el({decentralizedSrcOrPlaybackId:p,playbackId:t,refetchPlaybackInfoInterval:n,autoUrlUpload:i,onAssetStatusChange:h}),m=l.useMemo(()=>a??f,[a,f]),v=l.useCallback(async()=>{if(s)return s;if(m?.meta?.playbackPolicy?.type==="webhook"){let e=await u?.(m.meta.playbackPolicy);return e??null}return null},[s,u,m]),{data:g}=V({queryKey:[m,u,s],queryFn:v,enabled:Boolean(m||s),staleTime:1/0}),[y,b]=l.useState([]);l.useEffect(()=>{let e=(o??1280)*2.5,t=(a??f)?.meta?.source?.map(t=>({url:t?.url,screenWidthDelta:t?.width?Math.abs(e-t.width):t?.url.includes("static360p")||t?.url.includes("low-bitrate")?Math.abs(e-480):t?.url.includes("static720p")?Math.abs(e-1280):t?.url.includes("static1080p")?Math.abs(e-1920):t?.url.includes("static2160p")?Math.abs(e-3840):null}))??null;t&&b(t)},[a,f,o]);let w=l.useMemo(()=>{if(p&&i){let t="boolean"!=typeof i?{arweaveGateway:i.arweaveGateway??ec,ipfsGateway:i.ipfsGateway??eu}:{arweaveGateway:ec,ipfsGateway:eu};if(p.url.startsWith("ar://")){let{host:r}=new URL(t.arweaveGateway),n={type:"video",mime:"video/mp4",src:`https://${r}/${p.id}`};return n}if(!p.url.startsWith("ipfs://"))return{type:"video",mime:"video/mp4",src:e};{let{host:a}=new URL(t.ipfsGateway),o={type:"video",mime:"video/mp4",src:`https://${a}/ipfs/${p.id}`};return o}}return null},[i,p,e]),[x,_]=l.useMemo(()=>{let t=["none",null],n=y.length>0?y.map(e=>e.url):"string"==typeof e?[e]:e;if(!n)return t;let i=n.map(e=>{if(r){let t=new URL(e);return t.searchParams.append("jwt",r),t.toString()}if(g){let n=new URL(e);return n.searchParams.append("accessKey",g),n.toString()}return e}),a=i.map(e=>"string"==typeof e?(0,Y.g)(e):null).filter(e=>e);return a?.[0]?.type==="audio"?["audio",a.filter(e=>"audio"===e.type)]:a?.[0]?.type==="video"||a?.[0]?.type==="hls"||a?.[0]?.type==="webrtc"?["video",a.filter(e=>"video"===e.type||"hls"===e.type||"webrtc"===e.type)]:t},[y,e,r,g]),k=l.useMemo(()=>{if(!_&&w)return[w];if("video"===x){let e=[..._];return e.sort((e,t)=>{if("video"===e.type&&"video"===t.type){let r=y.find(t=>t.url===e.src),n=y.find(e=>e.url===t.src);return n?.screenWidthDelta&&r?.screenWidthDelta?r.screenWidthDelta-n.screenWidthDelta:1}return"video"===e.type&&("hls"===t.type||"webrtc"===t.type)||"webrtc"===e.type&&"hls"===t.type?-1:1})}return _},[_,x,w,y]);return{source:k,uploadStatus:c}},eh=({autoPlay:e,children:t,controls:r,muted:n,playbackId:i,src:a,playbackInfo:o,theme:s,title:u,poster:c,loop:d,onStreamStatusChange:h,onAccessControlError:p,onError:f,onSourceUpdated:m,jwt:v,viewerId:g,refetchPlaybackInfoInterval:y=5e3,autoUrlUpload:b=!0,accessKey:w,onAccessKeyRequest:x,showLoadingSpinner:_=!0,showUploadingIndicator:k=!0,showTitle:T=!0,priority:E,aspectRatio:C="16to9",objectFit:S="contain",mediaElementRef:j,_isCurrentlyShown:L,onPlaybackStatusUpdate:P,playbackStatusSelector:R,renderChildrenOutsideContainer:I},{_screenWidth:M})=>{let[O,A]=l.useState(null),{source:N,uploadStatus:D}=ed({src:a,playbackId:i,jwt:v,refetchPlaybackInfoInterval:y,autoUrlUpload:b,screenWidth:M,playbackInfo:o,accessKey:w,onAccessKeyRequest:x}),[q,F]=l.useState(null),U=l.useCallback(e=>{let t=e?{type:(0,K.Qi)(e)?"access-control":(0,K.kN)(e)?"offline":"unknown",message:e?.message??"Error with playback."}:null;F(t);try{t&&console.log(t),e?t?.type==="offline"?h?.(!1):t?.type==="access-control"?p?.(Error(t.message)):t?.message&&f?.(Error(t.message)):h?.(!0)}catch(r){}return t},[p,h,f]);l.useEffect(()=>{N&&(m?.(N),F(null))},[N,m]);let[B,H]=l.useState(!1),V=l.useMemo(()=>E||L||B,[E,L,B]);l.useEffect(()=>{L&&!B&&H(!0)},[L,B]);let z=l.useMemo(()=>Array.isArray(N)&&N?.[0]?.type!=="audio"||void 0,[N]),$=l.useCallback(e=>{e&&(A(e),j?.(e))},[j]),W=l.useMemo(()=>k?D?.phase==="processing"&&(0,Z.hj)(D?.progress)?`Processing: ${(100*Number(D?.progress)).toFixed(0)}%`:D?.phase==="failed"?"Upload Failed":null:null,[D,k]),Q=l.useMemo(()=>({ref:$,autoPlay:e,playbackId:i,muted:n,poster:c,loop:d,objectFit:S,options:r,priority:E,playbackError:q,onPlaybackError:U,isCurrentlyShown:L,viewerId:g,onPlaybackStatusUpdate:P,playbackStatusSelector:R}),[$,i,e,n,c,d,S,r,E,q,U,L,g,P,R]),G=l.useMemo(()=>({autoPlay:e,playbackId:i??void 0,muted:n,priority:E,viewerId:g}),[e,i,n,E,g]),Y=l.useMemo(()=>({hidePosterOnPlayed:z,showLoadingSpinner:_,loadingText:W,showUploadingIndicator:k,error:q}),[z,_,W,k,q]),J=l.useMemo(()=>({autoPlay:e,children:t,controls:r,playbackId:i,src:a,theme:s,title:u,poster:c,loop:d,jwt:v,refetchPlaybackInfoInterval:y,autoUrlUpload:b,showTitle:T,aspectRatio:C,objectFit:S,renderChildrenOutsideContainer:I}),[e,t,r,i,a,s,u,c,d,v,y,b,T,C,S,I]),X=l.useMemo(()=>V?N:null,[V,N]);return{mediaElement:O,source:X,uploadStatus:D,playerProps:Q,mediaControllerProps:G,controlsContainerProps:Y,props:J}};r(41539),r(39714);var ep=r(51115),ef=r(24270),em=r(88462);r(4480),r(21249),r(23157),r(47042),r(66992),r(78783),r(33948),r(60285),r(41637),r(88674);var ev=r(54098),eg=r.n(ev),ey=r(4792);r(74916),r(15306),r(26699),r(32023);var eb=function(){if(!(0,ey.i)())return!1;var e,t,r,n,i,a,o,s,l,u,c,d,h=!!(null!==(e=window)&&void 0!==e&&e.RTCPeerConnection||null!==(t=window)&&void 0!==t&&t.webkitRTCPeerConnection||null!==(r=window)&&void 0!==r&&r.mozRTCPeerConnection),p=!!(null!==(n=navigator)&&void 0!==n&&n.getUserMedia||null!==(i=navigator)&&void 0!==i&&null!==(a=i.mediaDevices)&&void 0!==a&&a.getUserMedia||null!==(o=navigator)&&void 0!==o&&o.webkitGetUserMedia||null!==(s=navigator)&&void 0!==s&&s.mozGetUserMedia||null!==(l=navigator)&&void 0!==l&&l.msGetUserMedia),f=!!(null!==(u=window)&&void 0!==u&&u.RTCDataChannel||null!==(c=window)&&void 0!==c&&c.webkitRTCDataChannel||null!==(d=window)&&void 0!==d&&d.mozRTCDataChannel);return h&&p&&f};function ew(e){var t,r,n,i=(null===(t=window)||void 0===t?void 0:t.RTCPeerConnection)||(null===(r=window)||void 0===r?void 0:r.webkitRTCPeerConnection)||(null===(n=window)||void 0===n?void 0:n.mozRTCPeerConnection);return i?new i({iceServers:e?[{urls:"stun:".concat(e)},{urls:"turn:".concat(e),username:"livepeer",credential:"livepeer"}]:[]}):null}function ex(e,t,r,n){return e_.apply(this,arguments)}function e_(){return(e_=(0,ef._)((0,ef.a)().mark(function e(t,r,n,i){var a,o,s;return(0,ef.a)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&r&&n)){e.next=20;break}return e.next=3,function(e,t,r){return eE.apply(this,arguments)}(r,n.sdp,i);case 3:if(!(a=e.sent).ok){e.next=14;break}return e.next=7,a.text();case 7:return o=e.sent,e.next=10,t.setRemoteDescription(new RTCSessionDescription({type:"answer",sdp:o}));case 10:return s=a.headers.get("Link"),e.abrupt("return",function(e){try{var t,r=null==e?void 0:e.split(", ").map(function(e){var t,r=e.split("; "),n={urls:""},i=(0,em.b)(r);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.startsWith("stun:")||a.startsWith("turn:")?n.urls=a:a.startsWith("username=")?n.username=a.slice(10,-1):a.startsWith("credential=")&&(n.credential=a.slice(12,-1))}}catch(o){i.e(o)}finally{i.f()}return n}).filter(function(e){return e.urls});return r&&(null!==(t=null==r?void 0:r.length)&&void 0!==t?t:0)>0?r:null}catch(n){console.error(n)}return null}(s));case 14:return e.next=16,a.text();case 16:throw Error(e.sent);case 18:e.next=21;break;case 20:throw Error("Peer connection not defined.");case 21:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ek(e,t){return eT.apply(this,arguments)}function eT(){return(eT=(0,ef._)((0,ef.a)().mark(function e(t,r){var n,i;return(0,ef.a)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t&&r)){e.next=12;break}return e.next=3,t.createOffer();case 3:return n=e.sent,e.next=6,t.setLocalDescription(n);case 6:return e.next=8,function(e){return ej.apply(this,arguments)}(t);case 8:if(i=e.sent){e.next=11;break}throw Error("failed to gather ICE candidates for offer");case 11:return e.abrupt("return",i);case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function eE(){return(eE=(0,ef._)((0,ef.a)().mark(function e(t,r,n){var i,a,o;return(0,ef.a)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=new AbortController,a=setTimeout(function(){return i.abort()},null!=n?n:1e4),e.next=4,eg()(t,{method:"POST",mode:"cors",headers:{"content-type":"application/sdp"},body:r,signal:i.signal});case 4:return o=e.sent,clearTimeout(a),e.abrupt("return",o);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function eC(e,t,r){return eS.apply(this,arguments)}function eS(){return(eS=(0,ef._)((0,ef.a)().mark(function e(t,r,n){var i,a,o;return(0,ef.a)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=setTimeout(function(){return r.abort()},null!=n?n:1e4),e.prev=1,e.next=4,eg()(t,{method:"HEAD",signal:r.signal});case 4:return a=e.sent,clearTimeout(i),o=new URL(a.url),e.abrupt("return",o);case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",null);case 13:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function ej(){return(ej=(0,ef._)((0,ef.a)().mark(function e(t){return(0,ef.a)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e){setTimeout(function(){e(t.localDescription)},5e3),t.onicegatheringstatechange=function(r){"complete"===t.iceGatheringState&&e(t.localDescription)}}));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}var eL=function(e,t,r,n){var i=!1,a=new AbortController,o=null,s=new MediaStream;return eC(e,a,null==n?void 0:n.sdpTimeout).then(function(e){if(!i&&e){var a,l,u,c=e.toString();(o=ew(e.host))&&(o.addTransceiver("video",{direction:"recvonly"}),o.addTransceiver("audio",{direction:"recvonly"}),o.ontrack=(a=(0,ef._)((0,ef.a)().mark(function e(t){var n,i,a,o,l;return(0,ef.a)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!s){e.next=18;break}n=t.track,a=(i=s.getTracks()).some(function(e){return"video"===e.kind}),o=i.some(function(e){return"audio"===e.kind}),e.t0=n.kind,e.next="video"===e.t0?9:"audio"===e.t0?13:17;break;case 9:if(!a){e.next=11;break}return e.abrupt("break",18);case 11:case 15:return s.addTrack(n),e.abrupt("break",18);case 13:if(!o){e.next=15;break}return e.abrupt("break",18);case 17:console.log("got unknown track "+n);case 18:e.next=23;break;case 20:e.prev=20,e.t1=e.catch(0),null==r||null===(l=r.onError)||void 0===l||l.call(r,e.t1);case 23:case"end":return e.stop()}},e,null,[[0,20]])})),function(e){return a.apply(this,arguments)}),o.addEventListener("connectionstatechange",(l=(0,ef._)((0,ef.a)().mark(function e(n){var i,a,l,u;return(0,ef.a)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(null===(i=o)||void 0===i?void 0:i.connectionState)!=="failed"){e.next=3;break}throw Error("Failed to connect to peer.");case 3:(null===(a=o)||void 0===a?void 0:a.connectionState)!=="connected"||t.srcObject||(t.srcObject=s,null==r||null===(l=r.onConnected)||void 0===l||l.call(r)),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),null==r||null===(u=r.onError)||void 0===u||u.call(r,e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])})),function(e){return l.apply(this,arguments)})),o.addEventListener("negotiationneeded",(u=(0,ef._)((0,ef.a)().mark(function e(t){var i,a;return(0,ef.a)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ek(o,c);case 3:return i=e.sent,e.next=6,ex(o,c,i,null==n?void 0:n.sdpTimeout);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),null==r||null===(a=r.onError)||void 0===a||a.call(r,e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),function(e){return u.apply(this,arguments)})))}}).catch(function(e){var t;return null==r?void 0:null===(t=r.onError)||void 0===t?void 0:t.call(r,e)}),{destroy:function(){var e,r,n;i=!0,null==a||null===(e=a.abort)||void 0===e||e.call(a),t&&(t.srcObject=null),null===(r=o)||void 0===r||null===(n=r.close)||void 0===n||n.call(r)}}};function eP(e){return(eP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var eR=function(e,t,r,n,i){var a=!1,o=new AbortController,s=null,l=null,u=null,c=null,d=null;return eC(e,o,null==i?void 0:i.sdpTimeout).then(function(e){if(!a&&e){var o,h,p,f=e.toString().replace("video+","");(s=ew(e.host))&&(s.addEventListener("negotiationneeded",(o=(0,ef._)((0,ef.a)().mark(function e(t){var r,a;return(0,ef.a)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ek(s,f);case 3:return r=e.sent,e.next=6,ex(s,f,r,null==i?void 0:i.sdpTimeout);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),null==n||null===(a=n.onError)||void 0===a||a.call(n,e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),function(e){return o.apply(this,arguments)})),s.addEventListener("connectionstatechange",(h=(0,ef._)((0,ef.a)().mark(function e(r){var i,a,o,d;return(0,ef.a)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(null===(i=s)||void 0===i?void 0:i.connectionState)!=="failed"){e.next=3;break}throw Error("Failed to connect to peer.");case 3:(null===(a=s)||void 0===a?void 0:a.connectionState)==="connected"&&l&&c&&u&&(t.srcObject=l,null==n||null===(o=n.onConnected)||void 0===o||o.call(n,{stream:l,videoTransceiver:u,audioTransceiver:c})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),null==n||null===(d=n.onError)||void 0===d||d.call(n,e.t0);case 9:case"end":return e.stop()}},e,null,[[0,6]])})),function(e){return h.apply(this,arguments)})),navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((p=(0,ef._)((0,ef.a)().mark(function e(t){var n,i,a,o,d,h,p,f,m,v,g,y;return(0,ef.a)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(p=null!==(n=null==t?void 0:null===(i=t.getVideoTracks)||void 0===i?void 0:null===(a=i.call(t))||void 0===a?void 0:a[0])&&void 0!==n?n:null,f=null!==(o=null==t?void 0:null===(d=t.getAudioTracks)||void 0===d?void 0:null===(h=d.call(t))||void 0===h?void 0:h[0])&&void 0!==o?o:null,!p){e.next=6;break}return e.next=5,p.applyConstraints(eN(null!=r?r:"16to9"));case 5:u=null!==(m=null===(v=s)||void 0===v?void 0:v.addTransceiver(p,{direction:"sendonly"}))&&void 0!==m?m:null;case 6:f&&(c=null!==(g=null===(y=s)||void 0===y?void 0:y.addTransceiver(f,{direction:"sendonly"}))&&void 0!==g?g:null),l=t;case 8:case"end":return e.stop()}},e)})),function(e){return p.apply(this,arguments)})).catch(function(e){var t;return null==n?void 0:null===(t=n.onError)||void 0===t?void 0:t.call(n,e)}),d=function(){eg()(f,{method:"DELETE",mode:"cors"}).catch(function(e){var t;return null==n?void 0:null===(t=n.onError)||void 0===t?void 0:t.call(n,e)})})}}).catch(function(e){var t;return null==n?void 0:null===(t=n.onError)||void 0===t?void 0:t.call(n,e)}),{destroy:function(){null===(e=d)||void 0===e||e(),a=!0,null==o||null===(r=o.abort)||void 0===r||r.call(o),t&&(t.srcObject=null),null===(n=s)||void 0===n||null===(i=n.close)||void 0===i||i.call(n);var e,r,n,i,u,c,h,p,f=null!==(u=null===(c=l)||void 0===c?void 0:null===(h=c.getTracks)||void 0===h?void 0:h.call(c))&&void 0!==u?u:[],m=(0,em.b)(f);try{for(m.s();!(p=m.n()).done;){var v,g=p.value;null==g||null===(v=g.stop)||void 0===v||v.call(g)}}catch(y){m.e(y)}finally{m.f()}}}},eI=(i=(0,ef._)((0,ef.a)().mark(function e(t){var r,n,i,a,o,s,l,u,c,d,h,p,f,m,v,g,y,b,w,x,_,k,T,E,C;return(0,ef.a)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(f=t.newMediaStream,m=t.prevMediaStream,v=t.aspectRatio,g=t.element,y=t.onConnected,b=t.videoTransceiver,w=t.audioTransceiver,x=null!==(r=null==m?void 0:null===(n=m.getVideoTracks)||void 0===n?void 0:null===(i=n.call(m))||void 0===i?void 0:i[0])&&void 0!==r?r:null,_=null!==(a=null==m?void 0:null===(o=m.getAudioTracks)||void 0===o?void 0:null===(s=o.call(m))||void 0===s?void 0:s[0])&&void 0!==a?a:null,k=null!==(l=null==f?void 0:null===(u=f.getVideoTracks)||void 0===u?void 0:null===(c=u.call(f))||void 0===c?void 0:c[0])&&void 0!==l?l:null,T=null!==(d=null==f?void 0:null===(h=f.getAudioTracks)||void 0===h?void 0:null===(p=h.call(f))||void 0===p?void 0:p[0])&&void 0!==d?d:null,!k){e.next=11;break}return e.next=8,k.applyConstraints(eN(v));case 8:return e.next=10,b.sender.replaceTrack(k);case 10:k.enabled=null===(E=null==x?void 0:x.enabled)||void 0===E||E;case 11:if(!T){e.next=15;break}return e.next=14,w.sender.replaceTrack(T);case 14:T.enabled=null===(C=null==_?void 0:_.enabled)||void 0===C||C;case 15:g.srcObject=f,y({stream:f,videoTransceiver:b,audioTransceiver:w});case 17:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)}),eM=(a=(0,ef._)((0,ef.a)().mark(function e(t){var r,n,i,a,o,s,l,u;return(0,ef.a)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.source,e.prev=1,e.next=4,null===(n=navigator)||void 0===n?void 0:null===(i=n.mediaDevices)||void 0===i?void 0:i.getUserMedia((0,ef.b)((0,ef.b)({},"object"===eP(r.streamConstraints)?r.streamConstraints:{}),{},{video:(0,ef.b)((0,ef.b)({},"boolean"!=typeof(null===(a=r.streamConstraints)||void 0===a?void 0:a.video)?null===(o=r.streamConstraints)||void 0===o?void 0:o.video:{}),null!=r&&r.videoDeviceId?{deviceId:null==r?void 0:r.videoDeviceId}:{}),audio:(0,ef.b)((0,ef.b)({},"boolean"!=typeof(null===(s=r.streamConstraints)||void 0===s?void 0:s.audio)?null===(l=r.streamConstraints)||void 0===l?void 0:l.audio:{}),null!=r&&r.audioDeviceId?{deviceId:null==r?void 0:r.audioDeviceId}:{})}));case 4:return u=e.sent,e.abrupt("return",null!=u?u:null);case 8:return e.prev=8,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}},e,null,[[1,8]])})),function(e){return a.apply(this,arguments)}),eO=function(e){var t,r;if("undefined"!=typeof navigator&&null!==(t=navigator)&&void 0!==t&&null!==(r=t.mediaDevices)&&void 0!==r&&r.enumerateDevices){var n=function(){navigator.mediaDevices.enumerateDevices().then(function(t){return e(t)})};return navigator.mediaDevices.addEventListener("devicechange",n),n(),function(){navigator.mediaDevices.removeEventListener("devicechange",n)}}return function(){}},eA=(o=(0,ef._)((0,ef.a)().mark(function e(t){var r,n,i;return(0,ef.a)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!("undefined"!=typeof navigator&&null!==(r=navigator)&&void 0!==r&&null!==(n=r.mediaDevices)&&void 0!==n&&n.getDisplayMedia)){e.next=6;break}return e.next=4,navigator.mediaDevices.getDisplayMedia(t);case 4:return i=e.sent,e.abrupt("return",i);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}},e,null,[[0,8]])})),function(e){return o.apply(this,arguments)}),eN=function(e){return{width:{ideal:1280},height:{ideal:720},aspectRatio:{ideal:"9to16"===e?9/16:"1to1"===e?1:"21to9"===e?21/9:"4to5"===e?.8:16/9}}},eD=r(36135),eq=r(87462),eF=r(36206),eU=r(45623),eB=r(25360),eH=r(91276),eV=r(77342),eZ=r(46063),ez=r(95420),e$=r(42651),eW=r(29115),eQ=r(75320),eG=r(27552),eK=r(71930),eY=r(23541),eJ=r(88426);let eX="Dialog",[e0,e1]=(0,eB.b)(eX),[e2,e5]=e0(eX),e4=e=>{let{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=e,s=(0,l.useRef)(null),u=(0,l.useRef)(null),[c=!1,d]=(0,eV.T)({prop:n,defaultProp:i,onChange:a});return(0,l.createElement)(e2,{scope:t,triggerRef:s,contentRef:u,contentId:(0,eH.M)(),titleId:(0,eH.M)(),descriptionId:(0,eH.M)(),open:c,onOpenChange:d,onOpenToggle:(0,l.useCallback)(()=>d(e=>!e),[d]),modal:o},r)},e6=(0,l.forwardRef)((e,t)=>{let{__scopeDialog:r,...n}=e,i=e5("DialogTrigger",r),a=(0,eU.e)(t,i.triggerRef);return(0,l.createElement)(eQ.WV.button,(0,eq.Z)({type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":td(i.open)},n,{ref:a,onClick:(0,eF.M)(e.onClick,i.onOpenToggle)}))}),e3="DialogPortal",[e9,e8]=e0(e3,{forceMount:void 0}),e7=e=>{let{__scopeDialog:t,forceMount:r,children:n,container:i}=e,a=e5(e3,t);return(0,l.createElement)(e9,{scope:t,forceMount:r},l.Children.map(n,e=>(0,l.createElement)(eW.z,{present:r||a.open},(0,l.createElement)(e$.h,{asChild:!0,container:i},e))))},te="DialogOverlay",tt=(0,l.forwardRef)((e,t)=>{let r=e8(te,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=e5(te,e.__scopeDialog);return a.modal?(0,l.createElement)(eW.z,{present:n||a.open},(0,l.createElement)(tr,(0,eq.Z)({},i,{ref:t}))):null}),tr=(0,l.forwardRef)((e,t)=>{let{__scopeDialog:r,...n}=e,i=e5(te,r);return(0,l.createElement)(eK.Z,{as:eJ.g7,allowPinchZoom:!0,shards:[i.contentRef]},(0,l.createElement)(eQ.WV.div,(0,eq.Z)({"data-state":td(i.open)},n,{ref:t,style:{pointerEvents:"auto",...n.style}})))}),tn="DialogContent",ti=(0,l.forwardRef)((e,t)=>{let r=e8(tn,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,a=e5(tn,e.__scopeDialog);return(0,l.createElement)(eW.z,{present:n||a.open},a.modal?(0,l.createElement)(ta,(0,eq.Z)({},i,{ref:t})):(0,l.createElement)(to,(0,eq.Z)({},i,{ref:t})))}),ta=(0,l.forwardRef)((e,t)=>{let r=e5(tn,e.__scopeDialog),n=(0,l.useRef)(null),i=(0,eU.e)(t,r.contentRef,n);return(0,l.useEffect)(()=>{let e=n.current;if(e)return(0,eY.Ry)(e)},[]),(0,l.createElement)(ts,(0,eq.Z)({},e,{ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,eF.M)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null===(t=r.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:(0,eF.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,n=2===t.button||r;n&&e.preventDefault()}),onFocusOutside:(0,eF.M)(e.onFocusOutside,e=>e.preventDefault())}))}),to=(0,l.forwardRef)((e,t)=>{let r=e5(tn,e.__scopeDialog),n=(0,l.useRef)(!1),i=(0,l.useRef)(!1);return(0,l.createElement)(ts,(0,eq.Z)({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var a,o;null===(a=e.onCloseAutoFocus)||void 0===a||a.call(e,t),t.defaultPrevented||(n.current||null===(o=r.triggerRef.current)||void 0===o||o.focus(),t.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:t=>{var a,o;null===(a=e.onInteractOutside)||void 0===a||a.call(e,t),t.defaultPrevented||(n.current=!0,"pointerdown"!==t.detail.originalEvent.type||(i.current=!0));let s=t.target,l=null===(o=r.triggerRef.current)||void 0===o?void 0:o.contains(s);l&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}}))}),ts=(0,l.forwardRef)((e,t)=>{let{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=e,s=e5(tn,r),u=(0,l.useRef)(null),c=(0,eU.e)(t,u);return(0,eG.EW)(),(0,l.createElement)(l.Fragment,null,(0,l.createElement)(ez.M,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a},(0,l.createElement)(eZ.XB,(0,eq.Z)({role:"dialog",id:s.contentId,"aria-describedby":s.descriptionId,"aria-labelledby":s.titleId,"data-state":td(s.open)},o,{ref:c,onDismiss:()=>s.onOpenChange(!1)}))),!1)}),tl="DialogTitle",tu=(0,l.forwardRef)((e,t)=>{let{__scopeDialog:r,...n}=e,i=e5(tl,r);return(0,l.createElement)(eQ.WV.h2,(0,eq.Z)({id:i.titleId},n,{ref:t}))}),tc=(0,l.forwardRef)((e,t)=>{let{__scopeDialog:r,...n}=e,i=e5("DialogClose",r);return(0,l.createElement)(eQ.WV.button,(0,eq.Z)({type:"button"},n,{ref:t,onClick:(0,eF.M)(e.onClick,()=>i.onOpenChange(!1))}))});function td(e){return e?"open":"closed"}let[th,tp]=(0,eB.k)("DialogTitleWarning",{contentName:tn,titleName:tl,docsSlug:"dialog"});r(92222);var tf=r(73935);function tm(e,[t,r]){return Math.min(r,Math.max(t,e))}var tv=r(65936),tg=r(78990),ty=r(42043),tb=r(79698),tw=r(9981);let tx=(0,l.forwardRef)((e,t)=>(0,l.createElement)(eQ.WV.span,(0,eq.Z)({},e,{ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))),t_=[" ","Enter","ArrowUp","ArrowDown"],tk=[" ","Enter"],tT="Select",[tE,tC,tS]=(0,tv.B)(tT),[tj,tL]=(0,eB.b)(tT,[tS,ty.D7]),tP=(0,ty.D7)(),[tR,tI]=tj(tT),[tM,tO]=tj(tT),tA=e=>{let{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:s,onValueChange:u,dir:c,name:d,autoComplete:h,disabled:p,required:f}=e,m=tP(t),[v,g]=(0,l.useState)(null),[y,b]=(0,l.useState)(null),[w,x]=(0,l.useState)(!1),_=(0,tg.gm)(c),[k=!1,T]=(0,eV.T)({prop:n,defaultProp:i,onChange:a}),[E,C]=(0,eV.T)({prop:o,defaultProp:s,onChange:u}),S=(0,l.useRef)(null),j=!v||Boolean(v.closest("form")),[L,P]=(0,l.useState)(new Set),R=Array.from(L).map(e=>e.props.value).join(";");return(0,l.createElement)(ty.fC,m,(0,l.createElement)(tR,{required:f,scope:t,trigger:v,onTriggerChange:g,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:w,onValueNodeHasChildrenChange:x,contentId:(0,eH.M)(),value:E,onValueChange:C,open:k,onOpenChange:T,dir:_,triggerPointerDownPosRef:S,disabled:p},(0,l.createElement)(tE.Provider,{scope:t},(0,l.createElement)(tM,{scope:e.__scopeSelect,onNativeOptionAdd:(0,l.useCallback)(e=>{P(t=>new Set(t).add(e))},[]),onNativeOptionRemove:(0,l.useCallback)(e=>{P(t=>{let r=new Set(t);return r.delete(e),r})},[])},r)),j?(0,l.createElement)(t9,{key:R,"aria-hidden":!0,required:f,tabIndex:-1,name:d,autoComplete:h,value:E,onChange:e=>C(e.target.value),disabled:p},void 0===E?(0,l.createElement)("option",{value:""}):null,Array.from(L)):null))},tN=(0,l.forwardRef)((e,t)=>{let{__scopeSelect:r,disabled:n=!1,...i}=e,a=tP(r),o=tI("SelectTrigger",r),s=o.disabled||n,u=(0,eU.e)(t,o.onTriggerChange),c=tC(r),[d,h,p]=t8(e=>{let t=c().filter(e=>!e.disabled),r=t.find(e=>e.value===o.value),n=t7(t,e,r);void 0!==n&&o.onValueChange(n.value)}),f=()=>{s||(o.onOpenChange(!0),p())};return(0,l.createElement)(ty.ee,(0,eq.Z)({asChild:!0},a),(0,l.createElement)(eQ.WV.button,(0,eq.Z)({type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:s,"data-disabled":s?"":void 0,"data-placeholder":void 0===o.value?"":void 0},i,{ref:u,onClick:(0,eF.M)(i.onClick,e=>{e.currentTarget.focus()}),onPointerDown:(0,eF.M)(i.onPointerDown,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&(f(),o.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)},e.preventDefault())}),onKeyDown:(0,eF.M)(i.onKeyDown,e=>{let t=""!==d.current,r=e.ctrlKey||e.altKey||e.metaKey;r||1!==e.key.length||h(e.key),(!t||" "!==e.key)&&t_.includes(e.key)&&(f(),e.preventDefault())})})))}),tD=(0,l.forwardRef)((e,t)=>{let{__scopeSelect:r,className:n,style:i,children:a,placeholder:o,...s}=e,u=tI("SelectValue",r),{onValueNodeHasChildrenChange:c}=u,d=void 0!==a,h=(0,eU.e)(t,u.onValueNodeChange);return(0,tw.b)(()=>{c(d)},[c,d]),(0,l.createElement)(eQ.WV.span,(0,eq.Z)({},s,{ref:h,style:{pointerEvents:"none"}}),void 0===u.value&&void 0!==o?o:a)}),tq=(0,l.forwardRef)((e,t)=>{let{__scopeSelect:r,children:n,...i}=e;return(0,l.createElement)(eQ.WV.span,(0,eq.Z)({"aria-hidden":!0},i,{ref:t}),n||"")}),tF=e=>(0,l.createElement)(e$.h,(0,eq.Z)({asChild:!0},e)),tU="SelectContent",tB=(0,l.forwardRef)((e,t)=>{let r=tI(tU,e.__scopeSelect),[n,i]=(0,l.useState)();return((0,tw.b)(()=>{i(new DocumentFragment)},[]),r.open)?(0,l.createElement)(tZ,(0,eq.Z)({},e,{ref:t})):n?(0,tf.createPortal)((0,l.createElement)(tH,{scope:e.__scopeSelect},(0,l.createElement)(tE.Slot,{scope:e.__scopeSelect},(0,l.createElement)("div",null,e.children))),n):null}),[tH,tV]=tj(tU),tZ=(0,l.forwardRef)((e,t)=>{let{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:s,sideOffset:u,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:m,hideWhenDetached:v,avoidCollisions:g,...y}=e,b=tI(tU,r),[w,x]=(0,l.useState)(null),[_,k]=(0,l.useState)(null),T=(0,eU.e)(t,e=>x(e)),[E,C]=(0,l.useState)(null),[S,j]=(0,l.useState)(null),L=tC(r),[P,R]=(0,l.useState)(!1),I=(0,l.useRef)(!1);(0,l.useEffect)(()=>{if(w)return(0,eY.Ry)(w)},[w]),(0,eG.EW)();let M=(0,l.useCallback)(e=>{let[t,...r]=L().map(e=>e.ref.current),[n]=r.slice(-1),i=document.activeElement;for(let a of e)if(a===i||(null==a||a.scrollIntoView({block:"nearest"}),a===t&&_&&(_.scrollTop=0),a===n&&_&&(_.scrollTop=_.scrollHeight),null==a||a.focus(),document.activeElement!==i))return},[L,_]),O=(0,l.useCallback)(()=>M([E,w]),[M,E,w]);(0,l.useEffect)(()=>{P&&O()},[P,O]);let{onOpenChange:A,triggerPointerDownPosRef:N}=b;(0,l.useEffect)(()=>{if(w){let e={x:0,y:0},t=t=>{var r,n,i,a;e={x:Math.abs(Math.round(t.pageX)-(null!==(r=null===(n=N.current)||void 0===n?void 0:n.x)&&void 0!==r?r:0)),y:Math.abs(Math.round(t.pageY)-(null!==(i=null===(a=N.current)||void 0===a?void 0:a.y)&&void 0!==i?i:0))}},r=r=>{e.x<=10&&e.y<=10?r.preventDefault():w.contains(r.target)||A(!1),document.removeEventListener("pointermove",t),N.current=null};return null!==N.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",r,{capture:!0})}}},[w,A,N]),(0,l.useEffect)(()=>{let e=()=>A(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[A]);let[D,q]=t8(e=>{let t=L().filter(e=>!e.disabled),r=t.find(e=>e.ref.current===document.activeElement),n=t7(t,e,r);n&&setTimeout(()=>n.ref.current.focus())}),F=(0,l.useCallback)((e,t,r)=>{let n=!I.current&&!r,i=void 0!==b.value&&b.value===t;(i||n)&&(C(e),n&&(I.current=!0))},[b.value]),U=(0,l.useCallback)(()=>null==w?void 0:w.focus(),[w]),B=(0,l.useCallback)((e,t,r)=>{let n=!I.current&&!r,i=void 0!==b.value&&b.value===t;(i||n)&&j(e)},[b.value]),H="popper"===n?t$:tz;return(0,l.createElement)(tH,{scope:r,content:w,viewport:_,onViewportChange:k,itemRefCallback:F,selectedItem:E,onItemLeave:U,itemTextRefCallback:B,focusSelectedItem:O,selectedItemText:S,position:n,isPositioned:P,searchRef:D},(0,l.createElement)(eK.Z,{as:eJ.g7,allowPinchZoom:!0},(0,l.createElement)(ez.M,{asChild:!0,trapped:b.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:(0,eF.M)(i,e=>{var t;null===(t=b.trigger)||void 0===t||t.focus({preventScroll:!0}),e.preventDefault()})},(0,l.createElement)(eZ.XB,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>b.onOpenChange(!1)},(0,l.createElement)(H,(0,eq.Z)({role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:e=>e.preventDefault()},y,H===t$?{side:s,sideOffset:u,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:m,hideWhenDetached:v,avoidCollisions:g}:{},{onPlaced:()=>R(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:(0,eF.M)(y.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||q(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let r=L().filter(e=>!e.disabled),n=r.map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(n=n.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let i=e.target,a=n.indexOf(i);n=n.slice(a+1)}setTimeout(()=>M(n)),e.preventDefault()}})}))))))}),tz=(0,l.forwardRef)((e,t)=>{let{__scopeSelect:r,onPlaced:n,...i}=e,a=tI(tU,r),o=tV(tU,r),[s,u]=(0,l.useState)(null),[c,d]=(0,l.useState)(null),h=(0,eU.e)(t,e=>d(e)),p=tC(r),f=(0,l.useRef)(!1),m=(0,l.useRef)(!0),{viewport:v,selectedItem:g,selectedItemText:y,focusSelectedItem:b}=o,w=(0,l.useCallback)(()=>{if(a.trigger&&a.valueNode&&s&&c&&v&&g&&y){let e=a.trigger.getBoundingClientRect(),t=c.getBoundingClientRect(),r=a.valueNode.getBoundingClientRect(),i=y.getBoundingClientRect();if("rtl"!==a.dir){let o=i.left-t.left,l=r.left-o,u=e.left-l,d=e.width+u,h=Math.max(d,t.width),m=window.innerWidth-10,b=tm(l,[10,m-h]);s.style.minWidth=d+"px",s.style.left=b+"px"}else{let w=t.right-i.right,x=window.innerWidth-r.right-w,_=window.innerWidth-e.right-x,k=e.width+_,T=Math.max(k,t.width),E=window.innerWidth-10,C=tm(x,[10,E-T]);s.style.minWidth=k+"px",s.style.right=C+"px"}let S=p(),j=window.innerHeight-20,L=v.scrollHeight,P=window.getComputedStyle(c),R=parseInt(P.borderTopWidth,10),I=parseInt(P.paddingTop,10),M=parseInt(P.borderBottomWidth,10),O=parseInt(P.paddingBottom,10),A=R+I+L+O+M,N=Math.min(5*g.offsetHeight,A),D=window.getComputedStyle(v),q=parseInt(D.paddingTop,10),F=parseInt(D.paddingBottom,10),U=e.top+e.height/2-10,B=g.offsetHeight/2,H=g.offsetTop+B,V=R+I+H;if(V<=U){let Z=g===S[S.length-1].ref.current;s.style.bottom="0px";let z=c.clientHeight-v.offsetTop-v.offsetHeight;s.style.height=V+Math.max(j-U,B+(Z?F:0)+z+M)+"px"}else{let $=g===S[0].ref.current;s.style.top="0px";let W=Math.max(U,R+v.offsetTop+($?q:0)+B);s.style.height=W+(A-V)+"px",v.scrollTop=V-U+v.offsetTop}s.style.margin="10px 0",s.style.minHeight=N+"px",s.style.maxHeight=j+"px",null==n||n(),requestAnimationFrame(()=>f.current=!0)}},[p,a.trigger,a.valueNode,s,c,v,g,y,a.dir,n]);(0,tw.b)(()=>w(),[w]);let[x,_]=(0,l.useState)();(0,tw.b)(()=>{c&&_(window.getComputedStyle(c).zIndex)},[c]);let k=(0,l.useCallback)(e=>{e&&!0===m.current&&(w(),null==b||b(),m.current=!1)},[w,b]);return(0,l.createElement)(tW,{scope:r,contentWrapper:s,shouldExpandOnScrollRef:f,onScrollButtonChange:k},(0,l.createElement)("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:x}},(0,l.createElement)(eQ.WV.div,(0,eq.Z)({},i,{ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}}))))}),t$=(0,l.forwardRef)((e,t)=>{let{__scopeSelect:r,align:n="start",collisionPadding:i=10,...a}=e,o=tP(r);return(0,l.createElement)(ty.VY,(0,eq.Z)({},o,a,{ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[tW,tQ]=tj(tU,{}),tG="SelectViewport",tK=(0,l.forwardRef)((e,t)=>{let{__scopeSelect:r,...n}=e,i=tV(tG,r),a=tQ(tG,r),o=(0,eU.e)(t,i.onViewportChange),s=(0,l.useRef)(0);return(0,l.createElement)(l.Fragment,null,(0,l.createElement)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),(0,l.createElement)(tE.Slot,{scope:r},(0,l.createElement)(eQ.WV.div,(0,eq.Z)({"data-radix-select-viewport":"",role:"presentation"},n,{ref:o,style:{position:"relative",flex:1,overflow:"auto",...n.style},onScroll:(0,eF.M)(n.onScroll,e=>{let t=e.currentTarget,{contentWrapper:r,shouldExpandOnScrollRef:n}=a;if(null!=n&&n.current&&r){let i=Math.abs(s.current-t.scrollTop);if(i>0){let o=window.innerHeight-20,l=parseFloat(r.style.minHeight),u=parseFloat(r.style.height),c=Math.max(l,u);if(c<o){let d=c+i,h=Math.min(o,d),p=d-h;r.style.height=h+"px","0px"===r.style.bottom&&(t.scrollTop=p>0?p:0,r.style.justifyContent="flex-end")}}}s.current=t.scrollTop})}))))}),[tY,tJ]=tj("SelectGroup"),tX=(0,l.forwardRef)((e,t)=>{let{__scopeSelect:r,...n}=e,i=(0,eH.M)();return(0,l.createElement)(tY,{scope:r,id:i},(0,l.createElement)(eQ.WV.div,(0,eq.Z)({role:"group","aria-labelledby":i},n,{ref:t})))}),t0="SelectItem",[t1,t2]=tj(t0),t5=(0,l.forwardRef)((e,t)=>{let{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...o}=e,s=tI(t0,r),u=tV(t0,r),c=s.value===n,[d,h]=(0,l.useState)(null!=a?a:""),[p,f]=(0,l.useState)(!1),m=(0,eU.e)(t,e=>{var t;return null===(t=u.itemRefCallback)||void 0===t?void 0:t.call(u,e,n,i)}),v=(0,eH.M)(),g=()=>{i||(s.onValueChange(n),s.onOpenChange(!1))};return(0,l.createElement)(t1,{scope:r,value:n,disabled:i,textId:v,isSelected:c,onItemTextChange:(0,l.useCallback)(e=>{h(t=>{var r;return t||(null!==(r=null==e?void 0:e.textContent)&&void 0!==r?r:"").trim()})},[])},(0,l.createElement)(tE.ItemSlot,{scope:r,value:n,disabled:i,textValue:d},(0,l.createElement)(eQ.WV.div,(0,eq.Z)({role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1},o,{ref:m,onFocus:(0,eF.M)(o.onFocus,()=>f(!0)),onBlur:(0,eF.M)(o.onBlur,()=>f(!1)),onPointerUp:(0,eF.M)(o.onPointerUp,g),onPointerMove:(0,eF.M)(o.onPointerMove,e=>{if(i){var t;null===(t=u.onItemLeave)||void 0===t||t.call(u)}else e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:(0,eF.M)(o.onPointerLeave,e=>{if(e.currentTarget===document.activeElement){var t;null===(t=u.onItemLeave)||void 0===t||t.call(u)}}),onKeyDown:(0,eF.M)(o.onKeyDown,e=>{var t;let r=(null===(t=u.searchRef)||void 0===t?void 0:t.current)!=="";r&&" "===e.key||(tk.includes(e.key)&&g()," "===e.key&&e.preventDefault())})}))))}),t4="SelectItemText",t6=(0,l.forwardRef)((e,t)=>{let{__scopeSelect:r,className:n,style:i,...a}=e,o=tI(t4,r),s=tV(t4,r),u=t2(t4,r),c=tO(t4,r),[d,h]=(0,l.useState)(null),p=(0,eU.e)(t,e=>h(e),u.onItemTextChange,e=>{var t;return null===(t=s.itemTextRefCallback)||void 0===t?void 0:t.call(s,e,u.value,u.disabled)}),f=null==d?void 0:d.textContent,m=(0,l.useMemo)(()=>(0,l.createElement)("option",{key:u.value,value:u.value,disabled:u.disabled},f),[u.disabled,u.value,f]),{onNativeOptionAdd:v,onNativeOptionRemove:g}=c;return(0,tw.b)(()=>(v(m),()=>g(m)),[v,g,m]),(0,l.createElement)(l.Fragment,null,(0,l.createElement)(eQ.WV.span,(0,eq.Z)({id:u.textId},a,{ref:p})),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?(0,tf.createPortal)(a.children,o.valueNode):null)}),t3=(0,l.forwardRef)((e,t)=>{let{__scopeSelect:r,...n}=e,i=t2("SelectItemIndicator",r);return i.isSelected?(0,l.createElement)(eQ.WV.span,(0,eq.Z)({"aria-hidden":!0},n,{ref:t})):null}),t9=((e,t)=>{let{__scopeSelect:r,onAutoScroll:n,...i}=e,a=tV("SelectScrollButton",r),o=(0,l.useRef)(null),s=tC(r),u=(0,l.useCallback)(()=>{null!==o.current&&(window.clearInterval(o.current),o.current=null)},[]);return(0,l.useEffect)(()=>()=>u(),[u]),(0,tw.b)(()=>{var e;let t=s().find(e=>e.ref.current===document.activeElement);null==t||null===(e=t.ref.current)||void 0===e||e.scrollIntoView({block:"nearest"})},[s]),(0,l.createElement)(eQ.WV.div,(0,eq.Z)({"aria-hidden":!0},i,{ref:t,style:{flexShrink:0,...i.style},onPointerDown:(0,eF.M)(i.onPointerDown,()=>{null===o.current&&(o.current=window.setInterval(n,50))}),onPointerMove:(0,eF.M)(i.onPointerMove,()=>{var e;null===(e=a.onItemLeave)||void 0===e||e.call(a),null===o.current&&(o.current=window.setInterval(n,50))}),onPointerLeave:(0,eF.M)(i.onPointerLeave,()=>{u()})}))},(0,l.forwardRef)((e,t)=>{let{value:r,...n}=e,i=(0,l.useRef)(null),a=(0,eU.e)(t,i),o=function(e){let t=(0,l.useRef)({value:e,previous:e});return(0,l.useMemo)(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(r);return(0,l.useEffect)(()=>{let e=i.current,t=window.HTMLSelectElement.prototype,n=Object.getOwnPropertyDescriptor(t,"value"),a=n.set;if(o!==r&&a){let s=new Event("change",{bubbles:!0});a.call(e,r),e.dispatchEvent(s)}},[o,r]),(0,l.createElement)(tx,{asChild:!0},(0,l.createElement)("select",(0,eq.Z)({},n,{ref:a,defaultValue:r})))}));function t8(e){let t=(0,tb.W)(e),r=(0,l.useRef)(""),n=(0,l.useRef)(0),i=(0,l.useCallback)(e=>{let i=r.current+e;t(i),function e(t){r.current=t,window.clearTimeout(n.current),""!==t&&(n.current=window.setTimeout(()=>e(""),1e3))}(i)},[t]),a=(0,l.useCallback)(()=>{r.current="",window.clearTimeout(n.current)},[]);return(0,l.useEffect)(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function t7(e,t,r){var n;let i=t.length>1&&Array.from(t).every(e=>e===t[0]),a=i?t[0]:t,o=r?e.indexOf(r):-1,s=(n=Math.max(o,0),e.map((t,r)=>e[(n+r)%e.length])),l=1===a.length;l&&(s=s.filter(e=>e!==r));let u=s.find(e=>e.textValue.toLowerCase().startsWith(a.toLowerCase()));return u!==r?u:void 0}t9.displayName="BubbleSelect";var re=r(5901),rt=r(49657),rr=r(93041),rn="data-hls-initialized",ri=0,ra=function(e,t,r,n){if("true"===t.getAttribute(rn))return{destroy:function(){}};t.setAttribute(rn,"true");var i,a,o=new rr.Z((0,ef.b)({maxBufferLength:15,maxMaxBufferLength:60,liveMaxLatencyDurationCount:7,liveSyncDurationCount:3},n));return t&&o.attachMedia(t),o.on(rr.Z.Events.LEVEL_LOADED,(i=(0,ef._)((0,ef.a)().mark(function e(t,n){var i,a,o,s,l;return(0,ef.a)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s=(o=n.details).live,l=o.totalduration,null==r||null===(i=r.onLive)||void 0===i||i.call(r,Boolean(s)),null==r||null===(a=r.onDuration)||void 0===a||a.call(r,null!=l?l:0);case 3:case"end":return e.stop()}},e)})),function(e,t){return i.apply(this,arguments)})),o.on(rr.Z.Events.MEDIA_ATTACHED,(0,ef._)((0,ef.a)().mark(function t(){return(0,ef.a)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:o.loadSource(e),o.on(rr.Z.Events.MANIFEST_PARSED,function(e,t){var n;null==r||null===(n=r.onCanPlay)||void 0===n||n.call(r)});case 2:case"end":return t.stop()}},t)}))),o.on(rr.Z.Events.ERROR,(a=(0,ef._)((0,ef.a)().mark(function e(t,n){var i,a,s,l,u,c,d;return(0,ef.a)().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.type,s=n.details,l=n.fatal,u=a===rr.Z.ErrorTypes.NETWORK_ERROR&&l,c=a===rr.Z.ErrorTypes.MEDIA_ERROR&&l,d=rr.Z.ErrorTypes.NETWORK_ERROR&&"manifestParsingError"===s,!(!l&&!d)){e.next=6;break}return e.abrupt("return");case 6:if(null==r||null===(i=r.onError)||void 0===i||i.call(r,n),!(u||c||d)){e.next=11;break}return e.next=10,new Promise(function(e){return setTimeout(e,1e3*++ri)});case 10:null==o||o.recoverMediaError();case 11:case"end":return e.stop()}},e)})),function(e,t){return a.apply(this,arguments)})),{destroy:function(){var e,r;null==o||null===(e=o.destroy)||void 0===e||e.call(o),null==t||null===(r=t.removeAttribute)||void 0===r||r.call(t,rn)}}};function ro(){ro=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(u){l=function(e,t,r){return e[t]=r}}function c(e,t,r,i){var a,o,s=Object.create((t&&t.prototype instanceof p?t:p).prototype);return n(s,"_invoke",{value:(a=new T(i||[]),o="suspendedStart",function(t,n){if("executing"===o)throw Error("Generator is already running");if("completed"===o){if("throw"===t)throw n;return C()}for(a.method=t,a.arg=n;;){var i=a.delegate;if(i){var s=function e(t,r){var n=r.method,i=t.iterator[n];if(void 0===i)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=void 0,e(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=TypeError("The iterator does not provide a '"+n+"' method")),h;var a=d(i,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,h;var o=a.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,h):o:(r.method="throw",r.arg=TypeError("iterator result is not an object"),r.delegate=null,h)}(i,a);if(s){if(s===h)continue;return s}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===o)throw o="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);o="executing";var l=d(e,r,a);if("normal"===l.type){if(o=a.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:a.done}}"throw"===l.type&&(o="completed",a.method="throw",a.arg=l.arg)}})}),s}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}e.wrap=c;var h={};function p(){}function f(){}function m(){}var v={};l(v,a,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(E([])));y&&y!==t&&r.call(y,a)&&(v=y);var b=m.prototype=p.prototype=Object.create(v);function w(e){["next","throw","return"].forEach(function(t){l(e,t,function(e){return this._invoke(t,e)})})}function x(e,t){var i;n(this,"_invoke",{value:function(n,a){function o(){return new t(function(i,o){!function n(i,a,o,s){var l=d(e[i],e,a);if("throw"!==l.type){var u=l.arg,c=u.value;return c&&"object"==typeof c&&r.call(c,"__await")?t.resolve(c.__await).then(function(e){n("next",e,o,s)},function(e){n("throw",e,o,s)}):t.resolve(c).then(function(e){u.value=e,o(u)},function(e){return n("throw",e,o,s)})}s(l.arg)}(n,a,i,o)})}return i=i?i.then(o,o):o()}})}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function E(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return f.prototype=m,n(b,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:f,configurable:!0}),f.displayName=l(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(x.prototype),l(x.prototype,o,function(){return this}),e.AsyncIterator=x,e.async=function(t,r,n,i,a){void 0===a&&(a=Promise);var o=new x(c(t,r,n,i),a);return e.isGeneratorFunction(r)?o:o.next().then(function(e){return e.done?e.value:o.next()})},w(b),l(b,s,"Generator"),l(b,a,function(){return this}),l(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=E,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),l=r.call(a,"finallyLoc");if(s&&l){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;k(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:E(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}function rs(e,t,r,n,i,a,o){try{var s=e[a](o),l=s.value}catch(u){r(u);return}s.done?t(l):Promise.resolve(l).then(n,i)}function rl(e){return function(){var t=this,r=arguments;return new Promise(function(n,i){var a=e.apply(t,r);function o(e){rs(a,n,i,o,s,"next",e)}function s(e){rs(a,n,i,o,s,"throw",e)}o(void 0)})}}function ru(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function rc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ru(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ru(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var rd=function(e){return{_element:e._element,setLive:e.setLive,fullscreen:e.fullscreen,togglePlay:e.togglePlay,_updateMediaStream:e._updateMediaStream,deviceIds:e.deviceIds}},rh=l.forwardRef(function(e,t){var r,n=e.ingestUrl,i=e.title,a=e.aspectRatio,o=e.objectFit,s=e.webrtcConfig,u=e.onBroadcastError,c=e.onPlaybackStatusUpdate,d=e.playbackStatusSelector,h=l.useContext(eD.b),p=l.useCallback(function(e){var t;return null!==(t=null==d?void 0:d(e))&&void 0!==t?t:e},[d]);l.useEffect(function(){return h.subscribe(p,function(e,t){return null==c?void 0:c((0,Y.s)(e),(0,Y.s)(t))})},[c,p,h]);var f=(0,eD.u)(rd),m=f._element,v=f.setLive,g=f.fullscreen,y=f.togglePlay,b=f._updateMediaStream,w=rc(l.useState(null),2),x=w[0],_=w[1],k=l.useCallback((r=rl(ro().mark(function e(t){var r,n,i,a,o,s,l,c;return ro().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:b(t.stream,{audio:null==t?void 0:null===(r=t.audioTransceiver)||void 0===r?void 0:null===(n=r.sender)||void 0===n?void 0:null===(i=n.track)||void 0===i?void 0:null===(a=i.getSettings())||void 0===a?void 0:a.deviceId,video:null==t?void 0:null===(o=t.videoTransceiver)||void 0===o?void 0:null===(s=o.sender)||void 0===s?void 0:null===(l=s.track)||void 0===l?void 0:null===(c=l.getSettings())||void 0===c?void 0:c.deviceId}),_({audio:t.audioTransceiver,video:t.videoTransceiver}),null==u||u(null),null==y||y(!0),v(!0);case 5:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),[v,u,y,b]),T=l.useCallback(function(e){var t,r,n,i=Error(null!==(t=null==e?void 0:null===(r=e.message)||void 0===r?void 0:null===(n=r.toString)||void 0===n?void 0:n.call(r))&&void 0!==t?t:"Error with WebRTC");null==u||u(i)},[u]);return l.useEffect(function(){if(m&&n){var e=eR(n,m,null!=a?a:"16to9",{onConnected:k,onError:T},s).destroy;return function(){null==e||e()}}},[s,a,m,k,n,u,T]),l.useEffect(function(){return h.subscribe(function(e,t){var r,n;(null===(r=e._mediaStream)||void 0===r?void 0:r.id)!==(null===(n=t._mediaStream)||void 0===n?void 0:n.id)&&e._element&&x&&e._mediaStream&&eI({newMediaStream:e._mediaStream,prevMediaStream:t._mediaStream,aspectRatio:null!=a?a:"16to9",element:e._element,videoTransceiver:x.video,audioTransceiver:x.audio,onConnected:k}).catch(function(e){return T(e)})})},[h,x,a,k,T]),(0,J.jsx)("video",{className:ep.Il.media.video({size:g?"fullscreen":o}),"aria-label":null!=i?i:"Video player",role:"video",width:"100%",height:"100%",ref:t,"webkit-playsinline":"true",playsInline:!0,muted:!0})}),rp=function(e){var t=e.value,r=e.onChange,n=e.type,i=e.portalContainer,a=e.mediaDevices,o=(0,l.useMemo)(function(){if(t&&a.every(function(e){return t!==e.deviceId})){var e,r=t.split(":",2),n=r.length>1?"".concat(null===(e=r[0])||void 0===e?void 0:e.slice(0,10),"...").concat(t.slice(-4)):t.slice(0,8);return null!=n?n:"screen"}return null},[a,t]);return(0,J.jsxs)("div",{className:ep.Il.settings.select.group(),children:[(0,J.jsx)("label",{className:ep.Il.settings.select.label(),htmlFor:"audio"===n?"audio-source":"video-source",children:"audio"===n?"Audio Source":"Video Source"}),(0,J.jsxs)(tA,{disabled:0===a.length,value:t,onValueChange:r,name:"audio"===n?"audio-source":"video-source",children:[(0,J.jsxs)(tN,{className:ep.Il.settings.select.trigger(),"aria-label":"audio"===n?"Audio Source":"Video Source",children:[(0,J.jsx)(tD,{placeholder:"audio"===n?"Select your audio source...":"Select your video source..."}),(0,J.jsx)(tq,{className:ep.Il.settings.select.icon(),children:(0,J.jsx)(rf,{})})]}),(0,J.jsx)(tF,{container:i,children:(0,J.jsx)(tB,{className:ep.Il.settings.select.content(),children:(0,J.jsx)(tK,{className:ep.Il.settings.select.viewport(),children:(0,J.jsxs)(tX,{children:[a.map(function(e,t){var r;return(0,J.jsxs)(t5,{value:e.deviceId,className:ep.Il.settings.select.item(),children:[(0,J.jsx)(t6,{children:null!==(r=e.label)&&void 0!==r?r:"".concat("audio"===n?"Audio Source":"Video Source"," ").concat(t+1," (").concat("default"===e.deviceId?"default":e.deviceId.slice(0,6),")")}),(0,J.jsx)(t3,{className:ep.Il.settings.select.itemIndicator(),children:(0,J.jsx)(rm,{})})]},e.deviceId)}),t&&o&&(0,J.jsxs)(t5,{value:t,className:ep.Il.settings.select.item(),children:[(0,J.jsx)(t6,{children:"Screen Source (".concat(o,")")}),(0,J.jsx)(t3,{className:ep.Il.settings.select.itemIndicator(),children:(0,J.jsx)(rm,{})})]},t)]})})})})]})]})},rf=function(){return(0,J.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 -960 960 960",width:"20",children:(0,J.jsx)("path",{fill:"currentColor",d:"M480-345 240-585l43-43 197 198 197-197 43 43-240 239Z"})})},rm=function(){return(0,J.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"16",viewBox:"0 -960 960 960",width:"16",children:(0,J.jsx)("path",{d:"M378-246 154-470l43-43 181 181 384-384 43 43-427 427Z"})})},rv=function(e){return{deviceIds:e.deviceIds,_updateMediaStream:e._updateMediaStream}},rg=function(e){var t,r=e.portalContainer,n=e.streamConstraints,i=(0,eD.u)(rv),a=i.deviceIds,o=i._updateMediaStream,s=rc(l.useState(null),2),u=s[0],c=s[1];l.useEffect(function(){return eO(function(e){c(e.filter(function(e){return"audioinput"===e.kind}))})},[]);var d=l.useCallback((t=rl(ro().mark(function e(t){var r,i,s;return ro().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eM({source:{streamConstraints:n,videoDeviceId:null!==(r=null==a?void 0:a.video)&&void 0!==r?r:void 0,audioDeviceId:null!==(i=null!=t?t:null==a?void 0:a.audio)&&void 0!==i?i:void 0}});case 2:(s=e.sent)&&o(s);case 4:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),[o,a,n]);return(0,J.jsx)(rp,{type:"audio",onChange:d,value:null==a?void 0:a.audio,mediaDevices:null!=u?u:[],portalContainer:r})},ry=function(){return(0,J.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 36 36",children:[(0,J.jsx)("path",{d:"M 9.25,9 7.98,10.27 24.71,27 l 1.27,-1.27 Z",fill:"currentColor"}),(0,J.jsx)("path",{fill:"currentColor",d:"M8,21 L12,21 L17,26 L17,10 L12,15 L8,15 L8,21 Z M19,14 L19,22 C20.48,21.32 21.5,19.77 21.5,18 C21.5,16.26 20.48,14.74 19,14 ZM19,11.29 C21.89,12.15 24,14.83 24,18 C24,21.17 21.89,23.85 19,24.71 L19,26.77 C23.01,25.86 26,22.28 26,18 C26,13.72 23.01,10.14 19,9.23 L19,11.29 Z"})]})},rb=function(){return(0,J.jsx)("svg",{width:"100%",height:"100%",viewBox:"0 0 36 36",children:(0,J.jsx)("path",{fill:"currentColor",d:"M8,21 L12,21 L17,26 L17,10 L12,15 L8,15 L8,21 Z M19,14 L19,22 C20.48,21.32 21.5,19.77 21.5,18 C21.5,16.26 20.48,14.74 19,14 ZM19,11.29 C21.89,12.15 24,14.83 24,18 C24,21.17 21.89,23.85 19,24.71 L19,26.77 C23.01,25.86 26,22.28 26,18 C26,13.72 23.01,10.14 19,9.23 L19,11.29 Z"})})},rw=function(e){return{isVolumeChangeSupported:e.isVolumeChangeSupported,requestToggleMute:e.requestToggleMute,requestVolume:e.requestVolume,muted:e.muted,volume:e.volume}},rx=function(e){var t=(0,eD.u)(rw),r=t.volume,n=t.requestToggleMute,i=t.muted,a=t.requestVolume,o=t.isVolumeChangeSupported,l=es((0,s._)({volume:r,requestToggleMute:n,muted:i,requestVolume:a,isVolumeChangeSupported:o,defaultMutedIcon:(0,J.jsx)(ry,{}),defaultUnmutedIcon:(0,J.jsx)(rb,{})},e)),u=l.buttonProps,c=l.title;return(0,J.jsx)("div",{className:ep.Il.volume.container(),children:(0,J.jsx)("button",(0,s._)({style:{width:e.size,height:e.size},className:ep.Il.iconButton(),title:c,"aria-label":c,onClick:u.onPress},(0,F.o)(u,"onPress","size")))})},r_=function(e){return{deviceIds:e.deviceIds,_updateMediaStream:e._updateMediaStream}},rk=function(e){var t,r=e.portalContainer,n=e.streamConstraints,i=(0,eD.u)(r_),a=i.deviceIds,o=i._updateMediaStream,s=rc(l.useState(null),2),u=s[0],c=s[1];l.useEffect(function(){return eO(function(e){c(e.filter(function(e){return"videoinput"===e.kind}))})},[]);var d=l.useCallback((t=rl(ro().mark(function e(t){var r,i,s;return ro().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,eM({source:{streamConstraints:n,videoDeviceId:null!==(r=null!=t?t:null==a?void 0:a.video)&&void 0!==r?r:void 0,audioDeviceId:null!==(i=null==a?void 0:a.audio)&&void 0!==i?i:void 0}});case 2:(s=e.sent)&&o(s);case 4:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),[o,a,n]);return(0,J.jsx)(rp,{type:"video",onChange:d,value:null==a?void 0:a.video,mediaDevices:null!=u?u:[],portalContainer:r})},rT=function(){return(0,J.jsx)("svg",{width:"100%",height:"100%",viewBox:"0 0 36 36",children:(0,J.jsx)("path",{d:"m 23.94,18.78 c .03,-0.25 .05,-0.51 .05,-0.78 0,-0.27 -0.02,-0.52 -0.05,-0.78 l 1.68,-1.32 c .15,-0.12 .19,-0.33 .09,-0.51 l -1.6,-2.76 c -0.09,-0.17 -0.31,-0.24 -0.48,-0.17 l -1.99,.8 c -0.41,-0.32 -0.86,-0.58 -1.35,-0.78 l -0.30,-2.12 c -0.02,-0.19 -0.19,-0.33 -0.39,-0.33 l -3.2,0 c -0.2,0 -0.36,.14 -0.39,.33 l -0.30,2.12 c -0.48,.2 -0.93,.47 -1.35,.78 l -1.99,-0.8 c -0.18,-0.07 -0.39,0 -0.48,.17 l -1.6,2.76 c -0.10,.17 -0.05,.39 .09,.51 l 1.68,1.32 c -0.03,.25 -0.05,.52 -0.05,.78 0,.26 .02,.52 .05,.78 l -1.68,1.32 c -0.15,.12 -0.19,.33 -0.09,.51 l 1.6,2.76 c .09,.17 .31,.24 .48,.17 l 1.99,-0.8 c .41,.32 .86,.58 1.35,.78 l .30,2.12 c .02,.19 .19,.33 .39,.33 l 3.2,0 c .2,0 .36,-0.14 .39,-0.33 l .30,-2.12 c .48,-0.2 .93,-0.47 1.35,-0.78 l 1.99,.8 c .18,.07 .39,0 .48,-0.17 l 1.6,-2.76 c .09,-0.17 .05,-0.39 -0.09,-0.51 l -1.68,-1.32 0,0 z m -5.94,2.01 c -1.54,0 -2.8,-1.25 -2.8,-2.8 0,-1.54 1.25,-2.8 2.8,-2.8 1.54,0 2.8,1.25 2.8,2.8 0,1.54 -1.25,2.8 -2.8,2.8 l 0,0 z",fill:"currentColor"})})},rE=function(e){return{_element:e._element}},rC=function(e){var t,r,n,i,a=(0,eD.u)(rE)._element;return(0,J.jsx)("div",{className:ep.Il.volume.container(),children:(0,J.jsxs)(e4,{children:[(0,J.jsx)(e6,{asChild:!0,children:(0,J.jsx)("button",(0,s._)((0,s._)({style:{width:e.size,height:e.size},className:ep.Il.iconButton(),title:"Broadcast settings","aria-label":"Broadcast settings"},(0,F.o)(e,"icon","size","streamConstraints")),{},{children:null!==(t=null==e?void 0:e.icon)&&void 0!==t?t:(0,J.jsx)(rT,{})}))}),(0,J.jsxs)(e7,{container:null!==(r=null==a?void 0:a.parentElement)&&void 0!==r?r:a,children:[(0,J.jsx)(tt,{className:ep.Il.settings.overlay()}),(0,J.jsxs)(ti,{className:ep.Il.settings.content(),children:[(0,J.jsx)(tu,{className:ep.Il.settings.title(),children:"Settings"}),(0,J.jsx)(rk,{streamConstraints:e.streamConstraints,portalContainer:null!==(n=null==a?void 0:a.parentElement)&&void 0!==n?n:a}),(0,J.jsx)(rg,{streamConstraints:e.streamConstraints,portalContainer:null!==(i=null==a?void 0:a.parentElement)&&void 0!==i?i:a}),(0,J.jsx)(tc,{asChild:!0,children:(0,J.jsx)("button",{className:ep.Il.settings.close(),"aria-label":"Close",children:(0,J.jsx)(rS,{})})})]})]})]})})},rS=function(){return(0,J.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"48",viewBox:"0 -960 960 960",width:"48",children:(0,J.jsx)("path",{d:"m249-207-42-42 231-231-231-231 42-42 231 231 231-231 42 42-231 231 231 231-42 42-231-231-231 231Z"})})},rj=function(){return(0,J.jsx)("svg",{width:"100%",height:"100%",viewBox:"-340 -1265 1600 1600",children:(0,J.jsx)("path",{fill:"currentColor",d:"M451-328h59v-194l79 81 43-43-153-152-152 152 43 43 81-81v194ZM140-160q-24 0-42-18t-18-42v-520q0-24 18-42t42-18h680q24 0 42 18t18 42v520q0 24-18 42t-42 18H140Zm0-60h680v-520H140v520Zm0 0v-520 520Z"})})},rL=function(e){return{_updateMediaStream:e._updateMediaStream}},rP=function(e){var t,r=(0,eD.u)(rL)._updateMediaStream,n=(0,l.useCallback)(rl(ro().mark(function t(){var n;return ro().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,eA(null==e?void 0:e.options);case 2:(n=t.sent)&&r(n);case 4:case"end":return t.stop()}},t)})),[r,null==e?void 0:e.options]);return(0,J.jsx)("button",(0,s._)((0,s._)({style:{width:e.size,height:e.size},className:ep.Il.iconButton(),title:"Screen share","aria-label":"Screen share"},(0,F.o)(e,"icon","options","size")),{},{onClick:n,children:null!==(t=null==e?void 0:e.icon)&&void 0!==t?t:(0,J.jsx)(rj,{})}))};function rR(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var rI=["onIcon","offIcon","onPress"],rM=function(){return(0,J.jsx)("svg",{width:"100%",height:"100%",viewBox:"-340 -1265 1600 1600",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,J.jsx)("path",{fill:"currentColor",d:"M140-160q-24 0-42-18t-18-42v-520q0-24 18-42t42-18h520q24 0 42 18t18 42v215l160-160v410L720-435v215q0 24-18 42t-42 18H140Zm0-60h520v-520H140v520Zm0 0v-520 520Z"})})},rO=function(){return(0,J.jsx)("svg",{width:"100%",height:"100%",viewBox:"-340 -1265 1600 1600",fill:"none",children:(0,J.jsx)("path",{fill:"currentColor",d:"M880-275 720-435v111l-60-60v-356H304l-60-60h416q24 0 42 18t18 42v215l160-160v410ZM848-27 39-836l42-42L890-69l-42 42ZM484-560Zm-87 82ZM159-800l60 60h-79v520h520v-79l60 60v19q0 24-18 42t-42 18H140q-24 0-42-18t-18-42v-520q0-24 18-42t42-18h19Z"})})},rA=function(e){return{toggleVideo:e.toggleVideo,video:e.video}},rN=function(e){var t,r=(0,eD.u)(rA),n=r.toggleVideo,i=r.video,a=e.onIcon,o=e.offIcon,u=e.onPress,c=rR(e,rI),d=(t=rl(ro().mark(function e(){return ro().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==u?void 0:u();case 2:return e.next=4,n();case 4:case"end":return e.stop()}},e)})),function(){return t.apply(this,arguments)}),h=Q(Boolean(i),a,(0,J.jsx)(rM,{}),o,(0,J.jsx)(rO,{})),p=(0,l.useMemo)(function(){return i?"Turn video off (v)":"Turn video on (v)"},[i]);return(0,J.jsx)("button",(0,s._)((0,s._)({style:{width:e.size,height:e.size},className:ep.Il.iconButton(),title:p,"aria-label":p,onClick:d},(0,F.o)(c,"size")),{},{children:h}))},rD=function(e){return{device:e.device}},rq=function(e){var t,r=(0,eD.u)(rD).device,n=l.useRef(null),i=rc(l.useState({width:0,left:0}),2),a=i[0],o=i[1];l.useEffect(function(){if("undefined"!=typeof window){var e=function(){var e,t,r,i=null===(e=n.current)||void 0===e?void 0:e.getBoundingClientRect();o({width:null!==(t=null==i?void 0:i.width)&&void 0!==t?t:0,left:null!==(r=null==i?void 0:i.left)&&void 0!==r?r:0})};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}},[]);var u=rc(l.useState(!1),2),c=u[0],d=u[1],h=rc(l.useState(0),2),p=h[0],f=h[1],m=ee((0,s._)({isActive:c||(null==r?void 0:r.isMobile),sliderWidth:a.width,defaultThumbIcon:(0,J.jsx)(rF,{})},e)),v=m.title,g=m.value,y=m.active,b=m.handle,w=m.sliderProps,x=m.sliderLeftTrackProps,_=m.sliderMiddleTrackProps,k=m.sliderRightTrackProps,T=rc(l.useState(!1),2),E=T[0],C=T[1];l.useEffect(function(){if(E){var t,r,n,i,o,s,l,u,c=(i=rl(ro().mark(function e(t){var r;return ro().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Date.now()-p>50,e.next=3,w.onUpdate(t.clientX-a.left,r);case 3:r&&f(Date.now());case 4:case"end":return e.stop()}},e)})),function(e){return i.apply(this,arguments)}),d=(t=rl(ro().mark(function e(t){var r,n,i,o,s;return ro().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=Date.now()-p>50,!(s=null===(r=t.touches)||void 0===r?void 0:null===(n=r.item)||void 0===n?void 0:null===(i=n.call(r,0))||void 0===i?void 0:i.clientX)){e.next=6;break}return e.next=5,w.onUpdate(s-a.left,o);case 5:o&&f(Date.now());case 6:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),h=(r=rl(ro().mark(function t(r){var n;return ro().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return C(!1),t.next=3,w.onUpdate(r.clientX-a.left,!0);case 3:return t.next=5,null==e?void 0:null===(n=e.onDone)||void 0===n?void 0:n.call(e);case 5:case"end":return t.stop()}},t)})),function(e){return r.apply(this,arguments)}),m=(n=rl(ro().mark(function t(r){var n,i,o,s,l,u,c,d,h;return ro().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(C(!1),!(h=null!==(n=null===(i=r.touches)||void 0===i?void 0:null===(o=i.item)||void 0===o?void 0:null===(s=o.call(i,0))||void 0===s?void 0:s.clientX)&&void 0!==n?n:null===(l=r.changedTouches)||void 0===l?void 0:null===(u=l.item)||void 0===u?void 0:null===(c=u.call(l,0))||void 0===c?void 0:c.clientX)){t.next=5;break}return t.next=5,w.onUpdate(h-a.left,!0);case 5:return t.next=7,null==e?void 0:null===(d=e.onDone)||void 0===d?void 0:d.call(e);case 7:case"end":return t.stop()}},t)})),function(e){return n.apply(this,arguments)});return null===(o=document)||void 0===o||o.addEventListener("mousemove",c),null===(s=document)||void 0===s||s.addEventListener("mouseup",h),null===(l=document)||void 0===l||l.addEventListener("touchmove",d),null===(u=document)||void 0===u||u.addEventListener("touchend",m),function(){var e,t,r,n;null===(e=document)||void 0===e||e.removeEventListener("mousemove",c),null===(t=document)||void 0===t||t.removeEventListener("mouseup",h),null===(r=document)||void 0===r||r.removeEventListener("touchmove",d),null===(n=document)||void 0===n||n.removeEventListener("touchend",m)}}},[E,w,e,a,p]);var S=l.useCallback((t=rl(ro().mark(function e(t){return ro().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.onUpdate(t.clientX-a.left);case 2:C(!0);case 3:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),[w,a]),j=l.useCallback(rl(ro().mark(function e(){return ro().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:d(!0);case 1:case"end":return e.stop()}},e)})),[d]),L=l.useCallback(rl(ro().mark(function e(){return ro().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:d(!1);case 1:case"end":return e.stop()}},e)})),[d]);return(0,J.jsxs)("div",{ref:n,onPointerDown:S,onMouseEnter:j,onMouseLeave:L,role:"slider","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":g,"aria-valuetext":v,"aria-orientation":"horizontal",className:ep.Il.slider.container(),children:[x.shown&&(0,J.jsx)("div",{className:ep.Il.slider.track.left({size:y?"active":"default",rounded:x.rounded,css:x.css})}),b,_.shown&&(0,J.jsx)("div",{className:ep.Il.slider.track.middle({size:y?"active":"default",rounded:_.rounded,css:_.css})}),k.shown&&(0,J.jsx)("div",{className:ep.Il.slider.track.right({size:y?"active":"default",rounded:k.rounded,css:k.css})})]})},rF=function(e){var t=e.size,r=e.css;return(0,J.jsx)("div",{className:ep.Il.slider.thumb({css:r,size:t})})},rU=function(e){return{fullscreen:e.fullscreen}},rB=function(e){var t=e.children,r=e.aspectRatio,n=e.theme,i=e.tabIndex,a=(0,eD.a)(n),o=(0,eD.u)(rU).fullscreen;return(0,J.jsx)("div",{style:{display:"contents"},className:"".concat(a?"".concat(a," "):"","livepeer-contents-container"),children:(0,J.jsx)("div",{className:"".concat(ep.Il.container({aspectRatio:r,size:o?"fullscreen":"default"})," livepeer-aspect-ratio-container"),tabIndex:null!=i?i:0,children:t})})},rH=function(){return(0,J.jsxs)("svg",{viewBox:"0 0 324 140",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,J.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M82 8.30584L239.745 5.68359L242.335 118.151L83.9414 118.502L82 8.30584Z",fill:"#97F2EF"}),(0,J.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M66 124.072L254.898 124L258 129L68.3248 128.971L66 124.072Z",fill:"#97F2EF"}),(0,J.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M94.2062 111.151L92.5204 15.5292L229.556 14.1187L231.803 111.716L94.2062 111.151Z",fill:"#4CC38A"}),(0,J.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M185 58.1481C185 70.8507 174.703 82 162 82C153.04 82 145.277 77.3008 141.48 70.0741C141.421 69.9609 141.362 69.8472 141.305 69.7328C140.965 69.0558 140.782 66.2859 140.704 64.963C140.278 66.2407 140.43 67.3765 140.507 67.9444C139.533 65.4642 139 62.7423 139 59.8519C139 47.1493 149.297 36 162 36C166.913 36 171.467 37.4132 175.204 39.8814C175.63 41.0012 176.226 43.6667 175.204 45.3704C176 44.8025 177.651 43.3259 177.888 41.963C182.27 45.9317 185 51.6082 185 58.1481Z",fill:"#141716"}),(0,J.jsx)("path",{d:"M140.704 64.963C140.278 66.2407 140.43 67.3765 140.507 67.9444C140.746 68.5556 141.013 69.1521 141.305 69.7328C140.965 69.0558 140.782 66.2859 140.704 64.963Z",fill:"#141716"}),(0,J.jsx)("path",{d:"M171 60.5003L156 70V60.6462V51L166.104 57.3994L171 60.5003Z",stroke:"#4CC38A",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,J.jsx)("path",{d:"M101.096 100.921L176.5 101.109M219.885 101.163L198.193 101.136",stroke:"#141716",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,J.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M148.197 101.161C148.197 103.28 146.472 104.998 144.344 104.998C142.215 104.998 140.49 103.28 140.49 101.161C140.49 99.042 142.215 97.3242 144.344 97.3242C146.472 97.3242 148.197 99.042 148.197 101.161Z",fill:"#DF0087"}),(0,J.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M148.197 101.161C148.197 103.28 146.472 104.998 144.344 104.998C142.215 104.998 140.49 103.28 140.49 101.161C140.49 99.042 142.215 97.3242 144.344 97.3242C146.472 97.3242 148.197 99.042 148.197 101.161Z",stroke:"#141716",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,J.jsx)("path",{d:"M93.7252 111.754L91.7752 14.7408L230.275 13.7374L232.225 112.245L93.7252 111.754Z",stroke:"#141716",strokeWidth:"2.5"}),(0,J.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M49.0868 58.0273L49.9632 88.7907L19.4093 88.9852L19.0201 58.6113L49.0868 58.0273ZM51 89.7922L50.0663 57L18 57.6228L18.4147 90L51 89.7922Z",fill:"#434545"}),(0,J.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M296.114 25.1881L297.132 60.7679L261.637 60.9929L261.185 25.8636L296.114 25.1881ZM298.336 61.9263L297.252 24L260 24.7203L260.482 62.1666L298.336 61.9263Z",fill:"#434545"}),(0,J.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M293.138 78.0001L293 67.2077L303.689 67.0001L304 77.9308L293.138 78.0001ZM304.309 78.2288L292.842 78.3019L292.696 66.9135L303.98 66.6943L304.309 78.2288ZM303.071 67.6482L293.644 67.8313L293.766 77.3599L303.346 77.2989L303.071 67.6482ZM303.362 67.3425L293.34 67.5372L293.47 77.6618L303.654 77.5969L303.362 67.3425Z",fill:"#434545"}),(0,J.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M303.362 67.3424L303.654 77.5969L293.47 77.6617L293.34 67.5371L303.362 67.3424ZM304 77.9307L303.689 67L293 67.2076L293.138 78L304 77.9307Z",fill:"#434545"}),(0,J.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M289.594 66.2179L289.78 72.7435L283.299 72.7847L283.216 66.3418L289.594 66.2179ZM290 72.9559L289.802 66L283 66.1321L283.088 73L290 72.9559Z",fill:"#434545"}),(0,J.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M290.309 73.254L282.792 73.3019L282.696 65.838L290.093 65.6943L290.309 73.254ZM289.594 66.218L289.78 72.7435L283.299 72.7848L283.216 66.3419L289.594 66.218ZM289.471 72.4455L283.595 72.4829L283.52 66.636L289.303 66.5237L289.471 72.4455ZM283.088 73.0001L283 66.1322L289.802 66.0001L290 72.956L283.088 73.0001Z",fill:"#434545"}),(0,J.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M47.442 36.3017L47.3038 47.0941L57.9925 47.3017L58.3038 36.371L47.442 36.3017ZM58.6124 36.0729L47.1459 35.9998L47 47.3883L58.284 47.6074L58.6124 36.0729ZM57.3747 46.6536L47.9476 46.4704L48.0697 36.9419L57.6496 37.0029L57.3747 46.6536ZM57.6661 46.9593L47.6438 46.7646L47.7736 36.64L57.9582 36.7048L57.6661 46.9593Z",fill:"#434545"}),(0,J.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M57.6661 46.9593L57.9582 36.7049L47.7736 36.64L47.6439 46.7646L57.6661 46.9593ZM58.3038 36.371L57.9926 47.3018L47.3038 47.0942L47.4421 36.3018L58.3038 36.371Z",fill:"#434545"})]})},rV=function(){return(0,J.jsxs)("svg",{viewBox:"0 0 324 142",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,J.jsx)("circle",{cx:"162",cy:"76",r:"23",stroke:"#141716",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}),(0,J.jsx)("path",{d:"M242 88.5C242 88.5 206.183 131 162 131C117.817 131 82 88.5 82 88.5C82 88.5 117.817 46 162 46C206.183 46 242 88.5 242 88.5Z",fill:"#97F2EF"}),(0,J.jsx)("path",{d:"M249 82C249 82 210.825 128 162.5 128C114.175 128 74.5 82.5 74.5 82.5C74.5 82.5 114.175 32 162.5 32C219 34 249 82 249 82Z",fill:"#97F2EF"}),(0,J.jsx)("path",{d:"M249 82.5C249 82.5 210.049 129 162 129C113.951 129 75 82.5 75 82.5C75 82.5 113.951 36 162 36C210.049 36 249 82.5 249 82.5Z",fill:"#4CC38A"}),(0,J.jsx)("path",{d:"M216.5 60.8302C202.013 51.0702 182.921 42 162 42C116.713 42 80 84.5 80 84.5C80 84.5 116.713 127 162 127C207.287 127 244 84.5 244 84.5C244 84.5 240.941 80.9589 235.5 75.921",stroke:"#141716",strokeWidth:"2.5"}),(0,J.jsx)("path",{d:"M118 117.5C117 119.5 107.5 122.7 107.5 125.5M127 121.5C123.667 126.167 117 136.7 117 141.5",stroke:"#97F2EF",strokeWidth:"2.5"}),(0,J.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M193 86C193 100.912 180.912 114 166 114C155.482 114 146.369 108.484 141.912 100C141.842 99.8672 141.773 99.7336 141.706 99.5994C141.306 98.8046 141.091 95.553 141 94C140.5 95.5 140.679 96.8333 140.769 97.5C139.626 94.5884 139 91.3932 139 88C139 73.0883 151.088 60 166 60C171.768 60 177.113 61.6589 181.5 64.5564C182 65.8709 182.7 69 181.5 71C182.434 70.3333 184.373 68.6 184.652 67C189.796 71.6589 193 78.3227 193 86Z",fill:"#141716"}),(0,J.jsx)("path",{d:"M141 94C140.5 95.5 140.679 96.8333 140.769 97.5C141.05 98.2174 141.363 98.9177 141.706 99.5994C141.306 98.8046 141.091 95.553 141 94Z",fill:"#141716"}),(0,J.jsx)("path",{d:"M170.403 79C176.754 79 182.328 84.8203 182.328 92C182.328 99.1797 177.606 105 171.254 105C167.788 105 164.552 103.266 162.328 100.523C161.871 99.9592 161.457 99.3526 161.092 98.7097C159.98 96.7509 159.328 94.4549 159.328 92C159.328 84.8203 164.051 79 170.403 79Z",fill:"#4CC38A"}),(0,J.jsx)("path",{d:"M70.5 43C77 48.1667 87.3 55 94.5 63M98 8C103 19.6667 113 44.8 113 52M156.5 0.5C156 12.5 158 32.5 158 32.5M223 56C231.667 50.6667 241 43 263 39",stroke:"#97F2EF",strokeWidth:"2.5"}),(0,J.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M288.028 49.4047L287.706 29.9756L312.554 29.6019L313.278 49.28L288.028 49.4047ZM313.995 49.8165L287.339 49.9481L287 29.4461L313.232 29.0515L313.995 49.8165ZM311.118 30.7687L289.203 31.0984L289.487 48.2522L311.757 48.1424L311.118 30.7687ZM311.795 30.2184L288.497 30.5688L288.798 48.7957L312.474 48.679L311.795 30.2184Z",fill:"#434545"}),(0,J.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M311.795 30.2182L312.475 48.6788L288.798 48.7955L288.497 30.5687L311.795 30.2182ZM313.278 49.2798L312.554 29.6017L287.706 29.9755L288.028 49.4045L313.278 49.2798Z",fill:"#434545"}),(0,J.jsx)("path",{d:"M308.595 29.6018V24.201C308.595 20.224 305.371 17 301.394 17V17C297.417 17 294.193 20.224 294.193 24.201V29.6018",stroke:"#434545",strokeWidth:"2"}),(0,J.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31.9897 127.881L31.6802 109.168L55.6122 108.808L56.309 127.761L31.9897 127.881ZM57 128.278L31.3266 128.405L31 108.658L56.2646 108.278L57 128.278ZM54.2287 109.932L33.1217 110.25L33.3951 126.771L54.8443 126.665L54.2287 109.932ZM54.8812 109.402L32.4415 109.74L32.732 127.295L55.5352 127.182L54.8812 109.402Z",fill:"#434545"}),(0,J.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M54.8813 109.402L55.5353 127.182L32.7321 127.295L32.4416 109.74L54.8813 109.402ZM56.3091 127.761L55.6122 108.808L31.6803 109.168L31.9898 127.881L56.3091 127.761Z",fill:"#434545"}),(0,J.jsx)("path",{d:"M51.7984 108.808V103.606C51.7984 99.776 48.6932 96.6709 44.8628 96.6709V96.6709C41.0325 96.6709 37.9273 99.776 37.9273 103.606V108.808",stroke:"#434545"}),(0,J.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.4568 93.4225L16.3139 85.9741L27.3595 85.8309L27.6811 93.3747L16.4568 93.4225ZM28 93.5804L16.1507 93.6308L16 85.7711L27.6606 85.6199L28 93.5804ZM26.7209 86.2782L16.9793 86.4046L17.1054 92.9807L27.005 92.9386L26.7209 86.2782ZM27.0221 86.0672L16.6653 86.2016L16.7994 93.189L27.324 93.1443L27.0221 86.0672Z",fill:"#434545"}),(0,J.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.0221 86.0676L27.324 93.1447L16.7994 93.1895L16.6654 86.202L27.0221 86.0676ZM27.6811 93.3751L27.3595 85.8313L16.314 85.9746L16.4568 93.4229L27.6811 93.3751Z",fill:"#434545"}),(0,J.jsx)("path",{d:"M25.5992 85.831V84.201C25.5992 82.4331 24.1661 81 22.3982 81V81C20.6304 81 19.1972 82.4331 19.1972 84.201V85.831",stroke:"#434545"}),(0,J.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M289.419 69.8179L289.288 62.3096L299.413 62.1844L299.708 69.7762L289.419 69.8179ZM300 69.9559L289.138 70L289 62.1322L299.689 62L300 69.9559ZM299 63H290L290.013 69.4319L299.088 69.3951L299 63ZM299.104 62.3909L289.61 62.5083L289.733 69.6139L299.38 69.5748L299.104 62.3909Z",fill:"#434545"}),(0,J.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M299.104 62.3909L299.38 69.5748L289.733 69.6139L289.61 62.5083L299.104 62.3909ZM299.708 69.7762L299.413 62.1844L289.288 62.3096L289.419 69.8179L299.708 69.7762Z",fill:"#434545"}),(0,J.jsx)("path",{d:"M296.752 62.9402V61.2516C296.752 60.0081 295.744 59 294.5 59V59C293.257 59 292.249 60.0081 292.249 61.2516V62.9402",stroke:"#434545"})]})},rZ=function(e){var t=e.isBroadcast;return(0,J.jsxs)("div",{className:ep.Il.controlsContainer.error.background(),children:[(0,J.jsx)(rH,{}),(0,J.jsx)("div",{className:ep.Il.controlsContainer.error.title(),children:t?"Stream key invalid":"Stream is offline"}),(0,J.jsx)("div",{className:ep.Il.controlsContainer.error.text(),children:t?"The provided stream key could not be found. Please check it and try again.":"Playback will start automatically once the stream has started."})]})},rz=function(){return(0,J.jsxs)("div",{className:ep.Il.controlsContainer.error.background(),children:[(0,J.jsx)(rV,{}),(0,J.jsx)("div",{className:ep.Il.controlsContainer.error.title(),children:"Stream is private"}),(0,J.jsx)("div",{className:ep.Il.controlsContainer.error.text(),children:"It looks like you don't have permission to view this content."})]})},r$=function(e){var t=e.isBroadcast;return(0,J.jsxs)("div",{className:ep.Il.controlsContainer.error.background(),children:[(0,J.jsx)(rH,{}),(0,J.jsx)("div",{className:ep.Il.controlsContainer.error.title(),children:t?"Broadcast failed":"Playback failed"}),(0,J.jsx)("div",{className:ep.Il.controlsContainer.error.text(),children:t?"There was an error with broadcasting - please try again later.":"There was an error with playback - please wait while we are retrying in the background."})]})},rW=function(e){return{hidden:e.hidden,togglePlay:e.togglePlay,canPlay:e.canPlay,hasPlayed:e.hasPlayed,buffered:e.buffered,ingestUrl:e.ingestUrl,_updateLastInteraction:e._updateLastInteraction}},rQ=function(e){var t=e.top,r=e.middle,n=e.left,i=e.right,a=e.poster,o=e.showLoadingSpinner,s=e.hidePosterOnPlayed,u=e.loadingText,c=e.error,d=e.children,h=(0,eD.u)(rW),p=h.hidden,f=h.togglePlay,m=h.canPlay,v=h.hasPlayed,g=h.buffered,y=h.ingestUrl,b=h._updateLastInteraction,w=l.useMemo(function(){return Boolean(y)},[y]),x=et({togglePlay:f,canPlay:m,buffered:g,isBroadcast:w,_updateLastInteraction:b}),_=x.isLoaded,k=x.containerProps;return(0,J.jsxs)(J.Fragment,{children:[a?(0,J.jsx)("div",{className:ep.Il.controlsContainer.background({display:v&&(void 0===s||s)?"hidden":"shown"}),onMouseUp:k.onPress,children:a}):(0,J.jsx)("div",{className:ep.Il.controlsContainer.background({display:"hidden"}),onMouseUp:k.onPress}),(void 0===o||o)&&!_&&!(null!=c&&c.type)&&(0,J.jsxs)("div",{className:ep.Il.controlsContainer.background(),onMouseUp:k.onPress,children:[u&&(0,J.jsx)("div",{className:ep.Il.controlsContainer.loadingText(),children:u}),(0,J.jsx)("div",{className:ep.Il.controlsContainer.loading()})]}),(null==c?void 0:c.type)&&(0,J.jsx)("div",{className:ep.Il.controlsContainer.background(),onMouseUp:k.onPress,children:(null==c?void 0:c.type)==="access-control"?(0,J.jsx)(rz,{}):(null==c?void 0:c.type)==="offline"?(0,J.jsx)(rZ,{isBroadcast:w}):(0,J.jsx)(r$,{isBroadcast:w})}),_&&!(null!=c&&c.type)&&(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)("div",{className:ep.Il.controlsContainer.gradient({display:p?"hidden":"shown"}),onMouseUp:k.onPress}),(0,J.jsx)("div",{className:ep.Il.controlsContainer.top.container({display:p?"hidden":"shown"}),children:t}),(0,J.jsxs)("div",{className:ep.Il.controlsContainer.bottom.container({display:p?"hidden":"shown"}),children:[(0,J.jsx)("div",{className:ep.Il.controlsContainer.bottom.middle.container(),children:r}),(0,J.jsxs)("div",{className:ep.Il.controlsContainer.bottom.lower.container(),children:[(0,J.jsx)("div",{className:ep.Il.controlsContainer.bottom.lower.left(),children:n}),(0,J.jsx)("div",{className:ep.Il.controlsContainer.bottom.lower.right(),children:i})]})]}),d&&(0,J.jsx)("div",{className:ep.Il.controlsContainer.background({display:p?"hidden":"shown"}),children:d})]})]})},rG=function(){return(0,J.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,J.jsx)("path",{fill:"currentColor",d:"m 10,16 2,0 0,-4 4,0 0,-2 L 10,10 l 0,6 0,0 z"}),(0,J.jsx)("path",{fill:"currentColor",d:"m 20,10 0,2 4,0 0,4 2,0 L 26,10 l -6,0 0,0 z"}),(0,J.jsx)("path",{fill:"currentColor",d:"m 24,24 -4,0 0,2 L 26,26 l 0,-6 -2,0 0,4 0,0 z"}),(0,J.jsx)("path",{fill:"currentColor",d:"M 12,20 10,20 10,26 l 6,0 0,-2 -4,0 0,-4 0,0 z"})]})},rK=function(){return(0,J.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 36 36",xmlns:"http://www.w3.org/2000/svg",children:[(0,J.jsx)("path",{fill:"currentColor",d:"m 14,14 -4,0 0,2 6,0 0,-6 -2,0 0,4 0,0 z"}),(0,J.jsx)("path",{fill:"currentColor",d:"m 22,14 0,-4 -2,0 0,6 6,0 0,-2 -4,0 0,0 z"}),(0,J.jsx)("path",{fill:"currentColor",d:"m 20,26 2,0 0,-4 4,0 0,-2 -6,0 0,6 0,0 z"}),(0,J.jsx)("path",{fill:"currentColor",d:"m 10,22 4,0 0,4 2,0 0,-6 -6,0 0,2 0,0 z"})]})},rY=function(e){return{fullscreen:e.fullscreen,pictureInPicture:e.pictureInPicture,requestToggleFullscreen:e.requestToggleFullscreen}},rJ=function(e){var t=(0,eD.u)(rY),r=t.fullscreen,n=t.pictureInPicture,i=t.requestToggleFullscreen,a=er((0,s._)({fullscreen:r,pictureInPicture:n,requestToggleFullscreen:i,defaultEnterIcon:(0,J.jsx)(rG,{}),defaultExitIcon:(0,J.jsx)(rK,{})},e)),o=a.title,l=a.buttonProps;return l?(0,J.jsx)("button",(0,s._)({style:{width:e.size,height:e.size},className:ep.Il.iconButton(),title:o,"aria-label":o,onClick:l.onPress},(0,F.o)(l,"onPress","size"))):(0,J.jsx)(J.Fragment,{})},rX=["icon","onPress"],r0=function(){return(0,J.jsx)("svg",{width:"100%",height:"100%",viewBox:"0 0 36 36",xmlns:"http://www.w3.org/2000/svg",children:(0,J.jsx)("path",{fill:"currentColor",d:"M25,17 L17,17 L17,23 L25,23 L25,17 L25,17 Z M29,25 L29,10.98 C29,9.88 28.1,9 27,9 L9,9 C7.9,9 7,9.88 7,10.98 L7,25 C7,26.1 7.9,27 9,27 L27,27 C28.1,27 29,26.1 29,25 L29,25 Z M27,25.02 L9,25.02 L9,10.97 L27,10.97 L27,25.02 L27,25.02 Z"})})},r1=function(e){return{requestTogglePictureInPicture:e.requestTogglePictureInPicture,pictureInPicture:e.pictureInPicture,_element:e._element,fullscreen:e.fullscreen}},r2=function(e){var t=(0,eD.u)(r1),r=t.requestTogglePictureInPicture,n=t._element,i=t.pictureInPicture,a=t.fullscreen,o=e.icon,u=e.onPress,c=rR(e,rX),d=l.useCallback(rl(ro().mark(function e(){return ro().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null==u?void 0:u();case 2:return e.next=4,r();case 4:case"end":return e.stop()}},e)})),[u,r]),h=l.useMemo(function(){return(0,rt.vs)(n)},[n]),p=l.useMemo(function(){return i?"Exit mini player (i)":"Mini player (i)"},[i]);if(!h||a)return(0,J.jsx)(J.Fragment,{});var f=o||(0,J.jsx)(r0,{});return(0,J.jsx)("button",(0,s._)((0,s._)({style:{width:e.size,height:e.size},className:ep.Il.iconButton(),title:p,"aria-label":p,onClick:d},c),{},{children:f}))},r5=function(e){return{duration:e.duration,progress:e.progress,live:e.live}},r4=function(){var e=(0,eD.u)(r5),t=eo({duration:e.duration,progress:e.progress,live:e.live}),r=t.title,n=t.live;return(0,J.jsx)(J.Fragment,{children:n?(0,J.jsxs)("div",{className:ep.Il.time.container(),children:[(0,J.jsx)("div",{className:ep.Il.time.liveIndicator()}),(0,J.jsx)("span",{className:ep.Il.time.text(),"aria-label":"Live streaming media",children:"LIVE"})]}):(0,J.jsx)("span",{className:ep.Il.time.text(),"aria-label":"Playback time",children:r})})},r6=function(e){var t=e.content;return(0,J.jsx)("span",{className:ep.Il.title(),"aria-label":"Title",children:t})};(0,l.memo)(function(e){var t=X(e),r=t.mediaElement,n=t.broadcastProps,i=t.mediaControllerProps,a=t.controlsContainerProps,o=t.props,u=o.children,c=o.controls,d=o.theme,h=o.title,p=o.aspectRatio,f=o.renderChildrenOutsideContainer;return(0,J.jsxs)(eD.M,{element:r,opts:c,mediaProps:i,children:[(0,J.jsxs)(rB,{theme:d,aspectRatio:p,tabIndex:e.tabIndex,children:[(0,J.jsx)(rh,(0,s._)({},n)),!f&&l.isValidElement(u)?l.cloneElement(u,a):(0,J.jsx)(rQ,(0,s._)((0,s._)({},a),{},{top:(0,J.jsx)(J.Fragment,{children:h&&(0,J.jsx)(r6,{content:h})}),left:(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(rN,{}),(0,J.jsx)(rx,{}),(0,J.jsx)(rP,{options:null==e?void 0:e.displayMediaOptions}),(0,J.jsx)(r4,{})]}),right:(0,J.jsxs)(J.Fragment,{children:[e.showPipButton&&(0,J.jsx)(r2,{}),(0,J.jsx)(rC,{streamConstraints:e.mediaStreamConstraints}),(0,J.jsx)(rJ,{})]})}))]}),f&&l.isValidElement(u)?u:(0,J.jsx)(J.Fragment,{})]})});var r3=function(e){return{fullscreen:e.fullscreen}},r9=l.forwardRef(function(e,t){var r=e.src,n=e.autoPlay,i=e.title,a=e.loop,o=e.muted,s=e.objectFit,u=e.allowCrossOriginCredentials,c=(0,eD.u)(r3).fullscreen,d=l.useMemo(function(){var e;return null!==(e=null==r?void 0:r.filter(function(e){return(null==e?void 0:e.mime)&&(0,rt.wf)(e)}))&&void 0!==e?e:[]},[r]);return(0,J.jsxs)("audio",{className:ep.Il.media.audio({size:c?"fullscreen":s}),loop:a,"aria-label":null!=i?i:"Audio player",role:"audio",autoPlay:n,ref:t,"webkit-playsinline":"true",playsInline:!0,muted:o,crossOrigin:u?"use-credentials":"anonymous",children:[d.map(function(e){return(0,J.jsx)("source",{src:e.src,type:e.mime},e.src)}),"Your browser doesn't support the HTML5 <code>audio</code> tag, or the audio format."]})});r9.displayName="AudioPlayer";var r8=function(){return(0,J.jsx)("svg",{width:"100%",height:"100%",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,J.jsx)("path",{d:"M 12,26 18.5,22 18.5,14 12,10 z M 18.5,22 25,18 25,18 18.5,14 z",fill:"currentColor"})})},r7=function(){return(0,J.jsx)("svg",{width:"100%",height:"100%",viewBox:"0 0 36 36",fill:"none",children:(0,J.jsx)("path",{d:"M 12,26 16,26 16,10 12,10 z M 21,26 25,26 25,10 21,10 z",fill:"currentColor"})})},ne=function(e){return{togglePlay:e.togglePlay,playing:e.playing}},nt=function(e){var t=(0,eD.u)(ne),r=t.togglePlay,n=t.playing,i=en((0,s._)({togglePlay:r,playing:n,defaultPauseIcon:(0,J.jsx)(r7,{}),defaultPlayIcon:(0,J.jsx)(r8,{})},e)),a=i.buttonProps,o=i.title;return(0,J.jsx)("button",(0,s._)({style:{width:e.size,height:e.size},className:ep.Il.iconButton(),title:o,"aria-label":o,onClick:a.onPress},(0,F.o)(a,"onPress","size")))},nr=function(e){return{fullscreen:e.fullscreen}},nn=function(e){var t=(0,eD.u)(nr).fullscreen,r=e.content,n=e.title;return"string"==typeof r?(0,J.jsx)("img",{className:ep.Il.media.poster({size:t?"fullscreen":"default"}),"aria-label":n,alt:n,src:r}):l.isValidElement(r)?l.cloneElement(r,{className:ep.Il.media.poster({size:t?"fullscreen":"default"})}):(0,J.jsx)(J.Fragment,{})},ni=function(e){return{duration:e.duration,progress:e.progress,requestSeek:e.requestSeek,buffered:e.buffered,live:e.live}},na=function(e){var t=(0,eD.u)(ni),r=t.duration,n=t.progress,i=t.requestSeek,a=t.buffered,o=t.live,l=ei((0,s._)({duration:r,progress:n,requestSeek:i,buffered:a,live:o},e)),u=l.isVisible,c=l.progressProps,d=l.title;return u?(0,J.jsx)(rq,(0,s._)((0,s._)({},c),{},{ariaName:d})):(0,J.jsx)(J.Fragment,{})},no=function(){return(0,J.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 36 36",children:[(0,J.jsx)("path",{d:"M 9.25,9 7.98,10.27 24.71,27 l 1.27,-1.27 Z",fill:"currentColor"}),(0,J.jsx)("path",{fill:"currentColor",d:"M8,21 L12,21 L17,26 L17,10 L12,15 L8,15 L8,21 Z M19,14 L19,22 C20.48,21.32 21.5,19.77 21.5,18 C21.5,16.26 20.48,14.74 19,14 ZM19,11.29 C21.89,12.15 24,14.83 24,18 C24,21.17 21.89,23.85 19,24.71 L19,26.77 C23.01,25.86 26,22.28 26,18 C26,13.72 23.01,10.14 19,9.23 L19,11.29 Z"})]})},ns=function(){return(0,J.jsx)("svg",{width:"100%",height:"100%",viewBox:"0 0 36 36",children:(0,J.jsx)("path",{fill:"currentColor",d:"M8,21 L12,21 L17,26 L17,10 L12,15 L8,15 L8,21 Z M19,14 L19,22 C20.48,21.32 21.5,19.77 21.5,18 C21.5,16.26 20.48,14.74 19,14 ZM19,11.29 C21.89,12.15 24,14.83 24,18 C24,21.17 21.89,23.85 19,24.71 L19,26.77 C23.01,25.86 26,22.28 26,18 C26,13.72 23.01,10.14 19,9.23 L19,11.29 Z"})})},nl=function(e){return{isVolumeChangeSupported:e.isVolumeChangeSupported,requestToggleMute:e.requestToggleMute,requestVolume:e.requestVolume,muted:e.muted,volume:e.volume}},nu=function(e){var t=(0,eD.u)(nl),r=t.volume,n=t.requestToggleMute,i=t.muted,a=t.requestVolume,o=t.isVolumeChangeSupported,l=es((0,s._)({volume:r,requestToggleMute:n,muted:i,requestVolume:a,isVolumeChangeSupported:o,defaultMutedIcon:(0,J.jsx)(no,{}),defaultUnmutedIcon:(0,J.jsx)(ns,{})},e)),u=l.progressProps,c=l.buttonProps,d=l.title;return(0,J.jsxs)("div",{className:ep.Il.volume.container(),children:[(0,J.jsx)("button",(0,s._)({style:{width:e.size,height:e.size},className:ep.Il.iconButton(),title:d,"aria-label":d,onClick:c.onPress},(0,F.o)(c,"onPress","size"))),u.shown&&(0,J.jsx)(rq,(0,s._)({ariaName:"volume",value:i?0:r},u))]})},nc=function(e){return{setLive:e.setLive,onDurationChange:e.onDurationChange,onCanPlay:e.onCanPlay,_element:e._element}},nd=l.forwardRef(function(e,t){var r,n=e.src,i=e.hlsConfig,a=e.autoPlay,o=e.title,u=e.loop,c=e.muted,d=e.poster,h=e.objectFit,p=e.fullscreen,f=e.playbackError,m=e.onPlaybackError,v=e.priority,g=e.allowCrossOriginCredentials,y=(0,eD.u)(nc),b=y.setLive,w=y.onCanPlay,x=y.onDurationChange,_=y._element,k=l.useCallback((r=rl(ro().mark(function e(t){return ro().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:null==m||m(null),b(t);case 2:case"end":return e.stop()}},e)})),function(e){return r.apply(this,arguments)}),[m,b]);return l.useEffect(function(){if(_&&n){var e=ra(null==n?void 0:n.src,_,{onLive:k,onDuration:x,onCanPlay:w,onError:function(e){var t,r,n,i,a,o=Error(null!==(t=null==e?void 0:null===(r=e.response)||void 0===r?void 0:null===(n=r.data)||void 0===n?void 0:null===(i=n.toString)||void 0===i?void 0:i.call(n))&&void 0!==t?t:(null==e?void 0:null===(a=e.response)||void 0===a?void 0:a.code)===401?K.Hn:"Error with HLS.js");null==m||m(o)}},(0,s._)({autoplay:a,xhrSetup:function(e,t){e.withCredentials=Boolean(g)}},i)).destroy;return function(){null==e||e()}}},[a,i,x,w,_,n,k,m,g]),null!=f&&f.type?(0,J.jsx)(J.Fragment,{}):(0,J.jsx)("video",{className:ep.Il.media.video({size:p?"fullscreen":h}),loop:u,"aria-label":null!=o?o:"Video player",role:"video",width:"100%",height:"100%",ref:t,"webkit-playsinline":"true",playsInline:!0,autoPlay:a,muted:c,poster:"string"==typeof d?d:void 0,preload:v?"auto":"metadata",crossOrigin:g?"use-credentials":"anonymous"})}),nh=function(e){return{canPlay:e.canPlay}},np=l.forwardRef(function(e,t){var r,n,i=e.autoPlay,a=e.title,o=e.loop,s=e.muted,u=e.poster,c=e.objectFit,d=e.priority,h=e.onPlaybackError,p=e.src,f=e.fullscreen,m=(0,eD.u)(nh).canPlay,v=l.useCallback((r=rl(ro().mark(function e(t){var r,n,i,a,o;return ro().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=null!==(r=null==(i=null==(n=t.target)?void 0:n.parentElement)?void 0:i.currentSrc)&&void 0!==r?r:null==n?void 0:n.currentSrc)){e.next=22;break}return e.prev=4,e.next=7,fetch(a);case 7:if(404!==(o=e.sent).status){e.next=13;break}return console.warn("Video not found"),e.abrupt("return",null==h?void 0:h(Error(K.fu)));case 13:if(401!==o.status){e.next=16;break}return console.warn("Unauthorized to view video"),e.abrupt("return",null==h?void 0:h(Error(K.Hn)));case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(4),console.warn(e.t0),e.abrupt("return",null==h?void 0:h(Error("Error fetching video URL")));case 22:return console.warn("Unknown error loading video"),e.abrupt("return",null==h?void 0:h(Error("Unknown error loading video")));case 24:case"end":return e.stop()}},e,null,[[4,18]])})),function(e){return r.apply(this,arguments)}),[h]);return l.useEffect(function(){m&&(null==h||h(null))},[m,h]),(0,J.jsx)("video",{className:ep.Il.media.video({size:f?"fullscreen":c}),loop:o,"aria-label":null!=a?a:"Video player",role:"video",autoPlay:i,width:"100%",height:"100%",ref:t,"webkit-playsinline":"true",playsInline:!0,muted:s,poster:"string"==typeof u?u:void 0,onError:v,preload:d?"auto":"metadata",src:null!==(n=null==p?void 0:p.src)&&void 0!==n?n:void 0,children:"Your browser doesn't support the HTML5 <code>video</code> tag, or the video format."})});np.displayName="HtmlVideoPlayer";var nf=function(e){return{metadata:e.metadata,_element:e._element,setLive:e.setLive}},nm=l.forwardRef(function(e,t){var r=e.src,n=e.autoPlay,i=e.title,a=e.loop,o=e.muted,s=e.poster,u=e.objectFit,c=e.fullscreen,d=e.onPlaybackError,h=e.priority,p=e.webrtcConfig,f=(0,eD.u)(nf),m=f.metadata,v=f._element,g=f.setLive,y=l.useCallback(rl(ro().mark(function e(){return ro().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:null==d||d(null),g(!0);case 2:case"end":return e.stop()}},e)})),[d,g]);return l.useEffect(function(){null!=m&&m.bframes&&d(Error("Metadata indicates that WebRTC playback contains bframes."))},[m,d]),l.useEffect(function(){if(v&&r.src){var e=eL(null==r?void 0:r.src,v,{onConnected:y,onError:function(e){var t,r,n,i=Error(null!==(t=null==e?void 0:null===(r=e.message)||void 0===r?void 0:null===(n=r.toString)||void 0===n?void 0:n.call(r))&&void 0!==t?t:"Error with WebRTC");null==d||d(i)}},p).destroy;return function(){null==e||e()}}},[p,v,y,r,d]),(0,J.jsx)("video",{className:ep.Il.media.video({size:c?"fullscreen":u}),loop:a,"aria-label":null!=i?i:"Video player",role:"video",width:"100%",height:"100%",ref:t,"webkit-playsinline":"true",playsInline:!0,autoPlay:n,muted:o,poster:"string"==typeof s?s:void 0,preload:h?"auto":"metadata"})}),nv=function(e){return{fullscreen:e.fullscreen}},ng=l.forwardRef(function(e,t){var r=(0,eD.u)(nv).fullscreen,n=e.src,i=e.onPlaybackError,a=e.playbackError,o=e.lowLatency,u=e.onPlaybackStatusUpdate,c=e.playbackStatusSelector,d=rc(l.useMemo(function(){return[!(0,ey.i)()||rr.Z.isSupported(),eb()]},[]),2),h=d[0],p=d[1],f=l.useMemo(function(){var e;return null==n?void 0:null===(e=n.filter(function(e){return!!o||"webrtc"!==e.type}))||void 0===e?void 0:e.map(function(e){return"hls"!==e.type||h?e:(0,s._)((0,s._)({},e),{},{type:"video",mime:"application/vnd.apple.mpegurl"})})},[n,h,o]),m=rc(l.useState(0),2),v=m[0],g=m[1],y=l.useCallback(function(){g(function(e){return e+1})},[g]),b=l.useMemo(function(){var e,t;return e=1e3*Math.pow(2,v),t=null,{debouncedFn:function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];null===t&&(t=setTimeout(function(){t=null,y.apply(void 0,n)},e))},cancel:function(){t&&(clearTimeout(t),t=null)}}},[y,v]),w=b.debouncedFn,x=b.cancel,_=l.useRef(w),k=l.useRef(x);l.useEffect(function(){_.current=w,k.current=x},[w,x]);var T=l.useMemo(function(){var e,t;return null!==(e=null==f?void 0:f[v%(null!==(t=null==f?void 0:f.length)&&void 0!==t?t:0)])&&void 0!==e?e:null},[f,v]);l.useEffect(function(){if((null==a?void 0:a.type)==="offline"&&(null==T?void 0:T.type)!=="hls"){var e;null==_||null===(e=_.current)||void 0===e||e.call(_)}},[a,T]),l.useEffect(function(){var e,t;(null==a?void 0:a.type)==="unknown"?null==_||null===(e=_.current)||void 0===e||e.call(_):null===a&&(null==k||null===(t=k.current)||void 0===t||t.call(k))},[a]),l.useEffect(function(){var e;((null==T?void 0:T.type)!=="webrtc"||p)&&((null==T?void 0:T.type)!=="hls"||h)&&((null==T?void 0:T.type)!=="video"||(0,rt.wf)(T))||null==_||null===(e=_.current)||void 0===e||e.call(_)},[h,p,T]);var E=l.useContext(eD.b),C=l.useCallback(function(e){return c?c(e):e},[c]);return l.useEffect(function(){return E.subscribe(C,function(e,t){return null==u?void 0:u((0,Y.s)(e),(0,Y.s)(t))})},[u,C,E]),l.useEffect(function(){if(T){var e,t,r;null==E||null===(e=E.getState)||void 0===e||null===(t=e.call(E))||void 0===t||null===(r=t._updateSource)||void 0===r||r.call(t,null==T?void 0:T.src)}},[E,T]),l.useEffect(function(){return(0,re.z2)(E,function(e){null==i||i(e),console.error("Not able to report player metrics",e)}).destroy},[i,E]),(null==T?void 0:T.type)==="webrtc"?(0,J.jsx)(nm,(0,s._)((0,s._)({},e),{},{ref:t,src:T,fullscreen:r})):(null==T?void 0:T.type)==="hls"?(0,J.jsx)(nd,(0,s._)((0,s._)({},e),{},{ref:t,src:T,fullscreen:r})):(0,J.jsx)(np,(0,s._)((0,s._)({},e),{},{ref:t,src:T,fullscreen:r}))}),ny=l.memo(ng),nb=function(e){var t=rc(l.useState(!1),2),r=t[0],n=t[1];return l.useEffect(function(){if("undefined"!=typeof window&&e){if("IntersectionObserver"in window){var t=new IntersectionObserver(function(e){var t=rc(e,1)[0];return n(Boolean(null==t?void 0:t.isIntersecting))});return t.observe(e),function(){t.disconnect()}}n(!0)}},[e]),r},nw=(0,l.memo)(function(e){var t,r=rc(l.useState(!1),2),n=r[0],i=r[1],a=l.useMemo(function(){var e,t,r,n;return"undefined"!=typeof window&&null!==(e=(null===(t=window)||void 0===t?void 0:null===(r=t.screen)||void 0===r?void 0:r.availWidth)||(null===(n=window)||void 0===n?void 0:n.innerWidth))&&void 0!==e?e:null},[]),o=l.useMemo(function(){var t;return null!==(t=e._isCurrentlyShown)&&void 0!==t?t:n},[e._isCurrentlyShown,n]),u=eh((0,s._)((0,s._)({},e),{},{_isCurrentlyShown:o}),{_screenWidth:a}),c=u.mediaElement,d=u.playerProps,h=u.mediaControllerProps,p=u.controlsContainerProps,f=u.source,m=u.props,v=m.children,g=m.controls,y=m.theme,b=m.title,w=m.poster,x=m.showTitle,_=m.aspectRatio,k=m.renderChildrenOutsideContainer,T=nb(c);return l.useEffect(function(){i(T)},[T]),(0,J.jsxs)(eD.M,{element:c,opts:g,mediaProps:h,children:[(0,J.jsxs)(rB,{theme:y,aspectRatio:_,tabIndex:e.tabIndex,children:[f&&(null==f?void 0:null===(t=f[0])||void 0===t?void 0:t.type)==="audio"?(0,J.jsx)(r9,(0,s._)((0,s._)({},d),{},{src:f,allowCrossOriginCredentials:e.allowCrossOriginCredentials})):(0,J.jsx)(ny,(0,s._)((0,s._)({},d),{},{hlsConfig:e.hlsConfig,webrtcConfig:e.webrtcConfig,lowLatency:e.lowLatency,playbackStatusSelector:e.playbackStatusSelector,allowCrossOriginCredentials:e.allowCrossOriginCredentials,src:f})),!k&&l.isValidElement(v)?l.cloneElement(v,p):(0,J.jsx)(rQ,(0,s._)((0,s._)({},p),{},{poster:w&&(0,J.jsx)(nn,{content:w,title:b}),top:(0,J.jsx)(J.Fragment,{children:b&&x&&(0,J.jsx)(r6,{content:b})}),middle:(0,J.jsx)(na,{}),left:(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(nt,{}),(0,J.jsx)(nu,{}),(0,J.jsx)(r4,{})]}),right:(0,J.jsxs)(J.Fragment,{children:[e.showPipButton&&(0,J.jsx)(r2,{}),(0,J.jsx)(rJ,{})]})}))]}),k&&l.isValidElement(v)?v:(0,J.jsx)(J.Fragment,{})]})})},31530:function(e,t,r){"use strict";var n=r(28710).charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},48457:function(e,t,r){"use strict";var n=r(49974),i=r(46916),a=r(47908),o=r(53411),s=r(97659),l=r(4411),u=r(26244),c=r(86135),d=r(18554),h=r(71246),p=Array;e.exports=function(e){var t,r,f,m,v,g,y=a(e),b=l(this),w=arguments.length,x=w>1?arguments[1]:void 0,_=void 0!==x;_&&(x=n(x,w>2?arguments[2]:void 0));var k=h(y),T=0;if(k&&!(this===p&&s(k)))for(v=(m=d(y,k)).next,r=b?new this:[];!(f=i(v,m)).done;T++)g=_?o(m,x,[f.value,T],!0):f.value,c(r,T,g);else for(t=u(y),r=b?new this(t):p(t);t>T;T++)g=_?x(y[T],T):y[T],c(r,T,g);return r.length=T,r}},42092:function(e,t,r){var n=r(49974),i=r(1702),a=r(68361),o=r(47908),s=r(26244),l=r(65417),u=i([].push),c=function(e){var t=1==e,r=2==e,i=3==e,c=4==e,d=6==e,h=7==e,p=5==e||d;return function(f,m,v,g){for(var y,b,w=o(f),x=a(w),_=n(m,v),k=s(x),T=0,E=g||l,C=t?E(f,k):r||h?E(f,0):void 0;k>T;T++)if((p||T in x)&&(b=_(y=x[T],T,w),e)){if(t)C[T]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return T;case 2:u(C,y)}else switch(e){case 4:return!1;case 7:u(C,y)}}return d?-1:i||c?c:C}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},81194:function(e,t,r){var n=r(47293),i=r(5112),a=r(7392),o=i("species");e.exports=function(e){return a>=51||!n(function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},41589:function(e,t,r){var n=r(51400),i=r(26244),a=r(86135),o=Array,s=Math.max;e.exports=function(e,t,r){for(var l=i(e),u=n(t,l),c=n(void 0===r?l:r,l),d=o(s(c-u,0)),h=0;u<c;u++,h++)a(d,h,e[u]);return d.length=h,d}},94362:function(e,t,r){var n=r(41589),i=Math.floor,a=function(e,t){var r=e.length,l=i(r/2);return r<8?o(e,t):s(e,a(n(e,0,l),t),a(n(e,l),t),t)},o=function(e,t){for(var r,n,i=e.length,a=1;a<i;){for(n=a,r=e[a];n&&t(e[n-1],r)>0;)e[n]=e[--n];n!==a++&&(e[n]=r)}return e},s=function(e,t,r,n){for(var i=t.length,a=r.length,o=0,s=0;o<i||s<a;)e[o+s]=o<i&&s<a?0>=n(t[o],r[s])?t[o++]:r[s++]:o<i?t[o++]:r[s++];return e};e.exports=a},77475:function(e,t,r){var n=r(43157),i=r(4411),a=r(70111),o=r(5112)("species"),s=Array;e.exports=function(e){var t;return n(e)&&(i(t=e.constructor)&&(t===s||n(t.prototype))?t=void 0:a(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?s:t}},65417:function(e,t,r){var n=r(77475);e.exports=function(e,t){return new(n(e))(0===t?0:t)}},53411:function(e,t,r){var n=r(19670),i=r(99212);e.exports=function(e,t,r,a){try{return a?t(n(r)[0],r[1]):t(r)}catch(o){i(e,"throw",o)}}},49920:function(e,t,r){var n=r(47293);e.exports=!n(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},76178:function(e){e.exports=function(e,t){return{value:e,done:t}}},86135:function(e,t,r){"use strict";var n=r(34948),i=r(3070),a=r(79114);e.exports=function(e,t,r){var o=n(t);o in e?i.f(e,o,a(0,r)):e[o]=r}},89190:function(e,t,r){var n=r(98052);e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},7207:function(e){var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},48324:function(e){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},98509:function(e,t,r){var n=r(80317)("span").classList,i=n&&n.constructor&&n.constructor.prototype;e.exports=i===Object.prototype?void 0:i},27007:function(e,t,r){"use strict";r(74916);var n=r(21470),i=r(98052),a=r(22261),o=r(47293),s=r(5112),l=r(68880),u=s("species"),c=RegExp.prototype;e.exports=function(e,t,r,d){var h=s(e),p=!o(function(){var t={};return t[h]=function(){return 7},7!=""[e](t)}),f=p&&!o(function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[u]=function(){return r},r.flags="",r[h]=/./[h]),r.exec=function(){return t=!0,null},r[h](""),!t});if(!p||!f||r){var m=n(/./[h]),v=t(h,""[e],function(e,t,r,i,o){var s=n(e),l=t.exec;return l===a||l===c.exec?p&&!o?{done:!0,value:m(t,r,i)}:{done:!0,value:s(r,t,i)}:{done:!1}});i(String.prototype,e,v[0]),i(c,h,v[1])}d&&l(c[h],"sham",!0)}},10647:function(e,t,r){var n=r(1702),i=r(47908),a=Math.floor,o=n("".charAt),s=n("".replace),l=n("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,n,d,h){var p=r+e.length,f=n.length,m=c;return void 0!==d&&(d=i(d),m=u),s(h,m,function(i,s){var u;switch(o(s,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,r);case"'":return l(t,p);case"<":u=d[l(s,1,-1)];break;default:var c=+s;if(0===c)return i;if(c>f){var h=a(c/10);if(0===h)return i;if(h<=f)return void 0===n[h-1]?o(s,1):n[h-1]+o(s,1);return i}u=n[c-1]}return void 0===u?"":u})}},43157:function(e,t,r){var n=r(84326);e.exports=Array.isArray||function(e){return"Array"==n(e)}},63061:function(e,t,r){"use strict";var n=r(13383).IteratorPrototype,i=r(70030),a=r(79114),o=r(58003),s=r(97497),l=function(){return this};e.exports=function(e,t,r,u){var c=t+" Iterator";return e.prototype=i(n,{next:a(+!u,r)}),o(e,c,!1,!0),s[c]=l,e}},51656:function(e,t,r){"use strict";var n=r(82109),i=r(46916),a=r(31913),o=r(76530),s=r(60614),l=r(63061),u=r(79518),c=r(27674),d=r(58003),h=r(68880),p=r(98052),f=r(5112),m=r(97497),v=r(13383),g=o.PROPER,y=o.CONFIGURABLE,b=v.IteratorPrototype,w=v.BUGGY_SAFARI_ITERATORS,x=f("iterator"),_="keys",k="values",T="entries",E=function(){return this};e.exports=function(e,t,r,o,f,v,C){l(r,t,o);var S,j,L,P=function(e){if(e===f&&A)return A;if(!w&&e in M)return M[e];switch(e){case _:case k:case T:return function(){return new r(this,e)}}return function(){return new r(this)}},R=t+" Iterator",I=!1,M=e.prototype,O=M[x]||M["@@iterator"]||f&&M[f],A=!w&&O||P(f),N="Array"==t&&M.entries||O;if(N&&(S=u(N.call(new e)))!==Object.prototype&&S.next&&(a||u(S)===b||(c?c(S,b):s(S[x])||p(S,x,E)),d(S,R,!0,!0),a&&(m[R]=E)),g&&f==k&&O&&O.name!==k&&(!a&&y?h(M,"name",k):(I=!0,A=function(){return i(O,this)})),f){if(j={values:P(k),keys:v?A:P(_),entries:P(T)},C)for(L in j)!w&&!I&&L in M||p(M,L,j[L]);else n({target:t,proto:!0,forced:w||I},j)}return(!a||C)&&M[x]!==A&&p(M,x,A,{name:f}),m[t]=A,j}},13383:function(e,t,r){"use strict";var n,i,a,o=r(47293),s=r(60614),l=r(70111),u=r(70030),c=r(79518),d=r(98052),h=r(5112),p=r(31913),f=h("iterator"),m=!1;[].keys&&("next"in(a=[].keys())?(i=c(c(a)))!==Object.prototype&&(n=i):m=!0),!l(n)||o(function(){var e={};return n[f].call(e)!==e})?n={}:p&&(n=u(n)),s(n[f])||d(n,f,function(){return this}),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:m}},79518:function(e,t,r){var n=r(92597),i=r(60614),a=r(47908),o=r(6200),s=r(49920),l=o("IE_PROTO"),u=Object,c=u.prototype;e.exports=s?u.getPrototypeOf:function(e){var t=a(e);if(n(t,l))return t[l];var r=t.constructor;return i(r)&&t instanceof r?r.prototype:t instanceof u?c:null}},97651:function(e,t,r){var n=r(46916),i=r(19670),a=r(60614),o=r(84326),s=r(22261),l=TypeError;e.exports=function(e,t){var r=e.exec;if(a(r)){var u=n(r,e,t);return null!==u&&i(u),u}if("RegExp"===o(e))return n(s,e,t);throw l("RegExp#exec called on incompatible receiver")}},34706:function(e,t,r){var n=r(46916),i=r(92597),a=r(47976),o=r(67066),s=RegExp.prototype;e.exports=function(e){var t=e.flags;return!(void 0===t&&!("flags"in s)&&!i(e,"flags")&&a(s,e))?t:n(o,e)}},28710:function(e,t,r){var n=r(1702),i=r(19303),a=r(41340),o=r(84488),s=n("".charAt),l=n("".charCodeAt),u=n("".slice),c=function(e){return function(t,r){var n,c,d=a(o(t)),h=i(r),p=d.length;return h<0||h>=p?e?"":void 0:(n=l(d,h))<55296||n>56319||h+1===p||(c=l(d,h+1))<56320||c>57343?e?s(d,h):n:e?u(d,h,h+2):(n-55296<<10)+(c-56320)+65536}};e.exports={codeAt:c(!1),charAt:c(!0)}},33197:function(e,t,r){var n=r(1702),i=/[^\0-\u007E]/,a=/[.\u3002\uFF0E\uFF61]/g,o="Overflow: input needs wider integers to process",s=RangeError,l=n(a.exec),u=Math.floor,c=String.fromCharCode,d=n("".charCodeAt),h=n([].join),p=n([].push),f=n("".replace),m=n("".split),v=n("".toLowerCase),g=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=d(e,r++);if(i>=55296&&i<=56319&&r<n){var a=d(e,r++);(64512&a)==56320?p(t,((1023&i)<<10)+(1023&a)+65536):(p(t,i),r--)}else p(t,i)}return t},y=function(e){return e+22+75*(e<26)},b=function(e,t,r){var n=0;for(e=r?u(e/700):e>>1,e+=u(e/t);e>455;)e=u(e/35),n+=36;return u(n+36*e/(e+38))},w=function(e){var t,r,n=[],i=(e=g(e)).length,a=128,l=0,d=72;for(t=0;t<e.length;t++)(r=e[t])<128&&p(n,c(r));var f=n.length,m=f;for(f&&p(n,"-");m<i;){var v=2147483647;for(t=0;t<e.length;t++)(r=e[t])>=a&&r<v&&(v=r);var w=m+1;if(v-a>u((2147483647-l)/w))throw s(o);for(l+=(v-a)*w,a=v,t=0;t<e.length;t++){if((r=e[t])<a&&++l>2147483647)throw s(o);if(r==a){for(var x=l,_=36;;){var k=_<=d?1:_>=d+26?26:_-d;if(x<k)break;var T=x-k,E=36-k;p(n,c(y(k+T%E))),x=u(T/E),_+=36}p(n,c(y(x))),d=b(l,w,m==f),l=0,m++}}l++,a++}return h(n,"")};e.exports=function(e){var t,r,n=[],o=m(f(v(e),a,"."),".");for(t=0;t<o.length;t++)p(n,l(i,r=o[t])?"xn--"+w(r):r);return h(n,".")}},85143:function(e,t,r){var n=r(47293),i=r(5112),a=r(19781),o=r(31913),s=i("iterator");e.exports=!n(function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r=new URLSearchParams("a=1&a=2"),n="";return e.pathname="c%20d",t.forEach(function(e,r){t.delete("b"),n+=r+e}),r.delete("a",2),o&&(!e.toJSON||!r.has("a",1)||r.has("a",2))||!t.size&&(o||!a)||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})},92222:function(e,t,r){"use strict";var n=r(82109),i=r(47293),a=r(43157),o=r(70111),s=r(47908),l=r(26244),u=r(7207),c=r(86135),d=r(65417),h=r(81194),p=r(5112),f=r(7392),m=p("isConcatSpreadable"),v=f>=51||!i(function(){var e=[];return e[m]=!1,e.concat()[0]!==e}),g=function(e){if(!o(e))return!1;var t=e[m];return void 0!==t?!!t:a(e)};n({target:"Array",proto:!0,arity:1,forced:!v||!h("concat")},{concat:function(e){var t,r,n,i,a,o=s(this),h=d(o,0),p=0;for(t=-1,n=arguments.length;t<n;t++)if(a=-1===t?o:arguments[t],g(a))for(u(p+(i=l(a))),r=0;r<i;r++,p++)r in a&&c(h,p,a[r]);else u(p+1),c(h,p++,a);return h.length=p,h}})},4480:function(e,t,r){"use strict";var n=r(82109),i=r(42092).filter;n({target:"Array",proto:!0,forced:!r(81194)("filter")},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},66992:function(e,t,r){"use strict";var n=r(45656),i=r(51223),a=r(97497),o=r(29909),s=r(3070).f,l=r(51656),u=r(76178),c=r(31913),d=r(19781),h="Array Iterator",p=o.set,f=o.getterFor(h);e.exports=l(Array,"Array",function(e,t){p(this,{type:h,target:n(e),index:0,kind:t})},function(){var e=f(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,u(void 0,!0)):"keys"==r?u(n,!1):"values"==r?u(t[n],!1):u([n,t[n]],!1)},"values");var m=a.Arguments=a.Array;if(i("keys"),i("values"),i("entries"),!c&&d&&"values"!==m.name)try{s(m,"name",{value:"values"})}catch(v){}},21249:function(e,t,r){"use strict";var n=r(82109),i=r(42092).map;n({target:"Array",proto:!0,forced:!r(81194)("map")},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},47042:function(e,t,r){"use strict";var n=r(82109),i=r(43157),a=r(4411),o=r(70111),s=r(51400),l=r(26244),u=r(45656),c=r(86135),d=r(5112),h=r(81194),p=r(50206),f=h("slice"),m=d("species"),v=Array,g=Math.max;n({target:"Array",proto:!0,forced:!f},{slice:function(e,t){var r,n,d,h=u(this),f=l(h),y=s(e,f),b=s(void 0===t?f:t,f);if(i(h)&&(a(r=h.constructor)&&(r===v||i(r.prototype))?r=void 0:o(r)&&null===(r=r[m])&&(r=void 0),r===v||void 0===r))return p(h,y,b);for(d=0,n=new(void 0===r?v:r)(g(b-y,0));y<b;y++,d++)y in h&&c(n,d,h[y]);return n.length=d,n}})},39714:function(e,t,r){"use strict";var n=r(76530).PROPER,i=r(98052),a=r(19670),o=r(41340),s=r(47293),l=r(34706),u="toString",c=RegExp.prototype[u],d=s(function(){return"/a/b"!=c.call({source:"a",flags:"b"})}),h=n&&c.name!=u;(d||h)&&i(RegExp.prototype,u,function(){var e=a(this);return"/"+o(e.source)+"/"+o(l(e))},{unsafe:!0})},78783:function(e,t,r){"use strict";var n=r(28710).charAt,i=r(41340),a=r(29909),o=r(51656),s=r(76178),l="String Iterator",u=a.set,c=a.getterFor(l);o(String,"String",function(e){u(this,{type:l,string:i(e),index:0})},function(){var e,t=c(this),r=t.string,i=t.index;return i>=r.length?s(void 0,!0):(e=n(r,i),t.index+=e.length,s(e,!1))})},15306:function(e,t,r){"use strict";var n=r(22104),i=r(46916),a=r(1702),o=r(27007),s=r(47293),l=r(19670),u=r(60614),c=r(68554),d=r(19303),h=r(17466),p=r(41340),f=r(84488),m=r(31530),v=r(58173),g=r(10647),y=r(97651),b=r(5112)("replace"),w=Math.max,x=Math.min,_=a([].concat),k=a([].push),T=a("".indexOf),E=a("".slice),C="$0"==="a".replace(/./,"$0"),S=!!/./[b]&&""===/./[b]("a","$0");o("replace",function(e,t,r){var a=S?"$":"$0";return[function(e,r){var n=f(this),a=c(e)?void 0:v(e,b);return a?i(a,e,n,r):i(t,p(n),e,r)},function(e,i){var o=l(this),s=p(e);if("string"==typeof i&&-1===T(i,a)&&-1===T(i,"$<")){var c=r(t,o,s,i);if(c.done)return c.value}var f=u(i);f||(i=p(i));var v=o.global;if(v){var b=o.unicode;o.lastIndex=0}for(var C=[];;){var S=y(o,s);if(null===S||(k(C,S),!v))break;""===p(S[0])&&(o.lastIndex=m(s,h(o.lastIndex),b))}for(var j="",L=0,P=0;P<C.length;P++){for(var R,I=p((S=C[P])[0]),M=w(x(d(S.index),s.length),0),O=[],A=1;A<S.length;A++)k(O,void 0===(R=S[A])?R:String(R));var N=S.groups;if(f){var D=_([I],O,M,s);void 0!==N&&k(D,N);var q=p(n(i,void 0,D))}else q=g(I,s,M,O,N,i);M>=L&&(j+=E(s,L,M)+q,L=M+I.length)}return j+E(s,L)}]},!!s(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})||!C||S)},23157:function(e,t,r){"use strict";var n,i=r(82109),a=r(21470),o=r(31236).f,s=r(17466),l=r(41340),u=r(3929),c=r(84488),d=r(84964),h=r(31913),p=a("".startsWith),f=a("".slice),m=Math.min,v=d("startsWith");i({target:"String",proto:!0,forced:!(!h&&!v&&(n=o(String.prototype,"startsWith"))&&!n.writable)&&!v},{startsWith:function(e){var t=l(c(this));u(e);var r=s(m(arguments.length>1?arguments[1]:void 0,t.length)),n=l(e);return p?p(t,n,r):f(t,r,r+n.length)===n}})},33948:function(e,t,r){var n=r(17854),i=r(48324),a=r(98509),o=r(66992),s=r(68880),l=r(5112),u=l("iterator"),c=l("toStringTag"),d=o.values,h=function(e,t){if(e){if(e[u]!==d)try{s(e,u,d)}catch(r){e[u]=d}if(e[c]||s(e,c,t),i[t]){for(var n in o)if(e[n]!==o[n])try{s(e,n,o[n])}catch(a){e[n]=o[n]}}}};for(var p in i)h(n[p]&&n[p].prototype,p);h(a,"DOMTokenList")},65556:function(e,t,r){"use strict";r(66992);var n=r(82109),i=r(17854),a=r(46916),o=r(1702),s=r(19781),l=r(85143),u=r(98052),c=r(47045),d=r(89190),h=r(58003),p=r(63061),f=r(29909),m=r(25787),v=r(60614),g=r(92597),y=r(49974),b=r(70648),w=r(19670),x=r(70111),_=r(41340),k=r(70030),T=r(79114),E=r(18554),C=r(71246),S=r(48053),j=r(5112),L=r(94362),P=j("iterator"),R="URLSearchParams",I=R+"Iterator",M=f.set,O=f.getterFor(R),A=f.getterFor(I),N=Object.getOwnPropertyDescriptor,D=function(e){if(!s)return i[e];var t=N(i,e);return t&&t.value},q=D("fetch"),F=D("Request"),U=D("Headers"),B=F&&F.prototype,H=U&&U.prototype,V=i.RegExp,Z=i.TypeError,z=i.decodeURIComponent,$=i.encodeURIComponent,W=o("".charAt),Q=o([].join),G=o([].push),K=o("".replace),Y=o([].shift),J=o([].splice),X=o("".split),ee=o("".slice),et=/\+/g,er=[,,,,],en=function(e){try{return z(e)}catch(t){return e}},ei=function(e){var t,r=K(e,et," "),n=4;try{return z(r)}catch(i){for(;n;)r=K(r,er[(t=n--)-1]||(er[t-1]=V("((?:%[\\da-f]{2}){"+t+"})","gi")),en);return r}},ea=/[!'()~]|%20/g,eo={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},es=function(e){return eo[e]},el=function(e){return K($(e),ea,es)},eu=p(function(e,t){M(this,{type:I,iterator:E(O(e).entries),kind:t})},"Iterator",function(){var e=A(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r},!0),ec=function(e){this.entries=[],this.url=null,void 0!==e&&(x(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===W(e,0)?ee(e,1):e:_(e)))};ec.prototype={type:R,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,r,n,i,o,s,l,u=C(e);if(u)for(r=(t=E(e,u)).next;!(n=a(r,t)).done;){if((s=a(o=(i=E(w(n.value))).next,i)).done||(l=a(o,i)).done||!a(o,i).done)throw Z("Expected sequence with length 2");G(this.entries,{key:_(s.value),value:_(l.value)})}else for(var c in e)g(e,c)&&G(this.entries,{key:c,value:_(e[c])})},parseQuery:function(e){if(e)for(var t,r,n=X(e,"&"),i=0;i<n.length;)(t=n[i++]).length&&(r=X(t,"="),G(this.entries,{key:ei(Y(r)),value:ei(Q(r,"="))}))},serialize:function(){for(var e,t=this.entries,r=[],n=0;n<t.length;)G(r,el((e=t[n++]).key)+"="+el(e.value));return Q(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var ed=function(){m(this,eh);var e=arguments.length>0?arguments[0]:void 0,t=M(this,new ec(e));s||(this.size=t.entries.length)},eh=ed.prototype;if(d(eh,{append:function(e,t){var r=O(this);S(arguments.length,2),G(r.entries,{key:_(e),value:_(t)}),!s&&this.length++,r.updateURL()},delete:function(e){for(var t=O(this),r=S(arguments.length,1),n=t.entries,i=_(e),a=r<2?void 0:arguments[1],o=void 0===a?a:_(a),l=0;l<n.length;){var u=n[l];if(u.key===i&&(void 0===o||u.value===o)){if(J(n,l,1),void 0!==o)break}else l++}s||(this.size=n.length),t.updateURL()},get:function(e){var t=O(this).entries;S(arguments.length,1);for(var r=_(e),n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){var t=O(this).entries;S(arguments.length,1);for(var r=_(e),n=[],i=0;i<t.length;i++)t[i].key===r&&G(n,t[i].value);return n},has:function(e){for(var t=O(this).entries,r=S(arguments.length,1),n=_(e),i=r<2?void 0:arguments[1],a=void 0===i?i:_(i),o=0;o<t.length;){var s=t[o++];if(s.key===n&&(void 0===a||s.value===a))return!0}return!1},set:function(e,t){var r,n=O(this);S(arguments.length,1);for(var i=n.entries,a=!1,o=_(e),l=_(t),u=0;u<i.length;u++)(r=i[u]).key===o&&(a?J(i,u--,1):(a=!0,r.value=l));a||G(i,{key:o,value:l}),s||(this.size=i.length),n.updateURL()},sort:function(){var e=O(this);L(e.entries,function(e,t){return e.key>t.key?1:-1}),e.updateURL()},forEach:function(e){for(var t,r=O(this).entries,n=y(e,arguments.length>1?arguments[1]:void 0),i=0;i<r.length;)n((t=r[i++]).value,t.key,this)},keys:function(){return new eu(this,"keys")},values:function(){return new eu(this,"values")},entries:function(){return new eu(this,"entries")}},{enumerable:!0}),u(eh,P,eh.entries,{name:"entries"}),u(eh,"toString",function(){return O(this).serialize()},{enumerable:!0}),s&&c(eh,"size",{get:function(){return O(this).entries.length},configurable:!0,enumerable:!0}),h(ed,R),n({global:!0,constructor:!0,forced:!l},{URLSearchParams:ed}),!l&&v(U)){var ep=o(H.has),ef=o(H.set),em=function(e){if(x(e)){var t,r=e.body;if(b(r)===R)return ep(t=e.headers?new U(e.headers):new U,"content-type")||ef(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),k(e,{body:T(0,_(r)),headers:T(0,t)})}return e};if(v(q)&&n({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return q(e,arguments.length>1?em(arguments[1]):{})}}),v(F)){var ev=function(e){return m(this,B),new F(e,arguments.length>1?em(arguments[1]):{})};B.constructor=ev,ev.prototype=B,n({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ev})}}e.exports={URLSearchParams:ed,getState:O}},41637:function(e,t,r){r(65556)},68789:function(e,t,r){"use strict";r(78783);var n,i=r(82109),a=r(19781),o=r(85143),s=r(17854),l=r(49974),u=r(1702),c=r(98052),d=r(47045),h=r(25787),p=r(92597),f=r(21574),m=r(48457),v=r(41589),g=r(28710).codeAt,y=r(33197),b=r(41340),w=r(58003),x=r(48053),_=r(65556),k=r(29909),T=k.set,E=k.getterFor("URL"),C=_.URLSearchParams,S=_.getState,j=s.URL,L=s.TypeError,P=s.parseInt,R=Math.floor,I=Math.pow,M=u("".charAt),O=u(/./.exec),A=u([].join),N=u(1..toString),D=u([].pop),q=u([].push),F=u("".replace),U=u([].shift),B=u("".split),H=u("".slice),V=u("".toLowerCase),Z=u([].unshift),z="Invalid scheme",$="Invalid host",W="Invalid port",Q=/[a-z]/i,G=/[\d+-.a-z]/i,K=/\d/,Y=/^0x/i,J=/^[0-7]+$/,X=/^\d+$/,ee=/^[\da-f]+$/i,et=/[\0\t\n\r #%/:<>?@[\\\]^|]/,er=/[\0\t\n\r #/:<>?@[\\\]^|]/,en=/^[\u0000-\u0020]+/,ei=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ea=/[\t\n\r]/g,eo=function(e){var t,r,n,i,a,o,s,l=B(e,".");if(l.length&&""==l[l.length-1]&&l.length--,(t=l.length)>4)return e;for(n=0,r=[];n<t;n++){if(""==(i=l[n]))return e;if(a=10,i.length>1&&"0"==M(i,0)&&(a=O(Y,i)?16:8,i=H(i,8==a?1:2)),""===i)o=0;else{if(!O(10==a?X:8==a?J:ee,i))return e;o=P(i,a)}q(r,o)}for(n=0;n<t;n++)if(o=r[n],n==t-1){if(o>=I(256,5-t))return null}else if(o>255)return null;for(n=0,s=D(r);n<r.length;n++)s+=r[n]*I(256,3-n);return s},es=function(e){var t,r,n,i,a,o,s,l=[0,0,0,0,0,0,0,0],u=0,c=null,d=0,h=function(){return M(e,d)};if(":"==h()){if(":"!=M(e,1))return;d+=2,c=++u}for(;h();){if(8==u)return;if(":"==h()){if(null!==c)return;d++,c=++u;continue}for(t=r=0;r<4&&O(ee,h());)t=16*t+P(h(),16),d++,r++;if("."==h()){if(0==r||(d-=r,u>6))return;for(n=0;h();){if(i=null,n>0){if("."!=h()||!(n<4))return;d++}if(!O(K,h()))return;for(;O(K,h());){if(a=P(h(),10),null===i)i=a;else{if(0==i)return;i=10*i+a}if(i>255)return;d++}l[u]=256*l[u]+i,(2==++n||4==n)&&u++}if(4!=n)return;break}if(":"==h()){if(d++,!h())return}else if(h())return;l[u++]=t}if(null!==c)for(o=u-c,u=7;0!=u&&o>0;)s=l[u],l[u--]=l[c+o-1],l[c+--o]=s;else if(8!=u)return;return l},el=function(e){for(var t=null,r=1,n=null,i=0,a=0;a<8;a++)0!==e[a]?(i>r&&(t=n,r=i),n=null,i=0):(null===n&&(n=a),++i);return i>r&&(t=n,r=i),t},eu=function(e){var t,r,n,i;if("number"==typeof e){for(r=0,t=[];r<4;r++)Z(t,e%256),e=R(e/256);return A(t,".")}if("object"==typeof e){for(r=0,t="",n=el(e);r<8;r++)(!i||0!==e[r])&&(i&&(i=!1),n===r?(t+=r?":":"::",i=!0):(t+=N(e[r],16),r<7&&(t+=":")));return"["+t+"]"}return e},ec={},ed=f({},ec,{" ":1,'"':1,"<":1,">":1,"`":1}),eh=f({},ed,{"#":1,"?":1,"{":1,"}":1}),ep=f({},eh,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ef=function(e,t){var r=g(e,0);return r>32&&r<127&&!p(t,e)?e:encodeURIComponent(e)},em={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ev=function(e,t){var r;return 2==e.length&&O(Q,M(e,0))&&(":"==(r=M(e,1))||!t&&"|"==r)},eg=function(e){var t;return e.length>1&&ev(H(e,0,2))&&(2==e.length||"/"===(t=M(e,2))||"\\"===t||"?"===t||"#"===t)},ey={},eb={},ew={},ex={},e_={},ek={},eT={},eE={},eC={},eS={},ej={},eL={},eP={},eR={},eI={},eM={},eO={},eA={},eN={},eD={},eq={},eF=function(e,t,r){var n,i,a,o=b(e);if(t){if(i=this.parse(o))throw L(i);this.searchParams=null}else{if(void 0!==r&&(n=new eF(r,!0)),i=this.parse(o,null,n))throw L(i);(a=S(new C)).bindURL(this),this.searchParams=a}};eF.prototype={type:"URL",parse:function(e,t,r){var i,a,o,s,l=this,u=t||ey,c=0,d="",h=!1,f=!1,g=!1;for(e=b(e),t||(l.scheme="",l.username="",l.password="",l.host=null,l.port=null,l.path=[],l.query=null,l.fragment=null,l.cannotBeABaseURL=!1,e=F(e,en,""),e=F(e,ei,"$1")),i=m(e=F(e,ea,""));c<=i.length;){switch(a=i[c],u){case ey:if(a&&O(Q,a))d+=V(a),u=eb;else{if(t)return z;u=ew;continue}break;case eb:if(a&&(O(G,a)||"+"==a||"-"==a||"."==a))d+=V(a);else if(":"==a){if(t&&(l.isSpecial()!=p(em,d)||"file"==d&&(l.includesCredentials()||null!==l.port)||"file"==l.scheme&&!l.host))return;if(l.scheme=d,t){l.isSpecial()&&em[l.scheme]==l.port&&(l.port=null);return}d="","file"==l.scheme?u=eR:l.isSpecial()&&r&&r.scheme==l.scheme?u=ex:l.isSpecial()?u=eE:"/"==i[c+1]?(u=e_,c++):(l.cannotBeABaseURL=!0,q(l.path,""),u=eN)}else{if(t)return z;d="",u=ew,c=0;continue}break;case ew:if(!r||r.cannotBeABaseURL&&"#"!=a)return z;if(r.cannotBeABaseURL&&"#"==a){l.scheme=r.scheme,l.path=v(r.path),l.query=r.query,l.fragment="",l.cannotBeABaseURL=!0,u=eq;break}u="file"==r.scheme?eR:ek;continue;case ex:if("/"==a&&"/"==i[c+1])u=eC,c++;else{u=ek;continue}break;case e_:if("/"==a){u=eS;break}u=eA;continue;case ek:if(l.scheme=r.scheme,a==n)l.username=r.username,l.password=r.password,l.host=r.host,l.port=r.port,l.path=v(r.path),l.query=r.query;else if("/"==a||"\\"==a&&l.isSpecial())u=eT;else if("?"==a)l.username=r.username,l.password=r.password,l.host=r.host,l.port=r.port,l.path=v(r.path),l.query="",u=eD;else if("#"==a)l.username=r.username,l.password=r.password,l.host=r.host,l.port=r.port,l.path=v(r.path),l.query=r.query,l.fragment="",u=eq;else{l.username=r.username,l.password=r.password,l.host=r.host,l.port=r.port,l.path=v(r.path),l.path.length--,u=eA;continue}break;case eT:if(l.isSpecial()&&("/"==a||"\\"==a))u=eC;else if("/"==a)u=eS;else{l.username=r.username,l.password=r.password,l.host=r.host,l.port=r.port,u=eA;continue}break;case eE:if(u=eC,"/"!=a||"/"!=M(d,c+1))continue;c++;break;case eC:if("/"!=a&&"\\"!=a){u=eS;continue}break;case eS:if("@"==a){h&&(d="%40"+d),h=!0,o=m(d);for(var y,w,x=0;x<o.length;x++){var _=o[x];if(":"==_&&!g){g=!0;continue}var k=ef(_,ep);g?l.password+=k:l.username+=k}d=""}else if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&l.isSpecial()){if(h&&""==d)return"Invalid authority";c-=m(d).length+1,d="",u=ej}else d+=a;break;case ej:case eL:if(t&&"file"==l.scheme){u=eM;continue}if(":"!=a||f){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&l.isSpecial()){if(l.isSpecial()&&""==d)return $;if(t&&""==d&&(l.includesCredentials()||null!==l.port))return;if(s=l.parseHost(d))return s;if(d="",u=eO,t)return;continue}"["==a?f=!0:"]"==a&&(f=!1),d+=a}else{if(""==d)return $;if(s=l.parseHost(d))return s;if(d="",u=eP,t==eL)return}break;case eP:if(O(K,a))d+=a;else{if(!(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&l.isSpecial())&&!t)return W;if(""!=d){var T=P(d,10);if(T>65535)return W;l.port=l.isSpecial()&&T===em[l.scheme]?null:T,d=""}if(t)return;u=eO;continue}break;case eR:if(l.scheme="file","/"==a||"\\"==a)u=eI;else if(r&&"file"==r.scheme){if(a==n)l.host=r.host,l.path=v(r.path),l.query=r.query;else if("?"==a)l.host=r.host,l.path=v(r.path),l.query="",u=eD;else if("#"==a)l.host=r.host,l.path=v(r.path),l.query=r.query,l.fragment="",u=eq;else{eg(A(v(i,c),""))||(l.host=r.host,l.path=v(r.path),l.shortenPath()),u=eA;continue}}else{u=eA;continue}break;case eI:if("/"==a||"\\"==a){u=eM;break}r&&"file"==r.scheme&&!eg(A(v(i,c),""))&&(ev(r.path[0],!0)?q(l.path,r.path[0]):l.host=r.host),u=eA;continue;case eM:if(a==n||"/"==a||"\\"==a||"?"==a||"#"==a){if(!t&&ev(d))u=eA;else if(""==d){if(l.host="",t)return;u=eO}else{if(s=l.parseHost(d))return s;if("localhost"==l.host&&(l.host=""),t)return;d="",u=eO}continue}d+=a;break;case eO:if(l.isSpecial()){if(u=eA,"/"!=a&&"\\"!=a)continue}else if(t||"?"!=a){if(t||"#"!=a){if(a!=n&&(u=eA,"/"!=a))continue}else l.fragment="",u=eq}else l.query="",u=eD;break;case eA:if(a==n||"/"==a||"\\"==a&&l.isSpecial()||!t&&("?"==a||"#"==a)){if(".."===(y=V(y=d))||"%2e."===y||".%2e"===y||"%2e%2e"===y?(l.shortenPath(),"/"==a||"\\"==a&&l.isSpecial()||q(l.path,"")):"."===(w=d)||"%2e"===V(w)?"/"==a||"\\"==a&&l.isSpecial()||q(l.path,""):("file"==l.scheme&&!l.path.length&&ev(d)&&(l.host&&(l.host=""),d=M(d,0)+":"),q(l.path,d)),d="","file"==l.scheme&&(a==n||"?"==a||"#"==a))for(;l.path.length>1&&""===l.path[0];)U(l.path);"?"==a?(l.query="",u=eD):"#"==a&&(l.fragment="",u=eq)}else d+=ef(a,eh);break;case eN:"?"==a?(l.query="",u=eD):"#"==a?(l.fragment="",u=eq):a!=n&&(l.path[0]+=ef(a,ec));break;case eD:t||"#"!=a?a!=n&&("'"==a&&l.isSpecial()?l.query+="%27":"#"==a?l.query+="%23":l.query+=ef(a,ec)):(l.fragment="",u=eq);break;case eq:a!=n&&(l.fragment+=ef(a,ed))}c++}},parseHost:function(e){var t,r,n;if("["==M(e,0)){if("]"!=M(e,e.length-1)||!(t=es(H(e,1,-1))))return $;this.host=t}else if(this.isSpecial()){if(O(et,e=y(e))||null===(t=eo(e)))return $;this.host=t}else{if(O(er,e))return $;for(n=0,t="",r=m(e);n<r.length;n++)t+=ef(r[n],ec);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return p(em,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;t&&("file"!=this.scheme||1!=t||!ev(e[0],!0))&&e.length--},serialize:function(){var e=this.scheme,t=this.username,r=this.password,n=this.host,i=this.port,a=this.path,o=this.query,s=this.fragment,l=e+":";return null!==n?(l+="//",this.includesCredentials()&&(l+=t+(r?":"+r:"")+"@"),l+=eu(n),null!==i&&(l+=":"+i)):"file"==e&&(l+="//"),l+=this.cannotBeABaseURL?a[0]:a.length?"/"+A(a,"/"):"",null!==o&&(l+="?"+o),null!==s&&(l+="#"+s),l},setHref:function(e){var t=this.parse(e);if(t)throw L(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new eU(e.path[0]).origin}catch(r){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+eu(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(b(e)+":",ey)},getUsername:function(){return this.username},setUsername:function(e){var t=m(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<t.length;r++)this.username+=ef(t[r],ep)}},getPassword:function(){return this.password},setPassword:function(e){var t=m(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<t.length;r++)this.password+=ef(t[r],ep)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?eu(e):eu(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,ej)},getHostname:function(){var e=this.host;return null===e?"":eu(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,eL)},getPort:function(){var e=this.port;return null===e?"":b(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""==(e=b(e))?this.port=null:this.parse(e,eP))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+A(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,eO))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){""==(e=b(e))?this.query=null:("?"==M(e,0)&&(e=H(e,1)),this.query="",this.parse(e,eD)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){if(""==(e=b(e))){this.fragment=null;return}"#"==M(e,0)&&(e=H(e,1)),this.fragment="",this.parse(e,eq)},update:function(){this.query=this.searchParams.serialize()||null}};var eU=function(e){var t=h(this,eB),r=x(arguments.length,1)>1?arguments[1]:void 0,n=T(t,new eF(e,!1,r));a||(t.href=n.serialize(),t.origin=n.getOrigin(),t.protocol=n.getProtocol(),t.username=n.getUsername(),t.password=n.getPassword(),t.host=n.getHost(),t.hostname=n.getHostname(),t.port=n.getPort(),t.pathname=n.getPathname(),t.search=n.getSearch(),t.searchParams=n.getSearchParams(),t.hash=n.getHash())},eB=eU.prototype,eH=function(e,t){return{get:function(){return E(this)[e]()},set:t&&function(e){return E(this)[t](e)},configurable:!0,enumerable:!0}};if(a&&(d(eB,"href",eH("serialize","setHref")),d(eB,"origin",eH("getOrigin")),d(eB,"protocol",eH("getProtocol","setProtocol")),d(eB,"username",eH("getUsername","setUsername")),d(eB,"password",eH("getPassword","setPassword")),d(eB,"host",eH("getHost","setHost")),d(eB,"hostname",eH("getHostname","setHostname")),d(eB,"port",eH("getPort","setPort")),d(eB,"pathname",eH("getPathname","setPathname")),d(eB,"search",eH("getSearch","setSearch")),d(eB,"searchParams",eH("getSearchParams")),d(eB,"hash",eH("getHash","setHash"))),c(eB,"toJSON",function(){return E(this).serialize()},{enumerable:!0}),c(eB,"toString",function(){return E(this).serialize()},{enumerable:!0}),j){var eV=j.createObjectURL,eZ=j.revokeObjectURL;eV&&c(eU,"createObjectURL",l(eV,j)),eZ&&c(eU,"revokeObjectURL",l(eZ,j))}w(eU,"URL"),i({global:!0,constructor:!0,forced:!o,sham:!a},{URL:eU})},60285:function(e,t,r){r(68789)},54125:function(e){e.exports=function(){var e={80:function(e,t,r){e.exports=r(728).default},728:function(e,t,r){"use strict";r.d(t,{default:function(){return tO}});var n=r(48),i=r.n(n),a=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},o=function(){return("000000"+(2176782336*Math.random()<<0).toString(36)).slice(-6)},s=function(e){return e&&void 0!==e.nodeName?(e.muxId||(e.muxId=e.id||o()),e.muxId):e},l=function(e){e&&void 0!==e.nodeName?e=s(t=e):t=document.querySelector(e);var t,r=t&&t.nodeName?t.nodeName.toLowerCase():"";return[t,e,r]},u=r(640),c=r.n(u),d=c().methodFactory;c().methodFactory=function(e,t,r){var n=d(e,t,r);return function(){for(var e=["[mux]"],t=0;t<arguments.length;t++)e.push(arguments[t]);n.apply(void 0,e)}},c().setLevel(c().getLevel());var h=c();function p(){return"1"===(i().doNotTrack||i().navigator&&i().navigator.doNotTrack)}var f={now:function(){var e=i().performance,t=e&&e.timing,r=t&&t.navigationStart;return Math.round("number"==typeof r&&"function"==typeof e.now?r+e.now():Date.now())}},m=function(e){return v(e)[0]},v=function(e){if("string"!=typeof e||""===e)return["localhost"];var t,r=(e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/)||[])[4];return r&&(t=(r.match(/[^\.]+\.[^\.]+$/)||[])[0]),[r,t]},g={exists:function(){var e=i().performance;return void 0!==(e&&e.timing)},domContentLoadedEventEnd:function(){var e=i().performance,t=e&&e.timing;return t&&t.domContentLoadedEventEnd},navigationStart:function(){var e=i().performance,t=e&&e.timing;return t&&t.navigationStart}};function y(e,t,r){r=void 0===r?1:r,e[t]=e[t]||0,e[t]+=r}var b=["x-request-id","cf-ray","x-amz-cf-id","x-akamai-request-id"],w=["x-cdn","content-type"].concat(b);function x(e){var t={};return(e=e||"").trim().split(/[\r\n]+/).forEach(function(e){if(e){var r=e.split(": "),n=r.shift();n&&(w.indexOf(n.toLowerCase())>=0||0===n.toLowerCase().indexOf("x-litix-"))&&(t[n]=r.join(": "))}}),t}function _(e){if(e){var t=b.find(function(t){return void 0!==e[t]});return t?e[t]:void 0}}var k=function(e){var t={};for(var r in e){var n=e[r];-1!==n["DATA-ID"].search("io.litix.data.")&&(t[n["DATA-ID"].replace("io.litix.data.","")]=n.VALUE)}return t};function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach(function(t){var n,i;n=e,i=r[t],t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var C=function(e){if(!e)return{};var t=g.navigationStart(),r=e.loading,n=r?r.start:e.trequest,i=r?r.first:e.tfirst,a=r?r.end:e.tload;return{bytesLoaded:e.total,requestStart:Math.round(t+n),responseStart:Math.round(t+i),responseEnd:Math.round(t+a)}},S=function(e){if(e&&"function"==typeof e.getAllResponseHeaders)return x(e.getAllResponseHeaders())};function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach(function(t){var n,i;n=e,i=r[t],t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var P=function(e,t){if(!e||"function"!=typeof e.getRequests)return{};var r=e.getRequests({state:"executed"});if(0===r.length)return{};var n,i=r[r.length-1],a=m(i.url),o=i.url,s=i.bytesLoaded,l=new Date(i.requestStartDate).getTime(),u=new Date(i.firstByteDate).getTime(),c=new Date(i.requestEndDate).getTime(),d=isNaN(i.duration)?0:i.duration,h="function"==typeof t.getMetricsFor?t.getMetricsFor(i.mediaType).HttpList:t.getDashMetrics().getHttpRequests(i.mediaType);return h.length>0&&(n=x(h[h.length-1]._responseHeaders||"")),{requestStart:l,requestResponseStart:u,requestResponseEnd:c,requestBytesLoaded:s,requestResponseHeaders:n,requestMediaDuration:d,requestHostname:a,requestUrl:o,requestId:n?_(n):void 0}},R=function(e,t){var r=t.getQualityFor(e),n=t.getCurrentTrackFor(e).bitrateList;return n?{currentLevel:r,renditionWidth:n[r].width||null,renditionHeight:n[r].height||null,renditionBitrate:n[r].bandwidth}:{}},I=function(e){var t;return null===(t=e.match(/.*codecs\*?="(.*)"/))||void 0===t?void 0:t[1]};function M(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var O=0,A=function(){var e,t;function r(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r)}return e=[{key:"on",value:function(e,t,r){return t._eventEmitterGuid=t._eventEmitterGuid||++O,this._listeners=this._listeners||{},this._listeners[e]=this._listeners[e]||[],r&&(t=t.bind(r)),this._listeners[e].push(t),t}},{key:"off",value:function(e,t){var r=this._listeners&&this._listeners[e];r&&r.forEach(function(e,n){e._eventEmitterGuid===t._eventEmitterGuid&&r.splice(n,1)})}},{key:"one",value:function(e,t,r){var n=this;t._eventEmitterGuid=t._eventEmitterGuid||++O;var i=function i(){n.off(e,i),t.apply(r||this,arguments)};i._eventEmitterGuid=t._eventEmitterGuid,this.on(e,i)}},{key:"emit",value:function(e,t){var r=this;if(this._listeners){t=t||{};var n=this._listeners["before*"]||[],i=this._listeners[e]||[],a=this._listeners["after"+e]||[],o=function(t,n){(t=t.slice()).forEach(function(t){t.call(r,{type:e},n)})};o(n,t),o(i,t),o(a,t)}}}],M(r.prototype,e),t&&M(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}();function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var D=function(){var e;function t(e){var r=this;(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,t),this.pm=e,this._playbackHeartbeatInterval=null,this._playheadShouldBeProgressing=!1,e.on("playing",function(){r._playheadShouldBeProgressing=!0}),e.on("play",this._startPlaybackHeartbeatInterval.bind(this)),e.on("playing",this._startPlaybackHeartbeatInterval.bind(this)),e.on("adbreakstart",this._startPlaybackHeartbeatInterval.bind(this)),e.on("adplay",this._startPlaybackHeartbeatInterval.bind(this)),e.on("adplaying",this._startPlaybackHeartbeatInterval.bind(this)),e.on("seeking",this._startPlaybackHeartbeatInterval.bind(this)),e.on("devicewake",this._startPlaybackHeartbeatInterval.bind(this)),e.on("viewstart",this._startPlaybackHeartbeatInterval.bind(this)),e.on("rebufferstart",this._startPlaybackHeartbeatInterval.bind(this)),e.on("pause",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("ended",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("viewend",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("error",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("aderror",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("adpause",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("adended",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("adbreakend",this._stopPlaybackHeartbeatInterval.bind(this)),e.on("seeked",function(){e.data.player_is_paused?r._stopPlaybackHeartbeatInterval():r._startPlaybackHeartbeatInterval()}),e.on("timeupdate",function(){null!==r._playbackHeartbeatInterval&&e.emit("playbackheartbeat")}),e.on("devicesleep",function(t,n){null!==r._playbackHeartbeatInterval&&(i().clearInterval(r._playbackHeartbeatInterval),e.emit("playbackheartbeatend",{viewer_time:n.viewer_time}),r._playbackHeartbeatInterval=null)})}return N(t.prototype,[{key:"_startPlaybackHeartbeatInterval",value:function(){var e=this;null===this._playbackHeartbeatInterval&&(this.pm.emit("playbackheartbeat"),this._playbackHeartbeatInterval=i().setInterval(function(){e.pm.emit("playbackheartbeat")},this.pm.playbackHeartbeatTime))}},{key:"_stopPlaybackHeartbeatInterval",value:function(){this._playheadShouldBeProgressing=!1,null!==this._playbackHeartbeatInterval&&(i().clearInterval(this._playbackHeartbeatInterval),this.pm.emit("playbackheartbeatend"),this._playbackHeartbeatInterval=null)}}]),e&&N(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();function q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var F=(e5=function e(t){var r=this;(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),t.on("viewinit",function(){r.viewErrored=!1}),t.on("error",function(e,n){try{var i=t.errorTranslator({player_error_code:n.player_error_code,player_error_message:n.player_error_message,player_error_context:n.player_error_context});i?(t.data.player_error_code=i.player_error_code||n.player_error_code,t.data.player_error_message=i.player_error_message||n.player_error_message,t.data.player_error_context=i.player_error_context||n.player_error_context,r.viewErrored=!0):(delete t.data.player_error_code,delete t.data.player_error_message,delete t.data.player_error_context)}catch(a){t.mux.log.warn("Exception in error translator callback.",a),r.viewErrored=!0}})},e4&&q(e5.prototype,e4),e6&&q(e5,e6),Object.defineProperty(e5,"prototype",{writable:!1}),e5);function U(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var B=function(){var e;function t(e){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,t),this.pm=e,this._watchTimeTrackerLastCheckedTime=null,e.on("playbackheartbeat",this._updateWatchTime.bind(this)),e.on("playbackheartbeatend",this._clearWatchTimeState.bind(this))}return U(t.prototype,[{key:"_updateWatchTime",value:function(e,t){var r=t.viewer_time;null===this._watchTimeTrackerLastCheckedTime&&(this._watchTimeTrackerLastCheckedTime=r),y(this.pm.data,"view_watch_time",r-this._watchTimeTrackerLastCheckedTime),this._watchTimeTrackerLastCheckedTime=r}},{key:"_clearWatchTimeState",value:function(e,t){this._updateWatchTime(e,t),this._watchTimeTrackerLastCheckedTime=null}}]),e&&U(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();function H(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var V=function(){var e,t;function r(e){var t=this;(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,r),this.pm=e,this._playbackTimeTrackerLastPlayheadPosition=-1,this._lastTime=f.now(),this._isAdPlaying=!1,e.on("playbackheartbeat",this._updatePlaybackTime.bind(this)),e.on("playbackheartbeatend",this._clearPlaybackTimeState.bind(this)),e.on("seeking",this._clearPlaybackTimeState.bind(this)),e.on("adplaying",function(){t._isAdPlaying=!0}),e.on("adended",function(){t._isAdPlaying=!1}),e.on("adpause",function(){t._isAdPlaying=!1}),e.on("adbreakstart",function(){t._isAdPlaying=!1}),e.on("adbreakend",function(){t._isAdPlaying=!1}),e.on("adplay",function(){t._isAdPlaying=!1})}return e=[{key:"_updatePlaybackTime",value:function(){var e=this.pm.data.player_playhead_time,t=f.now(),r=-1;this._playbackTimeTrackerLastPlayheadPosition>=0&&e>this._playbackTimeTrackerLastPlayheadPosition?r=e-this._playbackTimeTrackerLastPlayheadPosition:this._isAdPlaying&&(r=t-this._lastTime),r>0&&r<=1e3&&y(this.pm.data,"view_content_playback_time",r),this._playbackTimeTrackerLastPlayheadPosition=e,this._lastTime=t}},{key:"_clearPlaybackTimeState",value:function(){this._updatePlaybackTime(),this._playbackTimeTrackerLastPlayheadPosition=-1}}],H(r.prototype,e),t&&H(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}();function Z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var z=function(){var e,t;function r(e){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,r),this.pm=e;var t=this._updatePlayheadTime.bind(this);e.on("playbackheartbeat",t),e.on("playbackheartbeatend",t),e.on("timeupdate",t),e.on("destroy",function(){e.off("timeupdate",t)})}return e=[{key:"_updateMaxPlayheadPosition",value:function(){this.pm.data.view_max_playhead_position=void 0===this.pm.data.view_max_playhead_position?this.pm.data.player_playhead_time:Math.max(this.pm.data.view_max_playhead_position,this.pm.data.player_playhead_time)}},{key:"_updatePlayheadTime",value:function(e,t){var r=this,n=function(){r.pm.currentFragmentPDT&&r.pm.currentFragmentStart&&(r.pm.data.player_program_time=r.pm.currentFragmentPDT+r.pm.data.player_playhead_time-r.pm.currentFragmentStart)};if(t&&t.player_playhead_time)this.pm.data.player_playhead_time=t.player_playhead_time,n(),this._updateMaxPlayheadPosition();else if(this.pm.getPlayheadTime){var i=this.pm.getPlayheadTime();void 0!==i&&(this.pm.data.player_playhead_time=i,n(),this._updateMaxPlayheadPosition())}}}],Z(r.prototype,e),t&&Z(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}();function $(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var W=(e3=function e(t){if(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,e),!t.disableRebufferTracking){var r,n=function(e,t){i(t),r=void 0},i=function(e){if(r){var n=e.viewer_time-r;y(t.data,"view_rebuffer_duration",n),r=e.viewer_time,t.data.view_rebuffer_duration>3e5&&(t.emit("viewend"),t.send("viewend"),t.mux.log.warn("Ending view after rebuffering for longer than ".concat(3e5,"ms, future events will be ignored unless a programchange or videochange occurs.")))}t.data.view_watch_time>=0&&t.data.view_rebuffer_count>0&&(t.data.view_rebuffer_frequency=t.data.view_rebuffer_count/t.data.view_watch_time,t.data.view_rebuffer_percentage=t.data.view_rebuffer_duration/t.data.view_watch_time)};t.on("playbackheartbeat",function(e,t){return i(t)}),t.on("rebufferstart",function(e,i){r||(y(t.data,"view_rebuffer_count",1),r=i.viewer_time,t.one("rebufferend",n))}),t.on("viewinit",function(){r=void 0,t.off("rebufferend",n)})}},e9&&$(e3.prototype,e9),e8&&$(e3,e8),Object.defineProperty(e3,"prototype",{writable:!1}),e3);function Q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var G=function(){var e;function t(e){var r=this;(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,t),this.pm=e,e.disableRebufferTracking||e.disablePlayheadRebufferTracking||(this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null,e.on("playbackheartbeat",this._checkIfRebuffering.bind(this)),e.on("playbackheartbeatend",this._cleanupRebufferTracker.bind(this)),e.on("seeking",function(){r._cleanupRebufferTracker(null,{viewer_time:f.now()})}))}return Q(t.prototype,[{key:"_checkIfRebuffering",value:function(e,t){if(this.pm.seekingTracker.isSeeking||this.pm.adTracker.isAdBreak||!this.pm.playbackHeartbeat._playheadShouldBeProgressing)this._cleanupRebufferTracker(e,t);else if(null!==this._lastCheckedTime){if(this._lastPlayheadTime===this.pm.data.player_playhead_time){var r=t.viewer_time-this._lastPlayheadTimeUpdatedTime;"number"==typeof this.pm.sustainedRebufferThreshold&&r>=this.pm.sustainedRebufferThreshold&&(this._rebuffering||(this._rebuffering=!0,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}))),this._lastCheckedTime=t.viewer_time}else this._cleanupRebufferTracker(e,t,!0)}else this._prepareRebufferTrackerState(t.viewer_time)}},{key:"_clearRebufferTrackerState",value:function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null}},{key:"_prepareRebufferTrackerState",value:function(e){this._lastCheckedTime=e,this._lastPlayheadTime=this.pm.data.player_playhead_time,this._lastPlayheadTimeUpdatedTime=e}},{key:"_cleanupRebufferTracker",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this._rebuffering)this._rebuffering=!1,this.pm.emit("rebufferend",{viewer_time:t.viewer_time});else{if(null===this._lastCheckedTime)return;var n=this.pm.data.player_playhead_time-this._lastPlayheadTime,i=t.viewer_time-this._lastPlayheadTimeUpdatedTime;"number"==typeof this.pm.minimumRebufferDuration&&n>0&&i-n>this.pm.minimumRebufferDuration&&(this._lastCheckedTime=null,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}),this.pm.emit("rebufferend",{viewer_time:this._lastPlayheadTimeUpdatedTime+i-n}))}r?this._prepareRebufferTrackerState(t.viewer_time):this._clearRebufferTrackerState()}}]),e&&Q(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();function K(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Y=function(){var e;function t(e){var r=this;(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,t),this.pm=e,e.on("viewinit",function(){var t=e.data,n=t.view_id;if(!t.view_program_changed){var i=function(t,i){var a=i.viewer_time;"playing"===t.type&&void 0===e.data.view_time_to_first_frame?r.calculateTimeToFirstFrame(a||f.now(),n):"adplaying"===t.type&&(void 0===e.data.view_time_to_first_frame||r._inPrerollPosition())&&r.calculateTimeToFirstFrame(a||f.now(),n)};e.one("playing",i),e.one("adplaying",i),e.one("viewend",function(){e.off("playing",i),e.off("adplaying",i)})}})}return K(t.prototype,[{key:"_inPrerollPosition",value:function(){return void 0===this.pm.data.view_content_playback_time||this.pm.data.view_content_playback_time<=1e3}},{key:"calculateTimeToFirstFrame",value:function(e,t){t===this.pm.data.view_id&&(this.pm.watchTimeTracker._updateWatchTime(null,{viewer_time:e}),this.pm.data.view_time_to_first_frame=this.pm.data.view_watch_time,(this.pm.data.player_autoplay_on||this.pm.data.video_is_autoplay)&&this.NAVIGATION_START&&(this.pm.data.view_aggregate_startup_time=this.pm.data.view_start+this.pm.data.view_watch_time-this.NAVIGATION_START))}}]),e&&K(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();function J(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var X=(e7=function e(t){var r=this;(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),t.on("viewinit",function(){r._lastPlayheadPosition=-1}),["pause","rebufferstart","seeking","error","adbreakstart","hb"].forEach(function(e){t.on(e,function(){if(r._lastPlayheadPosition>=0&&t.data.player_playhead_time>=0&&r._lastPlayerWidth>=0&&r._lastSourceWidth>0&&r._lastPlayerHeight>=0&&r._lastSourceHeight>0){var e=t.data.player_playhead_time-r._lastPlayheadPosition;if(e<0)return void(r._lastPlayheadPosition=-1);var n=Math.min(r._lastPlayerWidth/r._lastSourceWidth,r._lastPlayerHeight/r._lastSourceHeight),i=Math.max(0,n-1),a=Math.max(0,1-n);t.data.view_max_upscale_percentage=Math.max(t.data.view_max_upscale_percentage||0,i),t.data.view_max_downscale_percentage=Math.max(t.data.view_max_downscale_percentage||0,a),y(t.data,"view_total_content_playback_time",e),y(t.data,"view_total_upscaling",i*e),y(t.data,"view_total_downscaling",a*e)}r._lastPlayheadPosition=-1})}),["playing","hb"].forEach(function(e){t.on(e,function(){r._lastPlayheadPosition=t.data.player_playhead_time,r._lastPlayerWidth=t.data.player_width,r._lastPlayerHeight=t.data.player_height,r._lastSourceWidth=t.data.video_source_width,r._lastSourceHeight=t.data.video_source_height})})},te&&J(e7.prototype,te),tt&&J(e7,tt),Object.defineProperty(e7,"prototype",{writable:!1}),e7);function ee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var et=(tr=function e(t){var r=this;(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),this.isSeeking=!1,t.on("seeking",function(e,n){Object.assign(t.data,n),r._lastSeekingTime=f.now(),!1===r.isSeeking&&(r.isSeeking=!0,t.send("seeking"))}),t.on("seeked",function(){r.isSeeking=!1;var e=r._lastSeekingTime||f.now(),n=f.now()-e;y(t.data,"view_seek_count",1),y(t.data,"view_seek_duration",n);var i=t.data.view_max_seek_time||0;t.data.view_max_seek_time=Math.max(i,n)}),t.on("viewend",function(){r.isSeeking=!1})},tn&&ee(tr.prototype,tn),ti&&ee(tr,ti),Object.defineProperty(tr,"prototype",{writable:!1}),tr);function er(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==r.return||r.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return en(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?en(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function en(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ei(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ea=function(e,t){e.push(t),e.sort(function(e,t){return e.viewer_time-t.viewer_time})},eo=["adbreakstart","adrequest","adresponse","adplay","adplaying","adpause","adended","adbreakend","aderror"],es=function(){var e,t;function r(e){var t=this;(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,r),this.pm=e,e.on("viewinit",function(){t.isAdBreak=!1,t._currentAdRequestNumber=0,t._currentAdResponseNumber=0,t._adRequests=[],t._adResponses=[],t._adHasPlayed=!1,t._wouldBeNewAdPlay=!0,t._prerollPlayTime=void 0}),eo.forEach(function(r){return e.on(r,t._updateAdData.bind(t))});var n=function(){t.isAdBreak=!1};e.on("adbreakstart",function(){t.isAdBreak=!0}),e.on("play",n),e.on("playing",n),e.on("viewend",n),e.on("adrequest",function(r,n){n=Object.assign({ad_request_id:"generatedAdRequestId"+t._currentAdRequestNumber++},n),ea(t._adRequests,n),y(e.data,"view_ad_request_count"),t.inPrerollPosition()&&(e.data.view_preroll_requested=!0,t._adHasPlayed||y(e.data,"view_preroll_request_count"))}),e.on("adresponse",function(r,n){n=Object.assign({ad_request_id:"generatedAdRequestId"+t._currentAdResponseNumber++},n),ea(t._adResponses,n);var i=t.findAdRequest(n.ad_request_id);i&&y(e.data,"view_ad_request_time",Math.max(0,n.viewer_time-i.viewer_time))}),e.on("adplay",function(r,n){t._adHasPlayed=!0,t._wouldBeNewAdPlay&&(t._wouldBeNewAdPlay=!1,y(e.data,"view_ad_played_count")),t.inPrerollPosition()&&!e.data.view_preroll_played&&(e.data.view_preroll_played=!0,t._adRequests.length>0&&(e.data.view_preroll_request_time=Math.max(0,n.viewer_time-t._adRequests[0].viewer_time)),e.data.view_start&&(e.data.view_startup_preroll_request_time=Math.max(0,n.viewer_time-e.data.view_start)),t._prerollPlayTime=n.viewer_time)}),e.on("adplaying",function(r,n){t.inPrerollPosition()&&void 0===e.data.view_preroll_load_time&&void 0!==t._prerollPlayTime&&(e.data.view_preroll_load_time=n.viewer_time-t._prerollPlayTime,e.data.view_startup_preroll_load_time=n.viewer_time-t._prerollPlayTime)}),e.on("adended",function(){t._wouldBeNewAdPlay=!0}),e.on("aderror",function(){t._wouldBeNewAdPlay=!0})}return e=[{key:"inPrerollPosition",value:function(){return void 0===this.pm.data.view_content_playback_time||this.pm.data.view_content_playback_time<=1e3}},{key:"findAdRequest",value:function(e){for(var t=0;t<this._adRequests.length;t++)if(this._adRequests[t].ad_request_id===e)return this._adRequests[t]}},{key:"_updateAdData",value:function(e,t){if(this.inPrerollPosition()){if(!this.pm.data.view_preroll_ad_tag_hostname&&t.ad_tag_url){var r=er(v(t.ad_tag_url),2),n=r[0],i=r[1];this.pm.data.view_preroll_ad_tag_domain=i,this.pm.data.view_preroll_ad_tag_hostname=n}if(!this.pm.data.view_preroll_ad_asset_hostname&&t.ad_asset_url){var a=er(v(t.ad_asset_url),2),o=a[0],s=a[1];this.pm.data.view_preroll_ad_asset_domain=s,this.pm.data.view_preroll_ad_asset_hostname=o}}this.pm.data.ad_asset_url=null==t?void 0:t.ad_asset_url,this.pm.data.ad_tag_url=null==t?void 0:t.ad_tag_url,this.pm.data.ad_creative_id=null==t?void 0:t.ad_creative_id,this.pm.data.ad_id=null==t?void 0:t.ad_id,this.pm.data.ad_universal_id=null==t?void 0:t.ad_universal_id}}],ei(r.prototype,e),t&&ei(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}();function el(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var eu=(ta=function e(t){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,e);var r,n,a=function(){t.disableRebufferTracking||r&&(y(t.data,"view_waiting_rebuffer_duration",f.now()-r),r=!1,i().clearInterval(n))},o=!1,s=function(){o=!1,a()};t.on("waiting",function(){o&&(t.disableRebufferTracking||(y(t.data,"view_waiting_rebuffer_count",1),r=f.now(),n=i().setInterval(function(){if(r){var e=f.now();y(t.data,"view_waiting_rebuffer_duration",e-r),r=e}},250)))}),t.on("playing",function(){a(),o=!0}),t.on("pause",s),t.on("seeking",s)},to&&el(ta.prototype,to),ts&&el(ta,ts),Object.defineProperty(ta,"prototype",{writable:!1}),ta);function ec(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var ed=(tl=function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,e);var n=function(){r.lastWallClockTime=f.now(),t.on("before*",i)},i=function(e){var n=f.now(),i=r.lastWallClockTime;r.lastWallClockTime=n,n-i>3e4&&(t.emit("devicesleep",{viewer_time:i}),Object.assign(t.data,{viewer_time:i}),t.send("devicesleep"),t.emit("devicewake",{viewer_time:n}),Object.assign(t.data,{viewer_time:n}),t.send("devicewake"))};t.one("playbackheartbeat",n),t.on("playbackheartbeatend",function(){t.off("before*",i),t.one("playbackheartbeat",n)})},tu&&ec(tl.prototype,tu),tc&&ec(tl,tc),Object.defineProperty(tl,"prototype",{writable:!1}),tl),eh=r(375),ep=r(655),ef=r.n(ep),em="muxData",ev=function(){var e;try{e=eh.parse(ef().get(em)||"")}catch(t){e={}}return e},eg=function(e){try{ef().set(em,eh.stringify(e),{expires:365})}catch(t){}},ey=function(){var e=ev();return e.mux_viewer_id=e.mux_viewer_id||a(),e.msn=e.msn||Math.random(),eg(e),{mux_viewer_id:e.mux_viewer_id,mux_sample_number:e.msn}},eb=function(){var e;switch(ew()){case"cellular":e="cellular";break;case"ethernet":e="wired";break;case"wifi":e="wifi";break;case void 0:break;default:e="other"}return e},ew=function(){var e=i().navigator,t=e&&(e.connection||e.mozConnection||e.webkitConnection);return t&&t.type};eb.getConnectionFromAPI=ew;var ex=ek({a:"env",b:"beacon",c:"custom",d:"ad",e:"event",f:"experiment",i:"internal",m:"mux",n:"response",p:"player",q:"request",r:"retry",s:"session",t:"timestamp",u:"viewer",v:"video",w:"page",x:"view",y:"sub"}),e_=ek({ad:"ad",ag:"aggregate",ap:"api",al:"application",ar:"architecture",as:"asset",au:"autoplay",av:"average",bi:"bitrate",br:"break",bw:"browser",by:"bytes",ca:"cached",cb:"cancel",cc:"codec",cd:"code",cg:"category",ch:"changed",cl:"canceled",cn:"config",co:"count",ce:"counter",cp:"complete",cr:"creative",ct:"content",cu:"current",cx:"connection",cz:"context",dg:"downscaling",dm:"domain",dn:"cdn",do:"downscale",dr:"drm",dp:"dropped",du:"duration",dv:"device",ec:"encoding",ed:"edge",en:"end",eg:"engine",em:"embed",er:"error",es:"errorcode",et:"errortext",ee:"event",ev:"events",ex:"expires",ep:"experiments",fa:"failed",fi:"first",fm:"family",ft:"format",fp:"fps",fq:"frequency",fr:"frame",fs:"fullscreen",ha:"has",hb:"holdback",he:"headers",ho:"host",hn:"hostname",ht:"height",id:"id",ii:"init",in:"instance",ip:"ip",is:"is",ke:"key",la:"language",lb:"labeled",le:"level",li:"live",ld:"loaded",lo:"load",ls:"lists",lt:"latency",ma:"max",md:"media",me:"message",mf:"manifest",mi:"mime",ml:"midroll",mm:"min",mn:"manufacturer",mo:"model",mx:"mux",ne:"newest",nm:"name",no:"number",on:"on",os:"os",pa:"paused",pb:"playback",pd:"producer",pe:"percentage",pf:"played",pg:"program",ph:"playhead",pi:"plugin",pl:"preroll",pn:"playing",po:"poster",pr:"preload",ps:"position",pt:"part",py:"property",ra:"rate",rd:"requested",re:"rebuffer",rf:"rendition",rm:"remote",ro:"ratio",rp:"response",rq:"request",rs:"requests",sa:"sample",se:"session",sk:"seek",sm:"stream",so:"source",sq:"sequence",sr:"series",st:"start",su:"startup",sv:"server",sw:"software",ta:"tag",tc:"tech",te:"text",tg:"target",th:"throughput",ti:"time",tl:"total",to:"to",tt:"title",ty:"type",ug:"upscaling",un:"universal",up:"upscale",ur:"url",us:"user",va:"variant",vd:"viewed",vi:"video",ve:"version",vw:"view",vr:"viewer",wd:"width",wa:"watch",wt:"waiting"});function ek(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}function eT(e){var t={},r={};return Object.keys(e).forEach(function(n){var i=!1;if(e.hasOwnProperty(n)&&void 0!==e[n]){var a=n.split("_"),o=a[0],s=ex[o];s||(h.info("Data key word `"+a[0]+"` not expected in "+n),s=o+"_"),a.splice(1).forEach(function(e){"url"===e&&(i=!0),e_[e]?s+=e_[e]:Number(e)&&Math.floor(Number(e))===Number(e)?s+=e:(h.info("Data key word `"+e+"` not expected in "+n),s+="_"+e+"_")}),i?r[s]=e[n]:t[s]=e[n]}}),Object.assign(t,r)}var eE={maxBeaconSize:300,maxQueueLength:3600,baseTimeBetweenBeacons:1e4,maxPayloadKBSize:500},eC=["hb","requestcompleted","requestfailed","requestcanceled"],eS=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._beaconUrl=e||"https://img.litix.io",this._eventQueue=[],this._postInFlight=!1,this._failureCount=0,this._sendTimeout=!1,this._options=Object.assign({},eE,t)};eS.prototype.queueEvent=function(e,t){var r=Object.assign({},t);return(this._eventQueue.length<=this._options.maxQueueLength||"eventrateexceeded"===e)&&(this._eventQueue.push(r),this._sendTimeout||this._startBeaconSending(),this._eventQueue.length<=this._options.maxQueueLength)},eS.prototype.flushEvents=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&1===this._eventQueue.length?this._eventQueue.pop():(this._eventQueue.length&&this._sendBeaconQueue(),this._startBeaconSending())},eS.prototype.destroy=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.destroyed=!0,e?this._clearBeaconQueue():this.flushEvents(),i().clearTimeout(this._sendTimeout)},eS.prototype._clearBeaconQueue=function(){var e=this._eventQueue.length>this._options.maxBeaconSize?this._eventQueue.length-this._options.maxBeaconSize:0,t=this._eventQueue.slice(e);e>0&&Object.assign(t[t.length-1],eT({mux_view_message:"event queue truncated"}));var r=this._createPayload(t);ej(this._beaconUrl,r,!0,function(){})},eS.prototype._sendBeaconQueue=function(){var e=this;if(!this._postInFlight){var t=this._eventQueue.slice(0,this._options.maxBeaconSize);this._eventQueue=this._eventQueue.slice(this._options.maxBeaconSize),this._postInFlight=!0;var r=this._createPayload(t),n=f.now();ej(this._beaconUrl,r,!1,function(r,i){i?(e._eventQueue=t.concat(e._eventQueue),e._failureCount+=1,h.info("Error sending beacon: "+i)):e._failureCount=0,e._roundTripTime=f.now()-n,e._postInFlight=!1})}},eS.prototype._getNextBeaconTime=function(){if(!this._failureCount)return this._options.baseTimeBetweenBeacons;var e=Math.pow(2,this._failureCount-1);return(1+(e*=Math.random()))*this._options.baseTimeBetweenBeacons},eS.prototype._startBeaconSending=function(){var e=this;i().clearTimeout(this._sendTimeout),this.destroyed||(this._sendTimeout=i().setTimeout(function(){e._eventQueue.length&&e._sendBeaconQueue(),e._startBeaconSending()},this._getNextBeaconTime()))},eS.prototype._createPayload=function(e){var t,r,n,i=this,a={transmission_timestamp:Math.round(f.now())};this._roundTripTime&&(a.rtt_ms=Math.round(this._roundTripTime));var o=function(){n=(t=JSON.stringify({metadata:a,events:r||e})).length/1024},s=function(){return n<=i._options.maxPayloadKBSize};return o(),s()||(h.info("Payload size is too big ("+n+" kb). Removing unnecessary events."),r=e.filter(function(e){return -1===eC.indexOf(e.e)}),o()),s()||(h.info("Payload size still too big ("+n+" kb). Cropping fields.."),r.forEach(function(e){for(var t in e){var r=e[t];"string"==typeof r&&r.length>51200&&(e[t]=r.substring(0,51200))}}),o()),t};var ej=function(e,t,r,n){if(r&&navigator&&navigator.sendBeacon&&navigator.sendBeacon(e,t))n();else if(i().fetch)i().fetch(e,{method:"POST",body:t,headers:{"Content-Type":"text/plain"},keepalive:t.length<=57344}).then(function(e){return n(null,e.ok?null:"Error")}).catch(function(e){return n(null,e)});else{if(i().XMLHttpRequest){var a=new(i()).XMLHttpRequest;return a.onreadystatechange=function(){if(4===a.readyState)return n(null,200!==a.status?"error":void 0)},a.open("POST",e),a.setRequestHeader("Content-Type","text/plain"),void a.send(t)}n()}};function eL(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function eP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eP(Object(r),!0).forEach(function(t){eO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function eI(e){return(eI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function eO(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var eA=["env_key","view_id","view_sequence_number","player_sequence_number","beacon_domain","player_playhead_time","viewer_time","mux_api_version","event","video_id","player_instance_id"],eN=["adplay","adplaying","adpause","adfirstquartile","admidpoint","adthirdquartile","adended","adresponse","adrequest"],eD=["ad_id","ad_creative_id","ad_universal_id"],eq=["viewstart","error","ended","viewend"],eF=function(){var e,t;function r(e,t){var n,a,o,s,l,u,c,d,h,p,f,m,v,g,y,b,w,x,_,k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,r),eO(this,"previousBeaconData",null),eO(this,"lastEventTime",0),eO(this,"rateLimited",!1),this.mux=e,this.envKey=t,this.options=k,this.eventQueue=new eS((n=this.envKey,o=(a=this.options).beaconCollectionDomain,s=a.beaconDomain,o?"https://"+o:(n=n||"inferred").match(/^[a-z0-9]+$/)?"https://"+n+"."+(s||"litix.io"):"https://img.litix.io/a.gif")),this.sampleRate=null!==(l=this.options.sampleRate)&&void 0!==l?l:1,this.disableCookies=null!==(u=this.options.disableCookies)&&void 0!==u&&u,this.respectDoNotTrack=null!==(c=this.options.respectDoNotTrack)&&void 0!==c&&c,this.previousBeaconData=null,this.lastEventTime=0,this.rateLimited=!1,this.pageLevelData={mux_api_version:this.mux.API_VERSION,mux_embed:this.mux.NAME,mux_embed_version:this.mux.VERSION,viewer_application_name:null===(d=this.options.platform)||void 0===d?void 0:d.name,viewer_application_version:null===(h=this.options.platform)||void 0===h?void 0:h.version,viewer_application_engine:null===(p=this.options.platform)||void 0===p?void 0:p.layout,viewer_device_name:null===(f=this.options.platform)||void 0===f?void 0:f.product,viewer_device_category:"",viewer_device_manufacturer:null===(m=this.options.platform)||void 0===m?void 0:m.manufacturer,viewer_os_family:null===(v=this.options.platform)||void 0===v||null===(g=v.os)||void 0===g?void 0:g.family,viewer_os_architecture:null===(y=this.options.platform)||void 0===y||null===(b=y.os)||void 0===b?void 0:b.architecture,viewer_os_version:null===(w=this.options.platform)||void 0===w||null===(x=w.os)||void 0===x?void 0:x.version,viewer_connection_type:eb(),page_url:null===i()||void 0===i()||null===(_=i().location)||void 0===_?void 0:_.href},this.viewerData=this.disableCookies?{}:ey()}return e=[{key:"send",value:function(e,t){var r;if(e&&null!=t&&t.view_id){if(this.respectDoNotTrack&&p())return h.info("Not sending `"+e+"` because Do Not Track is enabled");if(!t||"object"!==eI(t))return h.error("A data object was expected in send() but was not provided");var n,i,o=this.disableCookies?{}:(n=ev(),i=f.now(),n.session_start&&(n.sst=n.session_start,delete n.session_start),n.session_id&&(n.sid=n.session_id,delete n.session_id),n.session_expires&&(n.sex=n.session_expires,delete n.session_expires),(!n.sex||n.sex<i)&&(n.sid=a(),n.sst=i),n.sex=i+15e5,eg(n),{session_id:n.sid,session_start:n.sst,session_expires:n.sex}),s=eR(eR(eR(eR(eR({},this.pageLevelData),t),o),this.viewerData),{},{event:e,env_key:this.envKey});s.user_id&&(s.viewer_user_id=s.user_id,delete s.user_id);var l=(null!==(r=s.mux_sample_number)&&void 0!==r?r:0)>=this.sampleRate,u=eT(this._deduplicateBeaconData(e,s));if(this.lastEventTime=this.mux.utils.now(),l)return h.info("Not sending event due to sample rate restriction",e,s,u);if(this.envKey||h.info("Missing environment key (envKey) - beacons will be dropped if the video source is not a valid mux video URL",e,s,u),!this.rateLimited){if(h.info("Sending event",e,s,u),this.rateLimited=!this.eventQueue.queueEvent(e,u),this.mux.WINDOW_UNLOADING&&"viewend"===e)this.eventQueue.destroy(!0);else if(this.mux.WINDOW_HIDDEN&&"hb"===e?this.eventQueue.flushEvents(!0):eq.indexOf(e)>=0&&this.eventQueue.flushEvents(),this.rateLimited)return s.event="eventrateexceeded",u=eT(s),this.eventQueue.queueEvent(s.event,u),h.error("Beaconing disabled due to rate limit.")}}}},{key:"destroy",value:function(){this.eventQueue.destroy(!1)}},{key:"_deduplicateBeaconData",value:function(e,t){var r=this,n={},i=t.view_id;if("-1"===i||"viewstart"===e||"viewend"===e||!this.previousBeaconData||this.mux.utils.now()-this.lastEventTime>=6e5)n=eR({},t),i&&(this.previousBeaconData=n),i&&"viewend"===e&&(this.previousBeaconData=null);else{var a=0===e.indexOf("request");Object.entries(t).forEach(function(t){var i=function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==r.return||r.return()}finally{if(s)throw i}}return a}}(t,2)||function(e,t){if(e){if("string"==typeof e)return eL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?eL(e,t):void 0}}(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=i[0],s=i[1];r.previousBeaconData&&(s!==r.previousBeaconData[o]||eA.indexOf(o)>-1||r.objectHasChanged(a,o,s,r.previousBeaconData[o])||r.eventRequiresKey(e,o))&&(n[o]=s,r.previousBeaconData[o]=s)})}return n}},{key:"objectHasChanged",value:function(e,t,r,n){return!(!e||0!==t.indexOf("request_")||"request_response_headers"!==t&&"object"===eI(r)&&"object"===eI(n)&&Object.keys(r||{}).length===Object.keys(n||{}).length)}},{key:"eventRequiresKey",value:function(e,t){return"renditionchange"===e&&0===t.indexOf("video_source_")||!(!eD.includes(t)||!eN.includes(e))}}],eM(r.prototype,e),t&&eM(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}();function eU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var eB=(td=function e(t){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,e);var r=0,n=0,i=0,a=0,o=0,s=0,l=0;t.on("requestcompleted",function(e,s){var l,u,c=s.request_start,d=s.request_response_start,h=s.request_response_end,p=s.request_bytes_loaded;if(a++,d?(l=d-(null!=c?c:0),u=(null!=h?h:0)-d):u=(null!=h?h:0)-(null!=c?c:0),u>0&&p&&p>0){var f=p/u*8e3;o++,n+=p,i+=u,t.data.view_min_request_throughput=Math.min(t.data.view_min_request_throughput||1/0,f),t.data.view_average_request_throughput=n/i*8e3,t.data.view_request_count=a,l>0&&(r+=l,t.data.view_max_request_latency=Math.max(t.data.view_max_request_latency||0,l),t.data.view_average_request_latency=r/o)}}),t.on("requestfailed",function(e,r){a++,s++,t.data.view_request_count=a,t.data.view_request_failed_count=s}),t.on("requestcanceled",function(e,r){a++,l++,t.data.view_request_count=a,t.data.view_request_canceled_count=l})},th&&eU(td.prototype,th),tp&&eU(td,tp),Object.defineProperty(td,"prototype",{writable:!1}),td);function eH(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var eV=(tf=function e(t){var r=this;(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,e),t.on("before*",function(e,n){var i=n.viewer_time,a=f.now(),o=r._lastEventTime;if(r._lastEventTime=a,o&&a-o>36e5){var s=Object.keys(t.data).reduce(function(e,r){var n,i;return 0===r.indexOf("video_")?Object.assign(e,(n={},i=t.data[r],r in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,n)):e},{});t.mux.log.info("Received event after at least an hour inactivity, creating a new view"),t.emit("viewinit",Object.assign({viewer_time:i},s)),t.playbackHeartbeat._playheadShouldBeProgressing&&"play"!==e.type&&"adbreakstart"!==e.type&&(t.emit("play",{viewer_time:i}),"playing"!==e.type&&t.emit("playing",{viewer_time:i}))}})},tm&&eH(tf.prototype,tm),tv&&eH(tf,tv),Object.defineProperty(tf,"prototype",{writable:!1}),tf);function eZ(e){return(eZ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ez(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function e$(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function eW(e,t){return(eW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eQ(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eG(e){return(eG=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var eK=["viewstart","ended","loadstart","pause","play","playing","ratechange","waiting","adplay","adpause","adended","aderror","adplaying","adrequest","adresponse","adbreakstart","adbreakend","adfirstquartile","admidpoint","adthirdquartile","rebufferstart","rebufferend","seeked","error","hb","requestcompleted","requestfailed","requestcanceled","renditionchange"],eY=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eW(e,t)}(o,e);var t,r,n,i=(t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}(),function(){var e,r=eG(o);if(t){var n=eG(this).constructor;e=Reflect.construct(r,arguments,n)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===eZ(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return eQ(e)}(this,e)});function o(e,t,r){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,o),(n=i.call(this)).DOM_CONTENT_LOADED_EVENT_END=g.domContentLoadedEventEnd(),n.NAVIGATION_START=g.navigationStart(),n.mux=e,n.id=t,(r=Object.assign({debug:!1,minimumRebufferDuration:250,sustainedRebufferThreshold:1e3,playbackHeartbeatTime:25,beaconDomain:"litix.io",sampleRate:1,disableCookies:!1,respectDoNotTrack:!1,disableRebufferTracking:!1,disablePlayheadRebufferTracking:!1,errorTranslator:function(e){return e}},r)).data=r.data||{},r.data.property_key&&(r.data.env_key=r.data.property_key,delete r.data.property_key),h.setLevel(r.debug?"debug":"warn"),n.getPlayheadTime=r.getPlayheadTime,n.getStateData=r.getStateData||function(){return{}},n.getAdData=r.getAdData||function(){},n.minimumRebufferDuration=r.minimumRebufferDuration,n.sustainedRebufferThreshold=r.sustainedRebufferThreshold,n.playbackHeartbeatTime=r.playbackHeartbeatTime,n.disableRebufferTracking=r.disableRebufferTracking,n.disableRebufferTracking&&n.mux.log.warn("Disabling rebuffer tracking. This should only be used in specific circumstances as a last resort when your player is known to unreliably track rebuffering."),n.disablePlayheadRebufferTracking=r.disablePlayheadRebufferTracking,n.errorTranslator=r.errorTranslator,n.playbackEventDispatcher=new eF(e,r.data.env_key,r),n.data={player_instance_id:a(),mux_sample_rate:r.sampleRate,beacon_domain:r.beaconCollectionDomain?r.beaconCollectionDomain:r.beaconDomain},n.data.view_sequence_number=1,n.data.player_sequence_number=1,n.oldEmit=n.emit,n.emit=function(e,t){t=Object.assign({viewer_time:this.mux.utils.now()},t),this.oldEmit(e,t)};var n,s=(function(){void 0===this.data.view_start&&(this.data.view_start=this.mux.utils.now(),this.emit("viewstart"))}).bind(eQ(n));n.on("viewinit",function(e,t){this._resetVideoData(),this._resetViewData(),this._resetErrorData(),this._updateStateData(),Object.assign(this.data,t),this._initializeViewData(),this.one("play",s),this.one("adbreakstart",s)});var l=(function(e){this.emit("viewend"),this.send("viewend"),this.emit("viewinit",e)}).bind(eQ(n));if(n.on("videochange",function(e,t){l(t)}),n.on("programchange",function(e,t){this.data.player_is_paused&&this.mux.log.warn("The `programchange` event is intended to be used when the content changes mid playback without the video source changing, however the video is not currently playing. If the video source is changing please use the videochange event otherwise you will lose startup time information."),l(Object.assign(t,{view_program_changed:!0})),s(),this.emit("play"),this.emit("playing")}),n.on("fragmentchange",function(e,t){this.currentFragmentPDT=t.currentFragmentPDT,this.currentFragmentStart=t.currentFragmentStart}),n.on("destroy",n.destroy),"undefined"!=typeof window&&"function"==typeof window.addEventListener&&"function"==typeof window.removeEventListener){var u=function(){var e=void 0!==n.data.view_start;n.mux.WINDOW_HIDDEN="hidden"===document.visibilityState,e&&n.mux.WINDOW_HIDDEN&&(n.data.player_is_paused||n.emit("hb"))};window.addEventListener("visibilitychange",u,!1);var c=function(e){e.persisted||n.destroy()};window.addEventListener("pagehide",c,!1),n.on("destroy",function(){window.removeEventListener("visibilitychange",u),window.removeEventListener("pagehide",c)})}return n.on("playerready",function(e,t){Object.assign(this.data,t)}),eK.forEach(function(e){n.on(e,function(t,r){0!==e.indexOf("ad")&&this._updateStateData(),Object.assign(this.data,r),this._sanitizeData()}),n.on("after"+e,function(){("error"!==e||this.errorTracker.viewErrored)&&this.send(e)})}),n.on("viewend",function(e,t){Object.assign(n.data,t)}),n.one("playerready",function(e){var t=this.mux.utils.now();this.data.player_init_time&&(this.data.player_startup_time=t-this.data.player_init_time),!this.mux.PLAYER_TRACKED&&this.NAVIGATION_START&&(this.mux.PLAYER_TRACKED=!0,(this.data.player_init_time||this.DOM_CONTENT_LOADED_EVENT_END)&&(this.data.page_load_time=Math.min(this.data.player_init_time||1/0,this.DOM_CONTENT_LOADED_EVENT_END||1/0)-this.NAVIGATION_START)),this.send("playerready"),delete this.data.player_startup_time,delete this.data.page_load_time}),n.longResumeTracker=new eV(eQ(n)),n.errorTracker=new F(eQ(n)),new ed(eQ(n)),n.seekingTracker=new et(eQ(n)),n.playheadTime=new z(eQ(n)),n.playbackHeartbeat=new D(eQ(n)),new X(eQ(n)),n.watchTimeTracker=new B(eQ(n)),new V(eQ(n)),n.adTracker=new es(eQ(n)),new G(eQ(n)),new W(eQ(n)),new Y(eQ(n)),new eu(eQ(n)),new eB(eQ(n)),r.hlsjs&&n.addHLSJS(r),r.dashjs&&n.addDashJS(r),n.emit("viewinit",r.data),n}return r=[{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,void 0!==this.data.view_start&&(this.emit("viewend"),this.send("viewend")),this.playbackEventDispatcher.destroy(),this.removeHLSJS(),this.removeDashJS(),window.clearTimeout(this._heartBeatTimeout))}},{key:"send",value:function(e){if(this.data.view_id){var t=Object.assign({},this.data);if(void 0===t.video_source_is_live&&(t.player_source_duration===1/0||t.video_source_duration===1/0?t.video_source_is_live=!0:(t.player_source_duration>0||t.video_source_duration>0)&&(t.video_source_is_live=!1)),t.video_source_is_live||["player_program_time","player_manifest_newest_program_time","player_live_edge_program_time","player_program_time","video_holdback","video_part_holdback","video_target_duration","video_part_target_duration"].forEach(function(e){t[e]=void 0}),t.video_source_url=t.video_source_url||t.player_source_url,t.video_source_url){var r,n=function(e){if(Array.isArray(e))return e}(r=v(t.video_source_url))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==r.return||r.return()}finally{if(s)throw i}}return a}}(r,2)||function(e,t){if(e){if("string"==typeof e)return ez(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ez(e,t):void 0}}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=n[0],a=n[1];t.video_source_domain=a,t.video_source_hostname=i}delete t.ad_request_id,this.playbackEventDispatcher.send(e,t),this.data.view_sequence_number++,this.data.player_sequence_number++,this._restartHeartBeat(),"viewend"===e&&delete this.data.view_id}}},{key:"_updateStateData",value:function(){Object.assign(this.data,this.getStateData()),this.playheadTime._updatePlayheadTime(),this._sanitizeData()}},{key:"_sanitizeData",value:function(){var e=this;["player_width","player_height","video_source_width","video_source_height","player_playhead_time","video_source_bitrate"].forEach(function(t){var r=parseInt(e.data[t],10);e.data[t]=isNaN(r)?void 0:r}),["player_source_url","video_source_url"].forEach(function(t){if(e.data[t]){var r=e.data[t].toLowerCase();0!==r.indexOf("data:")&&0!==r.indexOf("blob:")||(e.data[t]="MSE style URL")}})}},{key:"_resetVideoData",value:function(e,t){var r=this;Object.keys(this.data).forEach(function(e){0===e.indexOf("video_")&&delete r.data[e]})}},{key:"_resetViewData",value:function(){var e=this;Object.keys(this.data).forEach(function(t){0===t.indexOf("view_")&&delete e.data[t]}),this.data.view_sequence_number=1}},{key:"_resetErrorData",value:function(e,t){delete this.data.player_error_code,delete this.data.player_error_message}},{key:"_initializeViewData",value:function(){var e=this,t=this.data.view_id=a(),r=function(){t===e.data.view_id&&y(e.data,"player_view_count",1)};this.data.player_is_paused?this.one("play",r):r()}},{key:"_restartHeartBeat",value:function(){var e=this;window.clearTimeout(this._heartBeatTimeout),this.errorTracker.viewErrored||(this._heartBeatTimeout=window.setTimeout(function(){e.data.player_is_paused||e.emit("hb")},1e4))}},{key:"addHLSJS",value:function(e){e.hlsjs?this.hlsjs?this.mux.log.warn("An instance of HLS.js is already being monitored for this player."):(this.hlsjs=e.hlsjs,function(e,t,r){var n=arguments.length>4?arguments[4]:void 0,i=e.log,a=e.utils.secondsToMs,o=function(e){var t,r=parseInt(n.version);return 1===r&&null!==e.programDateTime&&(t=e.programDateTime),0===r&&null!==e.pdt&&(t=e.pdt),t};if(g.exists()){var s=function(r,n){return e.emit(t,r,n)},l=function(e,t){var r=t.levels,n=t.audioTracks,i=t.url,a=t.stats,o=t.networkDetails,l=t.sessionData,u={},c={};r.forEach(function(e,t){u[t]={width:e.width,height:e.height,bitrate:e.bitrate,attrs:e.attrs}}),n.forEach(function(e,t){c[t]={name:e.name,language:e.lang,bitrate:e.bitrate}});var d=C(a),h=d.bytesLoaded,p=d.requestStart,f=d.responseStart,v=d.responseEnd;s("requestcompleted",E(E({},k(l)),{},{request_event_type:e,request_bytes_loaded:h,request_start:p,request_response_start:f,request_response_end:v,request_type:"manifest",request_hostname:m(i),request_response_headers:S(o),request_rendition_lists:{media:u,audio:c,video:{}}}))};r.on(n.Events.MANIFEST_LOADED,l);var u=function(e,t){var r=t.details,n=t.level,i=t.networkDetails,l=C(t.stats),u=l.bytesLoaded,c=l.requestStart,d=l.responseStart,h=l.responseEnd,p=r.fragments[r.fragments.length-1],f=o(p)+a(p.duration);s("requestcompleted",{request_event_type:e,request_bytes_loaded:u,request_start:c,request_response_start:d,request_response_end:h,request_current_level:n,request_type:"manifest",request_hostname:m(r.url),request_response_headers:S(i),video_holdback:r.holdBack&&a(r.holdBack),video_part_holdback:r.partHoldBack&&a(r.partHoldBack),video_part_target_duration:r.partTarget&&a(r.partTarget),video_target_duration:r.targetduration&&a(r.targetduration),video_source_is_live:r.live,player_manifest_newest_program_time:isNaN(f)?void 0:f})};r.on(n.Events.LEVEL_LOADED,u);var c=function(e,t){var r=t.details,n=t.networkDetails,i=C(t.stats);s("requestcompleted",{request_event_type:e,request_bytes_loaded:i.bytesLoaded,request_start:i.requestStart,request_response_start:i.responseStart,request_response_end:i.responseEnd,request_type:"manifest",request_hostname:m(r.url),request_response_headers:S(n)})};r.on(n.Events.AUDIO_TRACK_LOADED,c);var d=function(e,t){var n=t.stats,i=t.networkDetails,a=t.frag,o=C(n=n||a.stats),l=o.bytesLoaded,u=o.requestStart,c=o.responseStart,d=o.responseEnd,h=i?S(i):void 0,p={request_event_type:e,request_bytes_loaded:l,request_start:u,request_response_start:c,request_response_end:d,request_hostname:i?m(i.responseURL):void 0,request_id:h?_(h):void 0,request_response_headers:h,request_media_duration:a.duration,request_url:null==i?void 0:i.responseURL};"main"===a.type?(p.request_type="media",p.request_current_level=a.level,p.request_video_width=(r.levels[a.level]||{}).width,p.request_video_height=(r.levels[a.level]||{}).height,p.request_labeled_bitrate=(r.levels[a.level]||{}).bitrate):p.request_type=a.type,s("requestcompleted",p)};r.on(n.Events.FRAG_LOADED,d);var h=function(e,t){var r=t.frag,n=r.start;s("fragmentchange",{currentFragmentPDT:o(r),currentFragmentStart:a(n)})};r.on(n.Events.FRAG_CHANGED,h);var p=function(e,t){var r,i=t.type,a=t.details,o=t.response,l=t.fatal,u=t.frag,c=t.networkDetails,d=(null==u?void 0:u.url)||t.url||"",h=c?S(c):void 0;a!==n.ErrorDetails.MANIFEST_LOAD_ERROR&&a!==n.ErrorDetails.MANIFEST_LOAD_TIMEOUT&&a!==n.ErrorDetails.FRAG_LOAD_ERROR&&a!==n.ErrorDetails.FRAG_LOAD_TIMEOUT&&a!==n.ErrorDetails.LEVEL_LOAD_ERROR&&a!==n.ErrorDetails.LEVEL_LOAD_TIMEOUT&&a!==n.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&a!==n.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT&&a!==n.ErrorDetails.SUBTITLE_LOAD_ERROR&&a!==n.ErrorDetails.SUBTITLE_LOAD_TIMEOUT&&a!==n.ErrorDetails.KEY_LOAD_ERROR&&a!==n.ErrorDetails.KEY_LOAD_TIMEOUT||s("requestfailed",{request_error:a,request_url:d,request_hostname:m(d),request_id:h?_(h):void 0,request_type:a===n.ErrorDetails.FRAG_LOAD_ERROR||a===n.ErrorDetails.FRAG_LOAD_TIMEOUT?"media":a===n.ErrorDetails.AUDIO_TRACK_LOAD_ERROR||a===n.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT?"audio":a===n.ErrorDetails.SUBTITLE_LOAD_ERROR||a===n.ErrorDetails.SUBTITLE_LOAD_TIMEOUT?"subtitle":a===n.ErrorDetails.KEY_LOAD_ERROR||a===n.ErrorDetails.KEY_LOAD_TIMEOUT?"encryption":"manifest",request_error_code:null==o?void 0:o.code,request_error_text:null==o?void 0:o.text}),l&&s("error",{player_error_code:i,player_error_message:a,player_error_context:"".concat(d?"url: ".concat(d,"\n"):"")+"".concat(o&&(o.code||o.text)?"response: ".concat(o.code,", ").concat(o.text,"\n"):"")+"".concat(t.reason?"failure reason: ".concat(t.reason,"\n"):"")+"".concat(t.level?"level: ".concat(t.level,"\n"):"")+"".concat(t.parent?"parent stream controller: ".concat(t.parent,"\n"):"")+"".concat(t.buffer?"buffer length: ".concat(t.buffer,"\n"):"")+"".concat(t.error?"error: ".concat(t.error,"\n"):"")+"".concat(t.event?"event: ".concat(t.event,"\n"):"")+"".concat(t.err?"error message: ".concat(null===(r=t.err)||void 0===r?void 0:r.message,"\n"):"")})};r.on(n.Events.ERROR,p);var f=function(e,t){var r=t.frag,n=r&&r._url||"";s("requestcanceled",{request_event_type:e,request_url:n,request_type:"media",request_hostname:m(n)})};r.on(n.Events.FRAG_LOAD_EMERGENCY_ABORTED,f);var v=function(e,t){var n=t.level,a=r.levels[n];if(a&&a.attrs&&a.attrs.BANDWIDTH){var o,l=a.attrs.BANDWIDTH,u=parseFloat(a.attrs["FRAME-RATE"]);isNaN(u)||(o=u),l?s("renditionchange",{video_source_fps:o,video_source_bitrate:l,video_source_width:a.width,video_source_height:a.height,video_source_rendition_name:a.name,video_source_codec:null==a?void 0:a.videoCodec}):i.warn("missing BANDWIDTH from HLS manifest parsed by HLS.js")}};r.on(n.Events.LEVEL_SWITCHED,v),r._stopMuxMonitor=function(){r.off(n.Events.MANIFEST_LOADED,l),r.off(n.Events.LEVEL_LOADED,u),r.off(n.Events.AUDIO_TRACK_LOADED,c),r.off(n.Events.FRAG_LOADED,d),r.off(n.Events.FRAG_CHANGED,h),r.off(n.Events.ERROR,p),r.off(n.Events.FRAG_LOAD_EMERGENCY_ABORTED,f),r.off(n.Events.LEVEL_SWITCHED,v),r.off(n.Events.DESTROYING,r._stopMuxMonitor),delete r._stopMuxMonitor},r.on(n.Events.DESTROYING,r._stopMuxMonitor)}else i.warn("performance timing not supported. Not tracking HLS.js.")}(this.mux,this.id,e.hlsjs,{},e.Hls||window.Hls)):this.mux.log.warn("You must pass a valid hlsjs instance in order to track it.")}},{key:"removeHLSJS",value:function(){var e;this.hlsjs&&((e=this.hlsjs)&&"function"==typeof e._stopMuxMonitor&&e._stopMuxMonitor(),this.hlsjs=void 0)}},{key:"addDashJS",value:function(e){e.dashjs?this.dashjs?this.mux.log.warn("An instance of Dash.js is already being monitored for this player."):(this.dashjs=e.dashjs,function(e,t,r){var n=e.log;if(r&&r.on){var i=function(r,n){return e.emit(t,r,n)},a=function(e){var t=e.type,r=(e.data||{}).url;i("requestcompleted",{request_event_type:t,request_start:0,request_response_start:0,request_response_end:0,request_bytes_loaded:-1,request_type:"manifest",request_hostname:m(r),request_url:r})};r.on("manifestLoaded",a);var o={},s=function(e){var t=e.type,n=e.fragmentModel,a=(e.chunk||{}).mediaInfo||{},s=a.type,l=a.bitrateList,u={};(l=l||[]).forEach(function(e,t){u[t]={},u[t].width=e.width,u[t].height=e.height,u[t].bitrate=e.bandwidth,u[t].attrs={}}),"video"===s?o.video=u:"audio"===s?o.audio=u:o.media=u;var c=P(n,r),d=c.requestStart,h=c.requestResponseStart,p=c.requestResponseEnd,f=c.requestResponseHeaders,m=c.requestMediaDuration,v=c.requestHostname,g=c.requestUrl;i("requestcompleted",{request_event_type:t,request_start:d,request_response_start:h,request_response_end:p,request_bytes_loaded:-1,request_type:s+"_init",request_response_headers:f,request_hostname:v,request_id:c.requestId,request_url:g,request_media_duration:m,request_rendition_lists:o})};r.on("initFragmentLoaded",s);var l=function(e){var t=e.type,n=e.fragmentModel,a=e.chunk||{},o=a.mediaInfo,s=a.start,l=(o||{}).type,u=P(n,r),c=u.requestStart,d=u.requestResponseStart,h=u.requestResponseEnd,p=u.requestBytesLoaded,f=u.requestResponseHeaders,m=u.requestMediaDuration,v=u.requestHostname,g=u.requestUrl,y=u.requestId,b=R(l,r),w=b.currentLevel,x=b.renditionWidth,_=b.renditionHeight,k=b.renditionBitrate;i("requestcompleted",{request_event_type:t,request_start:c,request_response_start:d,request_response_end:h,request_bytes_loaded:p,request_type:l,request_response_headers:f,request_hostname:v,request_id:y,request_url:g,request_media_start_time:s,request_media_duration:m,request_current_level:w,request_labeled_bitrate:k,request_video_width:x,request_video_height:_})};r.on("mediaFragmentLoaded",l);var u={video:void 0,audio:void 0,totalBitrate:void 0},c=function(){if(u.video&&"number"==typeof u.video.bitrate){if(u.video.width&&u.video.height){var e=u.video.bitrate;return u.audio&&"number"==typeof u.audio.bitrate&&(e+=u.audio.bitrate),e!==u.totalBitrate?(u.totalBitrate=e,{video_source_bitrate:e,video_source_height:u.video.height,video_source_width:u.video.width,video_source_codec:I(u.video.codec)}):void 0}n.warn("have bitrate info for video but missing width/height")}},d=function(e,t,a){if("number"==typeof e.newQuality){var o=e.mediaType;if("audio"===o||"video"===o){var s=r.getBitrateInfoListFor(o).find(function(t){return t.qualityIndex===e.newQuality});if(s&&"number"==typeof s.bitrate){u[o]=L(L({},s),{},{codec:r.getCurrentTrackFor(o).codec});var l=c();l&&i("renditionchange",l)}else n.warn("missing bitrate info for ".concat(o))}}else n.warn("missing evt.newQuality in qualityChangeRendered event",e)};r.on("qualityChangeRendered",d);var h=function(e){var t=e.request,r=e.mediaType;i("requestcanceled",{request_event_type:(t=t||{}).type+"_"+t.action,request_url:t.url,request_type:r,request_hostname:m(t.url)})};r.on("fragmentLoadingAbandoned",h);var p=function(e){var t,r,n=e.error,a=(null==n||null===(t=n.data)||void 0===t?void 0:t.request)||{},o=(null==n||null===(r=n.data)||void 0===r?void 0:r.response)||{};27===(null==n?void 0:n.code)&&i("requestfailed",{request_error:a.type+"_"+a.action,request_url:a.url,request_hostname:m(a.url),request_type:a.mediaType,request_error_code:o.status,request_error_text:o.statusText});var s="".concat(null!=a&&a.url?"url: ".concat(a.url,"\n"):"")+"".concat(null!=o&&o.status||null!=o&&o.statusText?"response: ".concat(null==o?void 0:o.status,", ").concat(null==o?void 0:o.statusText,"\n"):"");i("error",{player_error_code:null==n?void 0:n.code,player_error_message:null==n?void 0:n.message,player_error_context:s})};r.on("error",p),r._stopMuxMonitor=function(){r.off("manifestLoaded",a),r.off("initFragmentLoaded",s),r.off("mediaFragmentLoaded",l),r.off("qualityChangeRendered",d),r.off("error",p),r.off("fragmentLoadingAbandoned",h),delete r._stopMuxMonitor}}else n.warn("Invalid dash.js player reference. Monitoring blocked.")}(this.mux,this.id,e.dashjs)):this.mux.log.warn("You must pass a valid dashjs instance in order to track it.")}},{key:"removeDashJS",value:function(){var e;this.dashjs&&((e=this.dashjs)&&"function"==typeof e._stopMuxMonitor&&e._stopMuxMonitor(),this.dashjs=void 0)}}],e$(o.prototype,r),n&&e$(o,n),Object.defineProperty(o,"prototype",{writable:!1}),o}(A),eJ=r(153),eX=r.n(eJ);function e0(e){return(e0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e1(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==r.return||r.return()}finally{if(s)throw i}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return e2(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e2(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e2(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var e5,e4,e6,e3,e9,e8,e7,te,tt,tr,tn,ti,ta,to,ts,tl,tu,tc,td,th,tp,tf,tm,tv,tg,ty=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"],tb={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"};i()&&i().WeakMap&&(tg=new WeakMap);var tw=function(e){return this.buffer="",this.manifest={segments:[],serverControl:{},sessionData:{}},this.currentUri={},this.process(e),this.manifest};tw.prototype.process=function(e){var t;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.processLine(this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},tw.prototype.processLine=function(e){var t=e.indexOf(":"),r=tS(e,t),n=r[0],i=2===r.length?tk(r[1]):void 0;if("#"!==n[0])this.currentUri.uri=n,this.manifest.segments.push(this.currentUri),!this.manifest.targetDuration||"duration"in this.currentUri||(this.currentUri.duration=this.manifest.targetDuration),this.currentUri={};else switch(n){case"#EXT-X-TARGETDURATION":if(!isFinite(i)||i<0)return;this.manifest.targetDuration=i,this.setHoldBack();break;case"#EXT-X-PART-INF":tx(this.manifest,r),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),this.setHoldBack();break;case"#EXT-X-SERVER-CONTROL":tx(this.manifest,r),this.setHoldBack();break;case"#EXTINF":0===i?this.currentUri.duration=.01:i>0&&(this.currentUri.duration=i);break;case"#EXT-X-PROGRAM-DATE-TIME":var a=new Date(i);this.manifest.dateTimeString||(this.manifest.dateTimeString=i,this.manifest.dateTimeObject=a),this.currentUri.dateTimeString=i,this.currentUri.dateTimeObject=a;break;case"#EXT-X-VERSION":tx(this.manifest,r);break;case"#EXT-X-SESSION-DATA":var o=k(tj(r[1]));Object.assign(this.manifest.sessionData,o)}},tw.prototype.setHoldBack=function(){var e=this.manifest,t=e.serverControl,r=e.targetDuration,n=e.partTargetDuration;if(t){var i="holdBack",a="partHoldBack",o=r&&3*r,s=n&&2*n;r&&!t.hasOwnProperty(i)&&(t[i]=o),o&&t[i]<o&&(t[i]=o),n&&!t.hasOwnProperty(a)&&(t[a]=3*n),n&&t[a]<s&&(t[a]=s)}};var tx=function(e,t){var r,n=t_(t[0].replace("#EXT-X-",""));tC(t[1])?(r={},r=Object.assign(tE(t[1]),r)):r=tk(t[1]),e[n]=r},t_=function(e){return e.toLowerCase().replace(/-(\w)/g,function(e){return e[1].toUpperCase()})},tk=function(e){if("yes"===e.toLowerCase()||"no"===e.toLowerCase())return"yes"===e.toLowerCase();var t=-1!==e.indexOf(":")?e:parseFloat(e);return isNaN(t)?e:t},tT=function(e){var t={},r=e.split("=");return r.length>1&&(t[t_(r[0])]=tk(r[1])),t},tE=function(e){for(var t=e.split(","),r={},n=0;t.length>n;n++)r=Object.assign(tT(t[n]),r);return r},tC=function(e){return e.indexOf("=")>-1},tS=function(e,t){return -1===t?[e]:[e.substring(0,t),e.substring(t+1)]},tj=function(e){var t={};if(e){var r=e.search(",");return[e.slice(0,r),e.slice(r+1)].forEach(function(e,r){for(var n=e.replace(/['"]+/g,"").split("="),i=0;i<n.length;i++)"DATA-ID"===n[i]&&(t["DATA-ID"]=n[1-i]),"VALUE"===n[i]&&(t.VALUE=n[1-i])}),{data:t}}},tL={safeCall:function(e,t,r,n){var i=n;if(e&&"function"==typeof e[t])try{i=e[t].apply(e,r)}catch(a){h.info("safeCall error",a)}return i},safeIncrement:y,getComputedStyle:function(e,t){var r;if(e&&t&&i()&&"function"==typeof i().getComputedStyle)return tg&&tg.has(e)&&(r=tg.get(e)),r||(r=i().getComputedStyle(e,null),tg&&tg.set(e,r)),r.getPropertyValue(t)},secondsToMs:function(e){return Math.floor(1e3*e)},assign:Object.assign,headersStringToObject:x,cdnHeadersToRequestId:_,extractHostnameAndDomain:v,extractHostname:m,manifestParser:tw,generateShortID:o,generateUUID:a,now:f.now};function tP(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var tR={},tI=function e(t){var r=arguments;"string"==typeof t?e.hasOwnProperty(t)?i().setTimeout(function(){r=Array.prototype.splice.call(r,1),e[t].apply(null,r)},0):h.warn("`"+t+"` is an unknown task"):"function"==typeof t?i().setTimeout(function(){t(e)},0):h.warn("`"+t+"` is invalid.")},tM={loaded:f.now(),NAME:"mux-embed",VERSION:"4.26.0",API_VERSION:"2.1",PLAYER_TRACKED:!1,monitor:function(e,t){return function(e,t,r){var n=e1(l(t),3),i=n[0],a=n[1],o=n[2],s=e.log,u=e.utils.getComputedStyle,c=e.utils.secondsToMs;if(!i)return s.error("No element was found with the `"+a+"` query selector.");if("video"!==o&&"audio"!==o)return s.error("The element of `"+a+"` was not a media element.");i.mux&&(i.mux.destroy(),delete i.mux,s.warn("Already monitoring this video element, replacing existing event listeners")),(r=Object.assign({automaticErrorTracking:!0},r)).data=Object.assign({player_software:"HTML5 Video Element",player_mux_plugin_name:"VideoElementMonitor",player_mux_plugin_version:e.VERSION},r.data),r.getPlayheadTime=function(){return c(i.currentTime)},r.getStateData=function(){var e,t,n=this.hlsjs&&this.hlsjs.url,a=this.dashjs&&e0("function"===this.dashjs.getSource)&&this.dashjs.getSource(),o={player_is_paused:i.paused,player_playhead_time:c(i.currentTime),player_width:parseInt(u(i,"width")),player_height:parseInt(u(i,"height")),player_autoplay_on:i.autoplay,player_preload_on:i.preload,player_language_code:i.lang,player_is_fullscreen:eX()&&!!(eX().fullscreenElement||eX().webkitFullscreenElement||eX().mozFullScreenElement||eX().msFullscreenElement),video_poster_url:i.poster,video_source_url:n||a||i.currentSrc,video_source_duration:c(i.duration),video_source_height:i.videoHeight,video_source_width:i.videoWidth,view_dropped_frame_count:null===(e=i)||void 0===e||null===(t=e.getVideoPlaybackQuality)||void 0===t?void 0:t.call(e).droppedVideoFrames},s=r.getPlayheadTime();if(i.getStartDate&&s>0){var l=i.getStartDate();if(l&&"function"==typeof l.getTime&&l.getTime()){var d=l.getTime();if(o.player_program_time=d+s,i.seekable.length>0){var h=d+i.seekable.end(i.seekable.length-1);o.player_live_edge_program_time=h}}}return o},i.mux=i.mux||{},i.mux.deleted=!1,i.mux.emit=function(t,r){e.emit(a,t,r)};var d=function(){s.error("The monitor for this video element has already been destroyed.")};i.mux.destroy=function(){Object.keys(i.mux.listeners).forEach(function(e){i.removeEventListener(e,i.mux.listeners[e],!1)}),delete i.mux.listeners,i.mux.destroy=d,i.mux.swapElement=d,i.mux.emit=d,i.mux.addHLSJS=d,i.mux.addDashJS=d,i.mux.removeHLSJS=d,i.mux.removeDashJS=d,i.mux.deleted=!0,e.emit(a,"destroy")},i.mux.swapElement=function(t){var r=e1(l(t),3),n=r[0],a=r[1],o=r[2];return n?"video"!==o&&"audio"!==o?e.log.error("The element of `"+a+"` was not a media element."):(n.muxId=i.muxId,delete i.muxId,n.mux=n.mux||{},n.mux.listeners=Object.assign({},i.mux.listeners),delete i.mux.listeners,Object.keys(n.mux.listeners).forEach(function(e){i.removeEventListener(e,n.mux.listeners[e],!1),n.addEventListener(e,n.mux.listeners[e],!1)}),n.mux.swapElement=i.mux.swapElement,n.mux.destroy=i.mux.destroy,delete i.mux,void(i=n)):e.log.error("No element was found with the `"+a+"` query selector.")},i.mux.addHLSJS=function(t){e.addHLSJS(a,t)},i.mux.addDashJS=function(t){e.addDashJS(a,t)},i.mux.removeHLSJS=function(){e.removeHLSJS(a)},i.mux.removeDashJS=function(){e.removeDashJS(a)},e.init(a,r),e.emit(a,"playerready"),i.paused||(e.emit(a,"play"),i.readyState>2&&e.emit(a,"playing")),i.mux.listeners={},ty.forEach(function(t){("error"!==t||r.automaticErrorTracking)&&(i.mux.listeners[t]=function(){var r={};if("error"===t){if(!i.error||1===i.error.code)return;r.player_error_code=i.error.code,r.player_error_message=tb[i.error.code]||i.error.message}e.emit(a,t,r)},i.addEventListener(t,i.mux.listeners[t],!1))})}(tI,e,t)},destroyMonitor:function(e){var t,r=(function(e){if(Array.isArray(e))return e}(t=l(e))||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(a.push(n.value),!t||a.length!==t);o=!0);}catch(l){s=!0,i=l}finally{try{o||null==r.return||r.return()}finally{if(s)throw i}}return a}}(t,1)||function(e,t){if(e){if("string"==typeof e)return tP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?tP(e,t):void 0}}(t,1)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0];r&&r.mux&&"function"==typeof r.mux.destroy?r.mux.destroy():h.error("A video element monitor for `"+e+"` has not been initialized via `mux.monitor`.")},addHLSJS:function(e,t){var r=s(e);tR[r]?tR[r].addHLSJS(t):h.error("A monitor for `"+r+"` has not been initialized.")},addDashJS:function(e,t){var r=s(e);tR[r]?tR[r].addDashJS(t):h.error("A monitor for `"+r+"` has not been initialized.")},removeHLSJS:function(e){var t=s(e);tR[t]?tR[t].removeHLSJS():h.error("A monitor for `"+t+"` has not been initialized.")},removeDashJS:function(e){var t=s(e);tR[t]?tR[t].removeDashJS():h.error("A monitor for `"+t+"` has not been initialized.")},init:function(e,t){p()&&t&&t.respectDoNotTrack&&h.info("The browser's Do Not Track flag is enabled - Mux beaconing is disabled.");var r=s(e);tR[r]=new eY(tI,r,t)},emit:function(e,t,r){var n=s(e);tR[n]?(tR[n].emit(t,r),"destroy"===t&&delete tR[n]):h.error("A monitor for `"+n+"` has not been initialized.")},checkDoNotTrack:p,log:h,utils:tL,events:{PLAYER_READY:"playerready",VIEW_INIT:"viewinit",VIDEO_CHANGE:"videochange",PLAY:"play",PAUSE:"pause",PLAYING:"playing",TIME_UPDATE:"timeupdate",SEEKING:"seeking",SEEKED:"seeked",REBUFFER_START:"rebufferstart",REBUFFER_END:"rebufferend",ERROR:"error",ENDED:"ended",RENDITION_CHANGE:"renditionchange",ORIENTATION_CHANGE:"orientationchange",AD_REQUEST:"adrequest",AD_RESPONSE:"adresponse",AD_BREAK_START:"adbreakstart",AD_PLAY:"adplay",AD_PLAYING:"adplaying",AD_PAUSE:"adpause",AD_FIRST_QUARTILE:"adfirstquartile",AD_MID_POINT:"admidpoint",AD_THIRD_QUARTILE:"adthirdquartile",AD_ENDED:"adended",AD_BREAK_END:"adbreakend",AD_ERROR:"aderror",REQUEST_COMPLETED:"requestcompleted",REQUEST_FAILED:"requestfailed",REQUEST_CANCELLED:"requestcanceled"},WINDOW_HIDDEN:!1,WINDOW_UNLOADING:!1};Object.assign(tI,tM),void 0!==i()&&"function"==typeof i().addEventListener&&i().addEventListener("pagehide",function(e){e.persisted||(tI.WINDOW_UNLOADING=!0)},!1);var tO=tI},655:function(e,t,r){var n;function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e);/*!
 * JavaScript Cookie v2.1.3
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */}!function(a){var o=!1;if(void 0===(n="function"==typeof a?a.call(t,r,t,e):a)||(e.exports=n),o=!0,"object"===i(t)&&(e.exports=a(),o=!0),!o){var s=window.Cookies,l=window.Cookies=a();l.noConflict=function(){return window.Cookies=s,l}}}(function(){var e=function(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t};return function t(r){function n(t,i,a){var o;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(a=e({path:"/"},n.defaults,a)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*a.expires),a.expires=s}try{o=JSON.stringify(i),/^[\{\[]/.test(o)&&(i=o)}catch(l){}return i=r.write?r.write(i,t):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[t,"=",i,a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}t||(o={});for(var u=document.cookie?document.cookie.split("; "):[],c=/(%[0-9A-Z]{2})+/g,d=0;d<u.length;d++){var h=u[d].split("="),p=h.slice(1).join("=");'"'===p.charAt(0)&&(p=p.slice(1,-1));try{var f=h[0].replace(c,decodeURIComponent);if(p=r.read?r.read(p,f):r(p,f)||p.replace(c,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch(m){}if(t===f){o=p;break}t||(o[f]=p)}catch(v){}}return o}}return n.set=n,n.get=function(e){return n.call(n,e)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(t,r){n(t,"",e(r,{expires:-1}))},n.withConverter=t,n}(function(){})})},153:function(e,t,r){var n,i=void 0!==r.g?r.g:"undefined"!=typeof window?window:{},a=r(558);"undefined"!=typeof document?n=document:(n=i["__GLOBAL_DOCUMENT_CACHE@4"])||(n=i["__GLOBAL_DOCUMENT_CACHE@4"]=a),e.exports=n},48:function(e,t,r){var n;n="undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{},e.exports=n},640:function(e,t,r){var n,i;void 0===(i="function"==typeof(n=function(){var e=function(){},t="undefined",r=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function i(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(n){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function a(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function o(t,r){for(var i=0;i<n.length;i++){var a=n[i];this[a]=i<t?e:this.methodFactory(a,t,r)}this.log=this.debug}function s(e,r,n){return function(){typeof console!==t&&(o.call(this,r,n),this[e].apply(this,arguments))}}function l(n,o,l){var u;return"debug"===(u=n)&&(u="log"),typeof console!==t&&("trace"===u&&r?a:void 0!==console[u]?i(console,u):void 0!==console.log?i(console,"log"):e)||s.apply(this,arguments)}function u(e,r,i){var a,s=this;r=null==r?"WARN":r;var u="loglevel";function c(){var e;if(typeof window!==t&&u){try{e=window.localStorage[u]}catch(r){}if(typeof e===t)try{var n=window.document.cookie,i=n.indexOf(encodeURIComponent(u)+"=");-1!==i&&(e=/^([^;]+)/.exec(n.slice(i))[1])}catch(a){}return void 0===s.levels[e]&&(e=void 0),e}}"string"==typeof e?u+=":"+e:"symbol"==typeof e&&(u=void 0),s.name=e,s.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},s.methodFactory=i||l,s.getLevel=function(){return a},s.setLevel=function(r,i){if("string"==typeof r&&void 0!==s.levels[r.toUpperCase()]&&(r=s.levels[r.toUpperCase()]),!("number"==typeof r&&r>=0&&r<=s.levels.SILENT))throw"log.setLevel() called with invalid level: "+r;if(a=r,!1!==i&&function(e){var r=(n[e]||"silent").toUpperCase();if(typeof window!==t&&u){try{return void(window.localStorage[u]=r)}catch(i){}try{window.document.cookie=encodeURIComponent(u)+"="+r+";"}catch(a){}}}(r),o.call(s,r,e),typeof console===t&&r<s.levels.SILENT)return"No console available for logging"},s.setDefaultLevel=function(e){r=e,c()||s.setLevel(e,!1)},s.resetLevel=function(){s.setLevel(r,!1),function(){if(typeof window!==t&&u){try{return void window.localStorage.removeItem(u)}catch(e){}try{window.document.cookie=encodeURIComponent(u)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(r){}}}()},s.enableAll=function(e){s.setLevel(s.levels.TRACE,e)},s.disableAll=function(e){s.setLevel(s.levels.SILENT,e)};var d=c();null==d&&(d=r),s.setLevel(d,!1)}var c=new u,d={};c.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw TypeError("You must supply a name when creating a logger.");var t=d[e];return t||(t=d[e]=new u(e,c.getLevel(),c.methodFactory)),t};var h=typeof window!==t?window.log:void 0;return c.noConflict=function(){return typeof window!==t&&window.log===c&&(window.log=h),c},c.getLoggers=function(){return d},c.default=c,c})?n.call(t,r,t,e):n)||(e.exports=i)},375:function(e,t){"use strict";var r=Object.prototype.hasOwnProperty;function n(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return null}}function i(e){try{return encodeURIComponent(e)}catch(t){return null}}t.stringify=function(e,t){var n,a,o=[];for(a in"string"!=typeof(t=t||"")&&(t="?"),e)if(r.call(e,a)){if((n=e[a])||null!=n&&!isNaN(n)||(n=""),a=i(a),n=i(n),null===a||null===n)continue;o.push(a+"="+n)}return o.length?t+o.join("&"):""},t.parse=function(e){for(var t,r=/([^=?#&]+)=?([^&]*)/g,i={};t=r.exec(e);){var a=n(t[1]),o=n(t[2]);null===a||null===o||a in i||(i[a]=o)}return i}},558:function(){}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}return r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r(80)}()},37804:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/musicfeed",function(){return r(21218)}])},92864:function(e,t,r){"use strict";var n=r(85893),i=r(5649),a=r(9187),o=r(13250),s=r(86501),l=r(92882),u=r(31618),c=r(64911),d=r(4242),h=r(21273),p=r(20674);let f=e=>{let{setFollowing:t,profile:r}=e,f=(0,l.qr)(e=>e.userSigNonce),m=(0,l.qr)(e=>e.setUserSigNonce),v=(0,l.qr)(e=>e.currentProfile),{address:g}=(0,u.mA)(),{isLoading:y,signTypedDataAsync:b}=(0,u.yw)({onError:a.Z}),w=()=>{t(!0),s.Am.success("Followed successfully!")},x=e=>{e.modify({id:"Profile:".concat(null==r?void 0:r.id),fields:{isFollowedByMe:()=>!0}})},{isLoading:_,write:k}=(0,u.GG)({address:i.Nm,abi:p.O,functionName:"followWithSig",onSuccess:w,onError:a.Z}),{broadcast:T,loading:E}=(0,o.Z)({onCompleted:w}),[C,{loading:S}]=(0,h.Rs)({onCompleted:async e=>{let{createFollowTypedData:t}=e,{id:r,typedData:n}=t,{deadline:i}=n.value;try{let a=await b((0,c.Z)(JSON.parse(JSON.stringify(n))));m(f+1);let{profileIds:o,datas:s}=n.value,{v:l,r:u,s:h}=(0,d.Z)(a),p={follower:g,profileIds:o,datas:s,sig:{v:l,r:u,s:h,deadline:i}};null==k||k({args:[p]});let{data:{broadcast:v}}=await T({request:{id:r,signature:a}});"reason"in v&&(null==k||k({args:[p]}))}catch(y){}},onError:a.Z,update:x}),[j,{loading:L}]=(0,h.RI)({onCompleted:w,onError:a.Z,update:x}),P=async e=>{let{data:t}=await j({variables:e});(null==t?void 0:t.proxyAction)||C({variables:{request:{follow:[{profile:null==r?void 0:r.id}]},options:{overrideSigNonce:f}}})},R=()=>{if(!v)return s.Am.error("Please Connect Your Wallet");if(null==r?void 0:r.followModule){var e;C({variables:{options:{overrideSigNonce:f},request:{follow:[{profile:null==r?void 0:r.id,followModule:(null==r?void 0:null===(e=r.followModule)||void 0===e?void 0:e.__typename)==="ProfileFollowModuleSettings"?{profileFollowModule:{profileId:null==v?void 0:v.id}}:null}]}}})}else P({request:{follow:{freeFollow:{profileId:null==r?void 0:r.id}}}})};return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{children:(0,n.jsx)("button",{onClick:R,disabled:S||L||y||_||E,className:"lg:text-md xl:text-md font-helvetica mt-2 cursor-pointer rounded-full border-2 border-black bg-blue-500 px-1 py-1 text-xs font-semibold text-[#000000] drop-shadow-xl transition hover:bg-[#57B8FF] hover:text-[#fff]",children:"Follow"})})})};t.Z=f},87184:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(85893),i=r(67294),a=r(9187),o=r(92882),s=r(21273),l=r(68980),u=r(86501),c=r(8193);let d=e=>{let{setCount:t,setLiked:r,count:i,liked:d,publication:h}=e,p=(0,o.qr)(e=>e.currentProfile),[f]=(0,s.Os)({onCompleted:()=>{u.Am.success("Like successfully!")},onError:e=>{r(!d),t(i-1),(0,a.Z)(e)}}),[m]=(0,s.d6)({onCompleted:()=>{u.Am.success("Like removed successfully!")},onError:e=>{r(!d),t(i-1),(0,a.Z)(e)}}),v=()=>{if(!p)return u.Am.error("Please connect your wallet!");let e={variables:{request:{profileId:null==p?void 0:p.id,reaction:l.Oiw.Upvote,publicationId:null==h?void 0:h.id}}};d?(r(!1),t(i-1),m(e)):(r(!0),t(i+1),f(e))};return(0,n.jsx)(n.Fragment,{children:d?(0,n.jsx)("div",{onClick:v,className:" rounded-full bg-gray-600/50 p-2 dark:bg-gray-600/50 md:bg-gray-200",children:(0,n.jsx)(c.M_L,{className:"h-3 w-3 font-bold text-blue-500"})}):(0,n.jsx)("div",{onClick:v,className:" rounded-full bg-gray-600/50 p-2 dark:bg-gray-600/50 md:bg-gray-200",children:(0,n.jsx)(c.M_L,{className:"h-3 w-3 font-bold "})})})},h=e=>{let{publication:t}=e,[r,a]=(0,i.useState)(!1),s="Mirror"===t.__typename,[l,u]=(0,i.useState)(s?t.mirrorOf.stats.totalUpvotes:t.stats.totalUpvotes),c=(0,o.qr)(e=>e.currentProfile);return(0,i.useEffect)(()=>{(null==t?void 0:t.reaction)==="UPVOTE"?a(!0):a(!1),c||a(!1)},[null==t?void 0:t.reaction]),(0,n.jsx)("div",{className:"block flex gap-6",children:(0,n.jsxs)("div",{className:" flex cursor-pointer flex-col items-center justify-center md:mt-4",children:[(0,n.jsx)(d,{setCount:u,count:l,setLiked:a,liked:r,publication:t}),(0,n.jsxs)("p",{className:"hidden text-xs font-semibold text-gray-400 lg:block",children:[" ",l," "]})]})})};var p=h},7960:function(e,t,r){"use strict";r.d(t,{Z:function(){return g}});var n=r(85893);let i=[{inputs:[{internalType:"address",name:"hub",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"BlockNumberInvalid",type:"error"},{inputs:[],name:"InitParamsInvalid",type:"error"},{inputs:[],name:"Initialized",type:"error"},{inputs:[],name:"NotHub",type:"error"},{inputs:[],name:"NotOwnerOrApproved",type:"error"},{inputs:[],name:"SignatureExpired",type:"error"},{inputs:[],name:"SignatureInvalid",type:"error"},{inputs:[],name:"TokenDoesNotExist",type:"error"},{inputs:[],name:"ZeroSpender",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"HUB",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct DataTypes.EIP712Signature",name:"sig",type:"tuple"}],name:"burnWithSig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegatee",type:"address"}],name:"delegate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegator",type:"address"},{internalType:"address",name:"delegatee",type:"address"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct DataTypes.EIP712Signature",name:"sig",type:"tuple"}],name:"delegateBySig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"exists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getDelegatedSupplyByBlockNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getDomainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getPowerByBlockNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"profileId",type:"uint256"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"mintTimestampOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct DataTypes.EIP712Signature",name:"sig",type:"tuple"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"},{components:[{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct DataTypes.EIP712Signature",name:"sig",type:"tuple"}],name:"permitForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"sigNonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenDataOf",outputs:[{components:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint96",name:"mintTimestamp",type:"uint96"}],internalType:"struct IERC721Time.TokenData",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}];var a=r(9187),o=r(4242),s=r(92882),l=r(13250),u=r(66214),c=r(67294),d=r(31618),h=r(64911),p=r(86501),f=r(21273),m=r(52942);let v=e=>{let{setFollowing:t,profile:r}=e,v=(0,s.qr)(e=>e.currentProfile),[g,y]=(0,c.useState)(!1),{isLoading:b,signTypedDataAsync:w}=(0,d.yw)({onError:a.Z}),{data:x}=(0,m.Z)(),_=async(e,t)=>{let{tokenId:r,deadline:n}=t.value,{v:a,r:s,s:l}=(0,o.Z)(e),c=new u.CH(t.domain.verifyingContract,i,x);await c.burnWithSig(r,{v:a,r:s,s:l,deadline:n})},{broadcast:k}=(0,l.Z)({onCompleted:()=>{t(!1)}}),[T,{loading:E}]=(0,f.i0)({onCompleted:async e=>{let{createUnfollowTypedData:t}=e;try{let{typedData:r,id:n}=t,i=await w((0,h.Z)(r));y(!0);try{var a;let{data:o}=await k({request:{id:n,signature:i}});(null==o?void 0:null===(a=o.broadcast)||void 0===a?void 0:a.reason)&&await _(i,r),p.Am.success("Unfollowed succesfully")}catch(s){p.Am.error("User rejected request")}finally{y(!1)}}catch(l){}},onError:a.Z}),C=()=>{if(!v)return p.Am.error("Please connect your wallet");T({variables:{request:{profile:null==r?void 0:r.id}}})};return(0,n.jsx)("div",{children:(0,n.jsx)("button",{onClick:C,className:"lg:text-md xl:text-md font-helvetica mt-2 cursor-pointer rounded-full border-2 border-black bg-blue-500 p-3 px-1 py-1 text-xs font-semibold text-[#000000] drop-shadow-xl transition hover:bg-[#57B8FF] hover:text-white active:bg-violet-600",children:"Unfollow"})})};var g=v},86622:function(e,t,r){"use strict";r.d(t,{Z:function(){return z}});var n=r(85893),i=r(67294),a=r(68980),o=r(5276),s=r(5649),l=r(73445);let u=(0,l.Ue)(e=>({selectedTrack:null,setSelectedTrack:t=>e({selectedTrack:t})}));var c=r(86010),d=r(41664),h=r.n(d),p=r(63750),f=r(81872),m=r(38624),v=r(30052);let g=e=>{var t,r,i;let{publication:a}=e,o=u(e=>e.setSelectedTrack),s=e=>{o(e)};return(0,n.jsxs)("div",{className:"flex h-full w-full flex-col rounded-sm p-2",children:[(0,n.jsxs)("div",{className:"group relative flex justify-center",children:[(0,n.jsx)(v.E,{src:(0,m.g)(a),className:"w-full rounded-lg object-cover transition duration-300 ease-in-out group-hover:scale-105 md:h-[220px]",alt:null==a?void 0:a.id.name}),(0,n.jsx)("button",{onClick:()=>s(a),className:(0,c.Z)("invisible absolute bottom-2.5 left-2.5 rounded-full bg-white dark:bg-gray-900/70 p-2 outline-none backdrop-blur-lg transition-all duration-100 ease-in-out group-hover:visible"),children:(null==a?void 0:a.id)==="selectedTrack?.id"?(0,n.jsx)(f.ngF,{className:"animate-spin-slow text-black dark:text-white h-7 w-7"}):(0,n.jsx)(p.cuI,{className:"h-7 w-7 pl-0.5 text-black dark:text-white"})})]}),(0,n.jsxs)("div",{className:"mt-1",children:[(0,n.jsx)(h(),{href:"/u/".concat(null==a?void 0:null===(t=a.profile)||void 0===t?void 0:t.id),className:"text-xs font-medium uppercase opacity-80 text-black dark:text-white hover:underline hover:opacity-70",children:null==a?void 0:null===(r=a.profile)||void 0===r?void 0:r.handle}),(0,n.jsx)(h(),{href:"/post/".concat(null==a?void 0:a.id),className:"md:text-md line-clamp-1 text-sm text-black dark:text-white font-semibold hover:opacity-70",children:null==a?void 0:null===(i=a.metadata)||void 0===i?void 0:i.name})]})]})};var y=r(92882),b=r(11281),w=r(9747);let x=()=>(0,n.jsx)("div",{className:"flex h-full w-full flex-col rounded-sm bg-white dark:bg-gray-900/70 p-2",children:(0,n.jsxs)("div",{className:"flex animate-pulse flex-col",children:[(0,n.jsx)("div",{className:"w-full rounded-lg bg-gray-300"}),(0,n.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,n.jsx)("div",{className:"h-2 rounded-2xl bg-gray-300"}),(0,n.jsx)("div",{className:"h-3 rounded-2xl bg-gray-300 "})]})]})}),_=()=>{let e=(0,i.useMemo)(()=>Array(24).fill(1),[]);return(0,n.jsx)("div",{className:"desktop:grid-cols-6 ultrawide:grid-cols-7 laptop:grid-cols-4 mx-auto mt-4 grid max-w-[100rem] grid-cols-2 place-items-center gap-2 md:grid-cols-3 md:gap-3",children:e.map((e,t)=>(0,n.jsx)(x,{},"".concat(e,"_").concat(t)))})};var k=r(52576),T=r(29451),E=r(11163),C=r(61286),S=r(11761),j=r(33962),L=r(53854),P=r(31415),R=r(86913),I=r(11021);let M=e=>{let{hideDropdown:t=!1,onProfileSelected:r,placeholder:o="Search",modalWidthClassName:s="max-w-md"}=e,{push:l,pathname:u,query:d}=(0,E.useRouter)(),[h,p]=(0,i.useState)(""),f=(0,i.useRef)(null);(0,R.Z)(f,()=>p(""));let[m,{data:v,loading:g}]=(0,a.eLx)(),y=e=>{let r=e.target.value;p(r),"/search"===u||t||m({variables:{request:{type:a.qkC.Publication,query:r,customFilters:[a.U9Q.Gardeners],limit:8}}})},b=e=>{e.preventDefault(),"/search"===u?l("/search?q=".concat(encodeURIComponent(h),"&type=").concat(d.type)):l("/search?q=".concat(encodeURIComponent(h),"&type=publications")),p("")},w=null==v?void 0:v.search,x=w&&w.hasOwnProperty("items"),_=x?w.items:[];return(0,n.jsxs)("div",{"aria-hidden":"true",className:"w-full pb-4","data-testid":"global-search",children:[(0,n.jsx)("form",{onSubmit:b,children:(0,n.jsx)(C.I,{type:"text",className:"px-3 py-2 text-sm",placeholder:o,value:h,iconLeft:(0,n.jsx)(L.MM7,{}),iconRight:(0,n.jsx)(P.Z,{className:(0,c.Z)("cursor-pointer",h?"visible":"invisible"),onClick:()=>p("")}),onChange:y})}),"/search"!==u&&!t&&h.length>0&&(0,n.jsx)("div",{className:(0,c.Z)("justify-content absolute mt-2 flex w-[90%] flex-col  items-center rounded-xl text-xs",s),ref:f,"data-testid":"search-profiles-dropdown",children:(0,n.jsx)(S.Z,{className:"justify-content max-h-[80vh] items-center overflow-y-auto rounded-xl z-999 bg-white dark:bg-gray-900/70 py-2 text-xs",children:g?(0,n.jsxs)("div",{className:"space-y-2 px-4 py-2 text-center text-sm font-bold",children:[(0,n.jsx)(j.$,{size:"sm",className:"mx-auto"}),(0,n.jsx)("div",{children:"Searching users"})]}):(0,n.jsxs)(n.Fragment,{children:[_.map(e=>(0,n.jsx)("div",{className:"cursor-pointer bg-white dark:bg-gray-900/70 px-4 py-2 ",onClick:()=>{p("")},"data-testid":"search-profile-".concat((0,T.Z)(null==e?void 0:e.id)),children:(0,n.jsx)(I.Z,{query:"".concat(null==e?void 0:e.id)})},null==e?void 0:e.id)),0===_.length&&(0,n.jsx)("div",{className:"px-4 py-2",children:"No matching users"})]})})})]})},O=()=>{var e,t;let r=(0,y.qr)(e=>e.activeTagFilter),i={sortCriteria:a.CGB.CuratedProfiles,limit:32,noRandomize:!1,publicationTypes:[a.mnY.Post],customFilters:s.ts,metadata:{tags:"all"!==r?{oneOf:[r]}:void 0,mainContentFocus:[a.D2x.Audio]}},{data:l,loading:u,error:c,fetchMore:d}=(0,a.a06)({variables:{request:i}}),h=null==l?void 0:null===(e=l.explorePublications)||void 0===e?void 0:e.pageInfo,p=null==l?void 0:null===(t=l.explorePublications)||void 0===t?void 0:t.items,{observe:f}=(0,o.Y)({rootMargin:s.VE,onEnter:async()=>{await d({variables:{request:{...i,cursor:null==h?void 0:h.next}}})}});return(null==p?void 0:p.length)===0?(0,n.jsx)(k.u,{message:"No echoes found",icon:!0}):(0,n.jsxs)("div",{children:[(0,n.jsx)(b.Z,{title:"Echos"}),u&&(0,n.jsx)(_,{}),!c&&!u&&p&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"desktop:grid-cols-6 ultrawide:grid-cols-7 laptop:grid-cols-4 mx-auto mt-4 grid grid-cols-2 place-items-center gap-2 md:grid-cols-3 md:gap-3",children:[(0,n.jsx)(M,{}),null==p?void 0:p.map(e=>(0,n.jsx)(g,{publication:e},e.id))]}),(null==h?void 0:h.next)&&(0,n.jsx)("span",{ref:f,className:"flex justify-center border-0 p-10",children:(0,n.jsx)(w.Z,{})})]})]})};var A=r(47516),N=r(88357);function D(e){return(0,N.w_)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"}}]})(e)}function q(e){return(0,N.w_)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"}}]})(e)}var F=r(2585),U=r(51190),B=r(40377);let H=e=>{var t,a;let{selectedTrack:o}=e,s=(0,i.useRef)(null),l=(0,i.useRef)(),[u,c]=(0,i.useState)(!1),[d,p]=(0,i.useState)(.5),[f,g]=(0,i.useState)("00:00"),[y,b]=(0,i.useState)("00:00"),w=e=>({container:e,waveColor:"gray",progressColor:"#81c7af",cursorColor:"orangered",cursorWidth:2,barWidth:1,barRadius:3,hideScrollbar:!0,responsive:!0,height:20,normalize:!0,partialRender:!0}),x=()=>{var e;null===(e=l.current)||void 0===e||e.play(),c(!0)},_=e=>{var t;let r=null!=e?e:d;null===(t=l.current)||void 0===t||t.setVolume(r),p(r)},k=async()=>{let e=(await r.e(7033).then(r.t.bind(r,21796,23))).default;if(!s.current)return;let t=w(s.current);if(l.current=e.create(t),o){var n;null===(n=l.current)||void 0===n||n.load((0,B.cI)(o))}l.current.on("ready",()=>{var e,t;x(),_(d);let r=(0,U.Nu)(null!==(t=null===(e=l.current)||void 0===e?void 0:e.getDuration().toString())&&void 0!==t?t:"0");b(null!=r?r:"0")}),l.current.on("audioprocess",e=>{var t;g(null!==(t=(0,U.Nu)(e.toString()))&&void 0!==t?t:"0")}),l.current.on("finish",()=>{c(!1)})};(0,i.useEffect)(()=>(c(!1),k(),()=>{l.current&&l.current.destroy()}),[o]);let T=()=>{var e;c(!u),null===(e=l.current)||void 0===e||e.playPause()},E=()=>{if(l.current){var e;let t=l.current.getCurrentTime();null===(e=l.current)||void 0===e||e.setCurrentTime(t>5?Number(t-5):0)}},C=()=>{if(l.current){var e;let t=l.current.getCurrentTime();null===(e=l.current)||void 0===e||e.setCurrentTime(Number(t+5))}},S=e=>{_(Number(e.target.value)/100)},j=()=>{var e;null===(e=l.current)||void 0===e||e.toggleMute()};return o?(0,n.jsxs)("div",{className:"flex w-full flex-row flex-wrap items-center gap-y-2 ",children:[(0,n.jsx)("div",{className:"flex w-1/2 items-center",children:(0,n.jsxs)("div",{className:"flex",children:[(0,n.jsx)("div",{className:"h-16 w-16 flex-none",children:(0,n.jsx)(v.E,{src:(0,m.g)(o),width:500,height:500,className:"h-full w-full",alt:o.profile.id})}),(0,n.jsxs)("div",{className:"mx-4 flex flex-col justify-between text-black dark:text-white",children:[(0,n.jsx)("h5",{className:"line-clamp-1",children:o.metadata.name}),(0,n.jsx)(h(),{href:"/u/".concat(null==o?void 0:null===(t=o.profile)||void 0===t?void 0:t.id),className:"truncate text-[11px] font-medium uppercase text-black dark:text-white opacity-90 hover:underline",children:o.profile.handle}),(0,n.jsxs)("div",{className:"flex items-center text-xs",children:[(0,n.jsx)("div",{className:"w-10 dark:text-white text-black",children:f}),(0,n.jsx)("span",{className:"pr-0.5",children:"/"}),(0,n.jsx)("div",{className:"w-10 text-center dark:text-white text-black",children:y})]})]})]})}),(0,n.jsxs)("div",{className:"flex w-full flex-col items-center text-black dark:text-white",children:[(0,n.jsx)("div",{id:"waveform",className:"m-2 w-full text-black dark:text-white",ref:s}),(0,n.jsxs)("div",{className:"flex w-full items-center justify-between text-black dark:text-white",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-4 text-black dark:text-white",children:[(0,n.jsxs)("button",{onClick:E,className:"flex items-center space-x-1 text-black dark:text-white",children:[(0,n.jsx)(D,{})," ",(0,n.jsx)("span",{children:"5"})]}),(0,n.jsx)("button",{onClick:T,className:"mx-4 rounded-full bg-blue-500 p-2 text-black dark:text-white outline-none",children:u?(0,n.jsx)(A.xBX,{className:"text-xl"}):(0,n.jsx)(A.PHf,{className:"pl-0.5 text-xl"})}),(0,n.jsxs)("button",{onClick:C,className:"flex items-center space-x-1 text-black dark:text-white",children:[(0,n.jsx)("span",{children:"5"}),(0,n.jsx)(q,{})]})]}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("button",{onClick:()=>j(),children:(null===(a=l.current)||void 0===a?void 0:a.getMute())?(0,n.jsx)(F.QYR,{className:"h-5 w-5"}):(0,n.jsx)(F.MQV,{className:"h-5 w-5"})}),(0,n.jsx)("input",{type:"range",step:10,value:100*d,onChange:S,className:"h-1 w-[100px] cursor-pointer appearance-none overflow-hidden rounded-lg bg-green-100"})]})]})]})]}):null},V=e=>{let{children:t}=e,r=u(e=>e.selectedTrack);return(0,n.jsxs)(n.Fragment,{children:[" ",(0,n.jsxs)("div",{className:"xs:mb-22 sm:mb-22 display:absolute mx-auto mb-10 h-full max-w-[100rem] md:mb-10 lg:mb-10",children:[t,r&&(0,n.jsx)("div",{className:"z-999 fixed bottom-0 left-0 right-0 z-[5] m-auto flex items-center justify-around overflow-hidden rounded-lg border-2 border-b-0 border-l border-r border-t border-blue-700 bg-white dark:bg-gray-800/70 px-4 py-3 lg:w-[1100px] xl:w-[1200px]",children:(0,n.jsx)(H,{selectedTrack:r})})]})]})},Z=e=>(0,n.jsx)("div",{children:(0,n.jsx)("div",{children:(0,n.jsx)(V,{publication:e,children:(0,n.jsx)(O,{})})})});var z=Z},4932:function(e,t,r){"use strict";r.d(t,{Z:function(){return _}});var n=r(85893),i=r(41664),a=r.n(i),o=r(67294),s=r(86501),l=r(5649),u=r(55225),c=function(){let[e,t]=(0,o.useState)(null),r=async e=>{if(!(null==navigator?void 0:navigator.clipboard))return!1;try{return await navigator.clipboard.writeText(e),t(e),!0}catch(r){return t(null),!1}};return[r,e]},d=r(93300),h=r(21321),p=r(29350),f=r(5434);let m=e=>{let{videoId:t,onClose:r}=e,[i,a]=(0,o.useState)(!1),[u]=c(),m='<iframe width="560" height="315" src="'.concat(l.Qy,"/").concat(t,'?autoplay=1&t=0&loop=0" title="LensShare video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write;" allowfullscreen></iframe>'),v=()=>{u(m),s.ZP.success("Copied to clipboard")},g=()=>{a(!1),r()},y=()=>{a(!0)};return(0,n.jsxs)("div",{children:[(0,n.jsx)(p.Z,{title:"Embed Video",onClose:g,show:i,children:(0,n.jsxs)("div",{className:"display:absolute mt-40 rounded-xl bg-white dark:bg-gray-900/70 ",children:[(0,n.jsx)("div",{className:"z-10 max-md:absolute",children:(0,n.jsx)("button",{type:"button",className:"right-1 m-4 rounded-full bg-slate-600 p-1 focus:outline-none",onClick:()=>a(!1),children:(0,n.jsx)(f.lTq,{className:"h-4 w-4 text-white"})})}),(0,n.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,n.jsx)("div",{className:"w-full break-words",children:(0,n.jsx)("iframe",{sandbox:"allow-scripts allow-same-origin",className:"mt-24 aspect-[16/9] w-full break-words",src:"".concat(l.Qy,"/").concat(t),title:"LensShare video player",allow:"accelerometer; autoplay; clipboard-write; gyroscope;",allowFullScreen:!0})}),(0,n.jsx)("div",{className:"col-span-2 mt-80",children:(0,n.jsx)("button",{type:"button",onClick:()=>v(),className:"select-all rounded-xl border p-4 text-left",children:(0,n.jsx)("code",{className:"select-all break-words text-xs opacity-60",children:m})})})]})]})}),(0,n.jsx)(d.u,{placement:"top",content:"Embed Video",children:(0,n.jsx)("button",{type:"button",onClick:()=>y(),className:"rounded-full bg-blue-500 p-2.5",children:(0,n.jsx)(h.Z,{className:"h-5 w-5 text-black dark:text-white"})})})]})};var v=r(47516),g=r(97454);let y=e=>"".concat(l.Tq,"/post/").concat(e.id),b=(e,t)=>{var r,n,i,a,o,s,u,c,d;return"lenster"===e?"".concat(l.ZT,"/?url=").concat(y(t),"&text=").concat(null===(r=t.metadata)||void 0===r?void 0:r.name," by @").concat((0,g.Z)(null===(n=t.profile)||void 0===n?void 0:n.handle),"&hashtags=Lensshare&preview=true"):"twitter"===e?encodeURI("https://twitter.com/intent/tweet?url=".concat(y(t),"&text=").concat(null===(i=t.metadata)||void 0===i?void 0:i.name," by @").concat((0,g.Z)(null===(a=t.profile)||void 0===a?void 0:a.handle),"&via=").concat(l.nG,"&related=Lensshare&hashtags=Lensshare")):"reddit"===e?"https://www.reddit.com/submit?url=".concat(y(t),"&title=").concat(null===(o=t.metadata)||void 0===o?void 0:o.name," by @").concat((0,g.Z)(null===(s=t.profile)||void 0===s?void 0:s.handle)):"linkedin"===e?"https://www.linkedin.com/shareArticle/?url=".concat(y(t)," by @").concat((0,g.Z)(null===(u=t.profile)||void 0===u?void 0:u.handle),"&title=").concat(null===(c=t.metadata)||void 0===c?void 0:c.name,"&summary=").concat(null===(d=t.metadata)||void 0===d?void 0:d.description,"&source=").concat(l.iC):""};var w=r(11761);let x=e=>{let{setShowShare:t,publication:r,show:i}=e,[o]=c(),d=async()=>{await o("".concat(l.Tq,"/post/").concat(r.id)),s.ZP.success("Permalink copied to clipboard")};return(0,n.jsxs)(p.Z,{title:"Share",onClose:()=>t(!1),show:i,children:[(0,n.jsx)("div",{className:"z-10 max-md:absolute",children:(0,n.jsx)("button",{type:"button",className:"right-1 m-4 rounded-full bg-slate-600 p-1 focus:outline-none",onClick:()=>t(!1),children:(0,n.jsx)(f.lTq,{className:"h-4 w-4 text-white"})})}),(0,n.jsx)("div",{className:"mt-20 rounded-xl bg-white dark:bg-gray-900/70",children:(0,n.jsxs)(w.Z,{className:"rounded-xl border-0 object-contain object-center p-2 ",children:[(0,n.jsxs)("div",{className:"no-scrollbar mb-4 flex flex-nowrap items-center space-x-3 overflow-x-auto",children:[(0,n.jsx)(m,{videoId:r.id,onClose:()=>t(!1)}),(0,n.jsx)(a(),{className:"rounded-full",target:"_blank",rel:"noreferrer",href:b("lenster",r),children:(0,n.jsx)("img",{src:(0,u.Z)("".concat(l.Fv,"/images/social/lenster.png"),"avatar_lg"),className:"h-10 w-10 max-w-none rounded-full",alt:"lenster",draggable:!1})}),(0,n.jsx)(a(),{className:"rounded-full",target:"_blank",rel:"noreferrer",href:b("twitter",r),children:(0,n.jsx)("img",{src:(0,u.Z)("".concat(l.Fv,"/images/social/twitter.png"),"avatar_lg"),className:"h-10 w-10 max-w-none rounded-full",alt:"twitter",draggable:!1})}),(0,n.jsx)(a(),{href:b("reddit",r),target:"_blank",rel:"noreferrer",children:(0,n.jsx)("img",{src:(0,u.Z)("".concat(l.Fv,"/images/social/reddit-logo.png"),"avatar_lg"),className:"h-10 w-10 max-w-none rounded-full",alt:"reddit",draggable:!1})}),(0,n.jsx)(a(),{href:b("linkedin",r),target:"_blank",rel:"noreferrer",children:(0,n.jsx)("img",{src:(0,u.Z)("".concat(l.Fv,"/images/social/linkedin.png"),"avatar_lg"),alt:"linkedin",className:"h-10 w-10 max-w-none rounded-full",draggable:!1})})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-gray-200 p-2 dark:border-gray-800",children:[(0,n.jsxs)("div",{className:"select-all truncate text-sm",children:[l.Tq,"/post/",r.id]}),(0,n.jsx)("button",{className:"ml-2 hover:opacity-60 focus:outline-none",onClick:()=>d(),type:"button",children:(0,n.jsx)(v.LhG,{className:"h-4 w-4"})})]})]})})]})};var _=x},84774:function(e,t,r){"use strict";r.d(t,{Z:function(){return $}});var n=r(85893),i=r(41664),a=r.n(i),o=r(30052),s=r(67294),l=r(22257),u=r(7960),c=r(92864),d=r(92882),h=r(87184),p=r(89583);let f=e=>{let{publication:t}=e,[r,i]=(0,s.useState)(!1),o="Mirror"===t.__typename,l=o?t.mirrorOf.stats.totalAmountOfComments:t.stats.totalAmountOfComments;return(0,n.jsx)("div",{className:"block flex gap-6",children:(0,n.jsx)(a(),{legacyBehavior:!0,href:"/post/".concat(t.id),children:(0,n.jsxs)("a",{className:"flex cursor-pointer flex-col items-center justify-center md:mt-4",children:[r?(0,n.jsx)("div",{className:"flex cursor-pointer items-center rounded-full bg-gray-600/50 p-2 drop-shadow-lg dark:bg-gray-600/50 md:bg-gray-200 ",children:(0,n.jsx)(p.QRJ,{className:"h-3 w-3 text-blue-700 "})}):(0,n.jsxs)("div",{className:"flex cursor-pointer items-center rounded-full bg-gray-600/50 p-2 drop-shadow-lg dark:bg-gray-600/50 md:bg-gray-200",children:[(0,n.jsx)(p.QRJ,{className:"h-3 w-3 "}),(0,n.jsxs)("span",{className:"pointer-events-none absolute -bottom-7 left-7 hidden w-max px-2 py-1 text-xs text-blue-700 opacity-0 shadow group-hover:opacity-100 md:block",children:[" ","Comment"," "]})]}),(0,n.jsx)("p",{className:"hidden text-xs font-semibold text-gray-400 lg:block",children:l})]})})})};var m=r(29451),v=r(8974),g=r(4932);let y=e=>(0,n.jsxs)("svg",{...e,viewBox:"0 0 22 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.75 4C14.75 1.92893 13.0711 0.25 11 0.25C8.92893 0.25 7.25 1.92893 7.25 4C7.25 6.07107 8.92893 7.75 11 7.75C13.0711 7.75 14.75 6.07107 14.75 4ZM11 1.75C12.2426 1.75 13.25 2.75736 13.25 4C13.25 5.24264 12.2426 6.25 11 6.25C9.75736 6.25 8.75 5.24264 8.75 4C8.75 2.75736 9.75736 1.75 11 1.75Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.25 16C8.25 13.9289 6.57107 12.25 4.5 12.25C2.42893 12.25 0.75 13.9289 0.75 16C0.75 18.0711 2.42893 19.75 4.5 19.75C6.57107 19.75 8.25 18.0711 8.25 16ZM4.5 13.75C5.74264 13.75 6.75 14.7574 6.75 16C6.75 17.2426 5.74264 18.25 4.5 18.25C3.25736 18.25 2.25 17.2426 2.25 16C2.25 14.7574 3.25736 13.75 4.5 13.75Z",fill:"currentColor"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.5 12.25C19.5711 12.25 21.25 13.9289 21.25 16C21.25 18.0711 19.5711 19.75 17.5 19.75C15.4289 19.75 13.75 18.0711 13.75 16C13.75 13.9289 15.4289 12.25 17.5 12.25ZM19.75 16C19.75 14.7574 18.7426 13.75 17.5 13.75C16.2574 13.75 15.25 14.7574 15.25 16C15.25 17.2426 16.2574 18.25 17.5 18.25C18.7426 18.25 19.75 17.2426 19.75 16Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M6.20468 5.56231C6.51523 5.28821 6.54478 4.81426 6.27069 4.5037C5.99659 4.19315 5.52264 4.1636 5.21208 4.43769C3.39676 6.03991 2.25 8.38652 2.25 11C2.25 11.4142 2.58579 11.75 3 11.75C3.41421 11.75 3.75 11.4142 3.75 11C3.75 8.83474 4.69828 6.89187 6.20468 5.56231Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M16.7879 4.43769C16.4774 4.1636 16.0034 4.19315 15.7293 4.5037C15.4552 4.81426 15.4848 5.28821 15.7953 5.56231C17.3017 6.89187 18.25 8.83474 18.25 11C18.25 11.4142 18.5858 11.75 19 11.75C19.4142 11.75 19.75 11.4142 19.75 11C19.75 8.38652 18.6032 6.03991 16.7879 4.43769Z",fill:"currentColor"}),(0,n.jsx)("path",{d:"M9.18694 18.0217C8.7858 17.9184 8.37692 18.1599 8.27367 18.561C8.17043 18.9622 8.41192 19.3711 8.81306 19.4743C9.51285 19.6544 10.2458 19.75 11 19.75C11.7542 19.75 12.4871 19.6544 13.1869 19.4743C13.5881 19.3711 13.8296 18.9622 13.7263 18.561C13.6231 18.1599 13.2142 17.9184 12.8131 18.0217C12.2344 18.1706 11.627 18.25 11 18.25C10.373 18.25 9.76562 18.1706 9.18694 18.0217Z",fill:"currentColor"})]}),b=e=>{let{publication:t}=e,[r,i]=(0,s.useState)(!1),a="Mirror"===t.__typename,[o,l]=(0,s.useState)(a?t.mirrorOf.stats.totalUpvotes:t.stats.totalUpvotes);(0,d.qr)(e=>e.currentProfile);let[u,c]=(0,s.useState)(!1);return(0,n.jsx)("div",{className:"flex gap-6",children:(0,n.jsxs)("div",{className:" flex cursor-pointer flex-col items-center justify-center rounded-full bg-gray-600/50 p-2 dark:bg-gray-600/50 md:mt-2 md:bg-gray-200 md:text-black dark:text-white",onClick:()=>c(!0),children:[(0,n.jsx)(g.Z,{show:u,setShowShare:c,publication:t}),(0,n.jsxs)("p",{children:[(0,n.jsx)(y,{onClick:()=>c(!0),className:"h-3 w-3 cursor-pointer rounded-full"})," "]})]})})};var w=r(11163);r(5649);var x=r(86501),_=r(51190),k=r(49117),T=r(37788);let E=e=>{let{publication:t,feedItem:r,showThread:i=!0,profile:a,showType:o=!0,showActions:s=!0,showModActions:l=!1,showMore:u=!0,isFirst:c=!1,isLast:d=!1}=e,h=(null==r?void 0:r.comments)&&r.comments[0],p=r?h||(null==r?void 0:r.root):t;return(0,n.jsx)("div",{className:"vh-88% ml-[20px] mt-2 rounded-xl border border-blue-700 bg-[#F2F6F9] dark:bg-black p-3 ",children:(null==t?void 0:t.hidden)?(0,n.jsx)(k.Z,{type:t.__typename}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(T.Z,{publication:p,showMore:u,profile:a})})})};var C=r(24358),S=r(24604),j=r(86010),L=r(59355);let P=s.forwardRef(function({title:e,titleId:t,...r},n){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0013.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 01-.75.75H9a.75.75 0 01-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 01-2.25 2.25H6.75A2.25 2.25 0 014.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 011.927-.184"}))}),R=e=>{let{publication:t}=e,r="Mirror"===t.__typename,i=r?t.mirrorOf.__typename:t.__typename;return(0,n.jsx)(S.v.Item,{as:"div",className:e=>{let{active:t}=e;return(0,j.Z)({"dropdown-active":t},"m-2 block cursor-pointer rounded-lg px-4 py-1.5 text-sm")},onClick:async e=>{var r;(0,L.Z)(e),await navigator.clipboard.writeText((null==t?void 0:null===(r=t.metadata)||void 0===r?void 0:r.content)||""),x.ZP.success("Copied to clipboard!")},children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(P,{className:"h-4 w-4"}),(0,n.jsx)("div",{children:"Comment"===i?"Copy comment text":"Copy post text"})]})})};var I=r(97125),M=r(76249);let O=e=>{let{publication:t}=e,r=(0,I.h)(e=>e.setShowPublicationDeleteAlert);return(0,n.jsx)(S.v.Item,{as:"div",className:e=>{let{active:t}=e;return(0,j.Z)({"dropdown-active":t},"m-2 block cursor-pointer rounded-lg px-4 py-1.5 text-sm text-red-500")},onClick:e=>{(0,L.Z)(e),r(!0,t)},children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(M.Z,{className:"h-4 w-4"}),(0,n.jsx)("div",{children:"Delete"})]})})},A=s.forwardRef(function({title:e,titleId:t,...r},n){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:n,"aria-labelledby":t},r),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m0-10.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.75c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.75h-.152c-3.196 0-6.1-1.249-8.25-3.286zm0 13.036h.008v.008H12v-.008z"}))});var N=r(96806);let D=e=>{let{publication:t}=e,r=(0,N.u)(e=>e.setShowReportModal);return(0,n.jsx)(S.v.Item,{as:"div",className:e=>{let{active:t}=e;return(0,j.Z)({"dropdown-active":t},"m-2 block cursor-pointer rounded-lg px-4 py-1.5 text-sm text-red-500")},onClick:e=>{(0,L.Z)(e),r(!0,t)},children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(A,{className:"h-4 w-4"}),(0,n.jsx)("div",{children:"Report Post"})]})})},q=e=>{let{publication:t}=e;return(0,n.jsx)(S.v.Item,{as:"div",className:e=>{let{active:t}=e;return(0,j.Z)({"dropdown-active":t},"m-2 block cursor-pointer rounded-lg px-4 py-1.5 text-sm")},onClick:async e=>{(0,L.Z)(e),await navigator.clipboard.writeText("".concat(location.origin,"/post/").concat(null==t?void 0:t.id)),x.ZP.success("Copied to clipboard!")},children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(P,{className:"h-4 w-4"}),(0,n.jsx)("div",{children:"Share"})]})})};var F=r(63750);let U=e=>{var t,r;let{publication:i}=e;return(0,n.jsx)(S.v.Item,{as:a(),className:e=>{let{active:t}=e;return(0,j.Z)({"dropdown-active":t},"m-2 block cursor-pointer rounded-lg px-4 py-1.5 text-sm")},href:(r=null==i?void 0:null===(t=i.metadata)||void 0===t?void 0:t.content,encodeURI("https://translate.google.com/#auto|en|".concat(encodeURIComponent(r)))),onClick:e=>{(0,L.Z)(e)},target:"_blank",children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(F.S7c,{className:"h-4 w-4"}),(0,n.jsx)("div",{children:"Translate"})]})})};var B=r(47516),H=r(91158);let V=e=>{var t;let{publication:r}=e,i=(0,d.qr)(e=>e.currentProfile);return(0,n.jsxs)(S.v,{as:"div",className:"relative",children:[(0,n.jsx)(S.v.Button,{as:s.Fragment,children:(0,n.jsx)("button",{className:"rounded-full p-1.5 hover:bg-gray-300/20",onClick:L.Z,"aria-label":"More","data-testid":"publication-".concat(r.id,"-menu"),children:(0,n.jsx)(B.JJP,{className:(0,j.Z)("lt-text-gray-500","w-[15px] sm:w-[18px]")})})}),(0,n.jsx)(H.Z,{children:(0,n.jsxs)(S.v.Items,{static:!0,className:"absolute right-0 cursor-pointer z-[5] mt-1 w-max rounded-xl border bg-white dark:bg-gray-900/70 shadow-sm focus:outline-none dark:border-gray-700 dark:bg-gray-300","data-testid":"publication-".concat(r.id,"-menu-items"),children:[(null==i?void 0:i.id)===(null==r?void 0:null===(t=r.profile)||void 0===t?void 0:t.id)?(0,n.jsx)(O,{publication:r}):(0,n.jsx)(D,{publication:r}),(0,n.jsx)(q,{publication:r}),(0,n.jsx)(U,{publication:r}),(0,n.jsx)(R,{publication:r})]})})]})};var Z=r(56713);let z=e=>{var t,r,i,p,g,y,x,k,T,S,j;let{publication:L,onDetail:P}=e;(0,w.useRouter)();let[R,I]=(0,s.useState)(!1);(0,s.useRef)(null);let M=(0,d.qr)(e=>e.currentProfile);(0,d.qr)(e=>e.currentviewingId),(0,d.qr)(e=>e.setCurrentviewingId);let[O,A]=(0,s.useState)(),[N,D]=(0,s.useState)(!1),[q,F]=(0,s.useState)(!1),U=L.createdAt,B=U.split("T")[0],H=(null==L?void 0:L.__typename)==="Mirror",z=H?null==L?void 0:null===(t=L.mirrorOf)||void 0===t?void 0:t.profile:null==L?void 0:L.profile,$=H?null==L?void 0:null===(r=L.mirrorOf)||void 0===r?void 0:null===(i=r.stats)||void 0===i?void 0:i.totalUpvotes:null==L?void 0:null===(p=L.stats)||void 0===p?void 0:p.totalUpvotes,W=H?L.mirrorOf.stats.totalAmountOfComments:L.stats.totalAmountOfComments,Q=H?null==L?void 0:null===(g=L.mirrorOf)||void 0===g?void 0:null===(y=g.stats)||void 0===y?void 0:y.totalAmountOfComments:null==L?void 0:null===(x=L.stats)||void 0===x?void 0:x.totalAmountOfComments,G=H?null==L?void 0:null===(k=L.mirrorOf)||void 0===k?void 0:null===(T=k.stats)||void 0===T?void 0:T.totalAmountOfCollects:null==L?void 0:null===(S=L.stats)||void 0===S?void 0:S.totalAmountOfCollects,[K,Y]=(0,s.useState)(!1),[J,X]=(0,s.useState)(!1),[ee,et]=(0,s.useState)(!1),[er,en]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{var e;(null===(e=L.metadata)||void 0===e?void 0:e.content.trim().length)>500&&(Y(!0),X(!0))},[null===(j=L.metadata)||void 0===j?void 0:j.content]),(0,d.qr)(e=>e.isMute),(0,s.useEffect)(()=>{(null==z?void 0:z.isFollowedByMe)===!0?I(!0):I(!1),M||I(!1)},[null==z?void 0:z.isFollowedByMe]),(0,n.jsxs)("div",{className:"justify-content break-word m-3 flex flex-col rounded-xl border border-blue-700 bg-[#F2F6F9] dark:bg-black pb-0 md:pb-6",children:[(0,n.jsxs)("div",{className:"break-word flex flex-row ",children:[(0,n.jsxs)("div",{className:"break-word mt-4 flex-auto cursor-pointer gap-3 rounded p-2 font-semibold",children:[(0,n.jsx)(a(),{href:"/u/".concat(z.id)},z.id),(0,n.jsx)(o.E,{itemRef:"/u/".concat(z.id),src:(0,l.Z)(z),width:62,height:62,alt:z.handle,className:"rounded-full border-2 border-blue-500"}),(0,n.jsxs)("div",{className:"break-word ",children:[(0,n.jsx)(a(),{href:"/u/".concat(z.id),children:(0,n.jsx)("div",{className:"flex items-center gap-2",children:(0,n.jsxs)("p",{className:"text-md flex items-center gap-1 pl-1 pt-3 font-bold capitalize dark:text-white text-primary",children:[z.name," "]})})},z.id),(0,n.jsx)(v.Z,{className:"text-grey-500 pl-1 text-xs ",slug:(0,m.Z)(null==z?void 0:z.handle),prefix:"@"}),(0,n.jsxs)("p",{className:"pl-full block p-1 pl-1 pr-4 pt-2 text-xs font-semibold text-blue-500",children:[" ",B,"~",(0,n.jsx)("span",{className:"pl-2 text-xs text-blue-700 opacity-50",children:(0,_.ni)(L.createdAt)})]})]})]}),(0,n.jsxs)("div",{className:"mr-6 mt-6",children:[(0,n.jsx)("div",{children:(0,n.jsx)("button",{children:(0,n.jsx)(V,{publication:L})})}),R?(0,n.jsx)(u.Z,{setFollowing:I,profile:z}):(0,n.jsx)(c.Z,{setFollowing:I,profile:z})]})]}),(0,n.jsx)("div",{className:"cursor-pointer rounded-xl p-2",children:H?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("span",{className:"text-sm font-semibold text-black dark:text-white",children:["'Mirror from @",null==z?void 0:z.handle,"'"]}),(0,n.jsx)(E,{profile:z,publication:L})]}):(0,n.jsx)(E,{profile:z,publication:L})}),(0,n.jsxs)("div",{className:"ml-4 flex flex-row space-x-3 py-3",children:[(0,n.jsxs)("p",{className:"text-black dark:text-white block pl-1 text-xs font-semibold",children:[" ",$," Likes"]}),(0,n.jsxs)("p",{className:"text-black dark:text-white block text-xs font-semibold",children:[" ",W," Comments"]}),(0,n.jsxs)("p",{className:"text-black dark:text-white block text-xs font-semibold",children:[" ",Q," Mirrors"]}),(0,n.jsxs)("p",{className:"text-black dark:text-white block text-xs font-semibold",children:[" ",G," Collects"]})]}),(0,n.jsxs)("div",{className:"ml-auto flex",children:[(0,n.jsx)("button",{className:"block pb-2 pr-2 ",children:(0,n.jsx)(h.Z,{publication:L})}),(0,n.jsx)("button",{className:"mt-0.5 block pb-2 pr-2",children:(0,n.jsx)(C.Z,{publication:L,showCount:!0})}),(0,n.jsx)("button",{className:"block pb-2 pr-2",children:(0,n.jsx)(f,{publication:L})}),(0,n.jsx)("button",{className:"block pb-2 pr-2 lg:mb-3.5 xl:mb-3.5",children:(0,n.jsx)(Z.Z,{publication:L,showCount:!0})}),(0,n.jsx)("button",{className:"block pb-2 pr-2 md:mt-2 lg:mb-3 xl:mb-3",onClick:()=>F(!0),children:(0,n.jsx)(b,{publication:L})})]})]})};var $=z},56713:function(e,t,r){"use strict";var n=r(85893),i=r(9747),a=r(64208),o=r(93300),s=r(622),l=r(4108),u=r(59090),c=r(5152),d=r.n(c),h=r(67294),p=r(63750);let f=d()(()=>r.e(925).then(r.bind(r,60925)),{loadableGenerated:{webpack:()=>[60925]},loading:()=>(0,n.jsx)(i.Z,{message:"Loading collect"})}),m=e=>{var t;let{publication:r,electedMirror:i,showCount:c}=e,[d,m]=(0,h.useState)(0),[v,g]=(0,h.useState)(!1),y="Mirror"===r.__typename,b=y?null==r?void 0:null===(t=r.mirrorOf)||void 0===t?void 0:t.hasCollectedByMe:null==r?void 0:r.hasCollectedByMe;(0,h.useEffect)(()=>{var e,t,n,i,a,o;(y?null==r?void 0:null===(e=r.mirrorOf)||void 0===e?void 0:null===(t=e.stats)||void 0===t?void 0:t.totalAmountOfCollects:null==r?void 0:null===(n=r.stats)||void 0===n?void 0:n.totalAmountOfCollects)&&m("Mirror"===r.__typename?null==r?void 0:null===(i=r.mirrorOf)||void 0===i?void 0:null===(a=i.stats)||void 0===a?void 0:a.totalAmountOfCollects:null==r?void 0:null===(o=r.stats)||void 0===o?void 0:o.totalAmountOfCollects)},[r]);let w=c?"w-[17px] sm:w-[20px]":"w-[15px] sm:w-[18px]";return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex items-center space-x-1 text-red-500",children:[(0,n.jsx)(u.E.button,{whileTap:{scale:.9},onClick:()=>{g(!0)},"aria-label":"Collect",children:(0,n.jsx)("div",{className:"rounded-full p-1.5 hover:bg-red-300/20",children:(0,n.jsx)(o.u,{placement:"top",content:"".concat((0,s.Z)(d)," count, {\n                zero: 'Collect',\n                one: 'Collect',\n                other: 'Collects'\n              })}"),withDelay:!0,children:b?(0,n.jsx)(p.jDp,{className:w}):(0,n.jsx)(p.pNO,{className:w})})})}),d>0&&!c&&(0,n.jsx)("span",{className:"text-[11px] sm:text-xs",children:(0,l.Z)(d)})]}),(0,n.jsx)(a.u,{title:"Collect",icon:(0,n.jsx)(p.pNO,{className:"text-brand h-5 w-5"}),show:v,onClose:()=>g(!1),children:(0,n.jsx)(f,{electedMirror:i,publication:r,count:d,setCount:m})})]})};t.Z=m},24358:function(e,t,r){"use strict";r.d(t,{Z:function(){return R}});var n=r(85893),i=r(86010),a=r(67294),o=r(20674),s=r(44318),l=r(5649),u=r(41741),c=r(64911),d=r(70769),h=r(69125),p=r(68980),f=r(66252),m=r(24604),v=r(86501),g=r(92882),y=r(31618);let b=e=>{var t,r,b,w,x;let{publication:_,setIsLoading:k,isLoading:T}=e,E="Mirror"===_.__typename,C=(0,d.p)(e=>e.userSigNonce),S=(0,d.p)(e=>e.setUserSigNonce),j=(0,g.qr)(e=>e.currentProfile),[L,P]=(0,a.useState)(E?(null==_?void 0:null===(t=_.mirrorOf)||void 0===t?void 0:null===(r=t.mirrors)||void 0===r?void 0:r.length)>0:(null==_?void 0:null===(b=_.mirrors)||void 0===b?void 0:b.length)>0),{cache:R}=(0,f.x)(),I=null==j?void 0:null===(w=j.dispatcher)||void 0===w?void 0:w.canUseRelay,M=null==j?void 0:null===(x=j.dispatcher)||void 0===x?void 0:x.sponsor,O=()=>{R.modify({id:(0,h.D)(E?null==_?void 0:_.mirrorOf:_),fields:{mirrors:e=>[...e,null==j?void 0:j.id],stats:e=>({...e,totalAmountOfMirrors:e.totalAmountOfMirrors+1})}})},A=e=>{"RelayError"!==e&&(O(),k(!1),P(!0),v.Am.success("Post has been mirrored!"))},N=e=>{k(!1)},{signTypedDataAsync:D}=(0,y.yw)({onError:N}),{write:q}=(0,y.GG)({address:l.Nm,abi:o.O,functionName:"mirror",onSuccess:()=>{A(),S(C+1)},onError:e=>{N(e),S(C-1)}}),[F]=(0,p.lAu)({onCompleted:e=>{let{broadcast:t}=e;return A(t.__typename)}}),[U]=(0,p.CyN)({onCompleted:async e=>{let{createMirrorTypedData:t}=e,{id:r,typedData:n}=t,i=await D((0,c.Z)(n)),{data:a}=await F({variables:{request:{id:r,signature:i}}});if((null==a?void 0:a.broadcast.__typename)==="RelayError")return null==q?void 0:q({args:[n.value]})},onError:N}),[B]=(0,p.VmU)({onCompleted:e=>{let{createDataAvailabilityMirrorViaDispatcher:t}=e;return A(t.__typename)},onError:N}),[H]=(0,p.NFt)({onCompleted:e=>{let{createMirrorViaDispatcher:t}=e;return A(t.__typename)},onError:N}),V=async e=>{await B({variables:{request:e}})},Z=async e=>{let{data:t}=await H({variables:{request:e}});if((null==t?void 0:t.createMirrorViaDispatcher.__typename)==="RelayError")return await U({variables:{options:{overrideSigNonce:C},request:e}})},z=async()=>{if(!j)return v.Am.error(u.D.SignWallet);if(_.isDataAvailability&&!M)return v.Am.error("Momoka is currently in beta - during this time certain actions are not available to all profiles.");try{k(!0);let e={profileId:null==j?void 0:j.id,publicationId:null==_?void 0:_.id,referenceModule:{followerOnlyReferenceModule:!1}},t={from:null==j?void 0:j.id,mirror:null==_?void 0:_.id};if(I){if(_.isDataAvailability&&M)return await V(t);return await Z(e)}return await U({variables:{options:{overrideSigNonce:C},request:e}})}catch(r){N(r)}};return(0,n.jsx)(m.v.Item,{as:"div",className:e=>{let{active:t}=e;return(0,i.Z)({"dropdown-active":t},L?"text-green-500":"","m-2 block cursor-pointer rounded-lg px-4 py-1.5 text-sm")},onClick:z,disabled:T,children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(s.Z,{className:"h-4 w-4"}),(0,n.jsx)("div",{children:L?"Unmirror":"Mirror"})]})})};var w=r(53854),x=r(96806),_=r(48113);let k=e=>{let{publication:t}=e,r="Mirror"===t.__typename,a=r?t.mirrorOf.__typename:t.__typename,o=(0,x.u)(e=>e.setShowNewModal),s=(0,_.l)(e=>e.setQuotedPublication);return(0,n.jsx)(m.v.Item,{as:"div",className:e=>{let{active:t}=e;return(0,i.Z)({"dropdown-active":t},"m-2 block cursor-pointer rounded-lg px-4 py-1.5 text-sm")},onClick:()=>{s(t),o(!0,p.mnY.Post)},children:(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(w.rz5,{className:"h-4 w-4"}),(0,n.jsx)("div",{children:"Comment"===a?"Quote comment":"Quote post"})]})})};var T=r(59355),E=r(33962),C=r(93300),S=r(622),j=r(91158),L=r(4108);let P=e=>{var t,r,o,l,u,c;let{publication:d,showCount:h}=e,[p,f]=(0,a.useState)(!1),v="Mirror"===d.__typename,g=v?null==d?void 0:null===(t=d.mirrorOf)||void 0===t?void 0:null===(r=t.stats)||void 0===r?void 0:r.totalAmountOfMirrors:null==d?void 0:null===(o=d.stats)||void 0===o?void 0:o.totalAmountOfMirrors,y=v?(null==d?void 0:null===(l=d.mirrorOf)||void 0===l?void 0:null===(u=l.mirrors)||void 0===u?void 0:u.length)>0:(null==d?void 0:null===(c=d.mirrors)||void 0===c?void 0:c.length)>0;return(0,n.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,n.jsxs)(m.v,{as:"div",className:"relative",children:[(0,n.jsx)(m.v.Button,{as:a.Fragment,children:(0,n.jsx)("button",{className:(0,i.Z)(y?"text-green-500":"text-brand","rounded-full  hover:bg-gray-300/20"),onClick:T.Z,"aria-label":"Mirror",children:p?(0,n.jsx)(E.$,{variant:y?"success":"primary",size:"xs",className:"mr-0.5"}):(0,n.jsx)(C.u,{placement:"top",content:g>0?"".concat((0,S.Z)(g)," Mirrors"):"Mirror",withDelay:!0,children:(0,n.jsx)(s.Z,{className:"w-[15px] sm:w-[18px] m-1 "})})})}),(0,n.jsx)(j.Z,{children:(0,n.jsxs)(m.v.Items,{className:"absolute z-[5] mt-1 w-max rounded-xl border bg-white dark:bg-gray-900/70 shadow-sm focus:outline-none dark:border-gray-700",static:!0,children:[(0,n.jsx)(b,{publication:d,setIsLoading:f,isLoading:p}),(0,n.jsx)(k,{publication:d})]})})]}),g>0&&!h&&(0,n.jsx)("span",{className:(0,i.Z)(y?"text-green-500":"text-brand","text-[11px] sm:text-xs"),children:(0,L.Z)(g)})]})};var R=P},11021:function(e,t,r){"use strict";var n=r(85893),i=r(92882),a=r(21273),o=r(68980),s=r(67294),l=r(84774),u=r(9507),c=r(5276);let d=e=>{let{query:t}=e;(0,i.qr)(e=>e.currentProfile);let[r,d]=(0,s.useState)(),[h,p]=(0,s.useState)(!1),f={query:t,type:o.qkC.Publication,limit:10},{data:m,loading:v,error:g,fetchMore:y}=(0,a.Ey)({variables:{request:f}}),b=null==m?void 0:m.search,w=null==b?void 0:b.items,x=null==b?void 0:b.pageInfo;(null==x?void 0:x.next)&&(null==w||w.length,x.totalCount);let _=e=>{let t="/".concat(e.id);d(e),history.pushState({path:t},"",t),p(!h)},{observe:k}=(0,c.Y)({onEnter:async()=>{await y({variables:{request:{cursor:null==x?void 0:x.next,...f}}})}});return(0,n.jsxs)("div",{children:[null==w?void 0:w.map(e=>(0,n.jsx)(l.Z,{publication:e,onDetail:_},null==e?void 0:e.id)),(null==x?void 0:x.next)&&(0,n.jsx)("span",{ref:k,className:"flex justify-center border-0 p-10",children:(0,n.jsx)(u.Z,{})})]})};t.Z=d},52576:function(e,t,r){"use strict";r.d(t,{u:function(){return a}});var n=r(85893),i=r(11761);let a=e=>{let{message:t,icon:r,hideCard:a=!1}=e;return(0,n.jsx)(i.Z,{className:a?"border-0 !bg-transparent !shadow-none":"",children:(0,n.jsxs)("div",{className:"grid justify-items-center space-y-2 p-5",children:[(0,n.jsx)("div",{children:r}),(0,n.jsx)("div",{children:t})]})})}},39059:function(e,t,r){"use strict";r.d(t,{cp:function(){return s},l0:function(){return l},w5:function(){return o}});var n=r(85893),i=r(56312),a=r(87536);let o=e=>{let{schema:t,...r}=e;return(0,a.cI)({...r,resolver:(0,i.F)(t)})},s=e=>{let{name:t}=e,{formState:{errors:r}}=(0,a.Gc)();if(!t)return null;let i=r[t];return i?(0,n.jsx)("div",{className:"mt-1 text-sm font-bold text-red-500",children:i.message}):null},l=e=>{let{form:t,onSubmit:r,children:i,className:o=""}=e;return(0,n.jsx)(a.RV,{...t,children:(0,n.jsx)("form",{onSubmit:t.handleSubmit(r),children:(0,n.jsx)("fieldset",{className:"flex flex-col ".concat(o),disabled:t.formState.isSubmitting,children:i})})})}},29350:function(e,t,r){"use strict";var n=r(85893),i=r(44080),a=r(92485),o=r(86010),s=r(67294);let l=e=>{let{show:t,onClose:r,children:l,title:u,panelClassName:c,autoClose:d=!0}=e;return(0,n.jsx)(i.u,{appear:!0,show:t,as:s.Fragment,children:(0,n.jsx)(a.V,{as:"div",className:"relative z-20",onClose:()=>r&&!d?null==r?void 0:r():null,children:(0,n.jsx)("div",{className:"fixed inset-0 ",children:(0,n.jsx)("div",{className:"flex h-full min-h-full items-center justify-center text-center",children:(0,n.jsx)(i.u.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,n.jsx)(a.V.Panel,{className:(0,o.Z)("bg-secondary h-full w-full transform text-left align-middle shadow-xl transition-all",c),children:l})})})})})})};t.Z=l},44318:function(e,t,r){"use strict";var n=r(85893);r(67294);let i=e=>(0,n.jsx)("svg",{...e,viewBox:"0 0 22 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.93077 9.2003C2.00244 4.23968 6.07619 0.25 11.0789 0.25C14.3873 0.25 17.287 1.99427 18.8934 4.60721C19.1103 4.96007 19.0001 5.42199 18.6473 5.63892C18.2944 5.85585 17.8325 5.74565 17.6156 5.39279C16.2727 3.20845 13.8484 1.75 11.0789 1.75C6.8945 1.75 3.50372 5.0777 3.431 9.19817L3.83138 8.80092C4.12542 8.50918 4.60029 8.51105 4.89203 8.80509C5.18377 9.09913 5.18191 9.574 4.88787 9.86574L3.20805 11.5324C2.91565 11.8225 2.44398 11.8225 2.15157 11.5324L0.471757 9.86574C0.177716 9.574 0.17585 9.09913 0.467591 8.80509C0.759331 8.51105 1.2342 8.50918 1.52824 8.80092L1.93077 9.2003ZM18.7864 8.46658C19.0786 8.17781 19.5487 8.17781 19.8409 8.46658L21.5271 10.1333C21.8217 10.4244 21.8245 10.8993 21.5333 11.1939C21.2421 11.4885 20.7673 11.4913 20.4727 11.2001L20.0628 10.7949C19.9934 15.7604 15.9017 19.75 10.8825 19.75C7.56379 19.75 4.65381 18.007 3.0412 15.3939C2.82366 15.0414 2.93307 14.5793 3.28557 14.3618C3.63806 14.1442 4.10016 14.2536 4.31769 14.6061C5.6656 16.7903 8.09999 18.25 10.8825 18.25C15.0887 18.25 18.4922 14.9171 18.5625 10.7969L18.1546 11.2001C17.86 11.4913 17.3852 11.4885 17.094 11.1939C16.8028 10.8993 16.8056 10.4244 17.1002 10.1333L18.7864 8.46658Z",fill:"currentColor"})});t.Z=i},61286:function(e,t,r){"use strict";r.d(t,{I:function(){return c}});var n=r(85893),i=r(86010),a=r(5152),o=r.n(a),s=r(67294),l=r(39059);let u=o()(()=>Promise.all([r.e(2697),r.e(2252)]).then(r.bind(r,22252)),{loadableGenerated:{webpack:()=>[22252]}}),c=(0,s.forwardRef)(function(e,t){let{label:r,prefix:a,type:o="text",iconLeft:c,iconRight:d,error:h,className:p="",helper:f,...m}=e,v=(0,s.useId)(),g=["text-zinc-500 [&>*]:peer-focus:text-brand [&>*]:h-5",{"!text-red-500 [&>*]:peer-focus:!text-red-500":h}];return(0,n.jsxs)("label",{className:"w-full",htmlFor:v,children:[r&&(0,n.jsxs)("div",{className:"mb-1 flex items-center space-x-1.5",children:[(0,n.jsx)("div",{className:"font-medium text-gray-800 dark:text-gray-200",children:r}),(0,n.jsx)(u,{content:f})]}),(0,n.jsxs)("div",{className:"flex",children:[a&&(0,n.jsx)("span",{className:"lt-text-gray-500 inline-flex items-center rounded-l-xl border border-r-0 border-gray-300 bg-gray-100 px-3 dark:border-gray-700",children:a}),(0,n.jsxs)("div",{className:(0,i.Z)({"bg-gray-500/20 opacity-60":m.disabled},h?"!border-red-500":"focus-within:ring-1",a?"rounded-r-xl":"rounded-xl","focus-within:border-brand-500 focus-within:ring-brand-400 flex w-full items-center border border-gray-300 bg-white dark:bg-gray-900/70 p-3 dark:border-gray-700 dark:bg-gray-100"),children:[(0,n.jsx)("input",{id:v,className:(0,i.Z)({"placeholder:text-red-500":h},a?"rounded-r-xl":"rounded-xl","peer w-full border-none bg-transparent outline-none focus:ring-0",p),type:o,ref:t,...m}),(0,n.jsx)("span",{tabIndex:-1,className:(0,i.Z)({"order-first pl-3":c},g),children:c}),(0,n.jsx)("span",{tabIndex:-1,className:(0,i.Z)({"order-last pr-3":d},g),children:d})]})]}),m.name&&(0,n.jsx)(l.cp,{name:m.name})]})})},91158:function(e,t,r){"use strict";var n=r(85893),i=r(44080),a=r(67294);let o=e=>{let{children:t,show:r}=e;return(0,n.jsx)(i.u,{as:a.Fragment,show:r,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:t})};t.Z=o},622:function(e,t){"use strict";let r=e=>null==e?void 0:e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");t.Z=r},4108:function(e,t,r){"use strict";var n=r(622);t.Z=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}].reverse().find(function(t){return e>=t.value});return r?e<1e4?(0,n.Z)(e):(e/r.value).toFixed(t).replace(/\.0+$|(\.\d*[1-9])0+$/,"$1")+r.symbol:"0"}},9187:function(e,t,r){"use strict";var n=r(86501),i=r(5649);let a=e=>{var t,r,a;n.ZP.error(null!==(a=null!==(r=null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.message)&&void 0!==r?r:null==e?void 0:e.message)&&void 0!==a?a:i.c9)};t.Z=a},4242:function(e,t,r){"use strict";var n=r(93445);let i=e=>n.N(e);t.Z=i},21218:function(e,t,r){"use strict";r.r(t);var n=r(86622);t.default=n.Z},97125:function(e,t,r){"use strict";r.d(t,{h:function(){return i}});var n=r(73445);let i=(0,n.Ue)(e=>({showPublicationDeleteAlert:!1,deletingPublication:null,forceDeletePublication:!1,setShowPublicationDeleteAlert:(t,r)=>e(()=>({showPublicationDeleteAlert:t,deletingPublication:r})),showModActionAlert:!1,modingPublication:null,setShowModActionAlert:(t,r)=>e(()=>({showModActionAlert:t,modingPublication:r}))}))},40377:function(e,t,r){"use strict";r.d(t,{cI:function(){return a}});var n=r(5649),i=r(23286);let a=e=>{var t,r;let a=null===(t=null==e?void 0:null===(r=e.metadata)||void 0===r?void 0:r.media[0])||void 0===t?void 0:t.original.url;return a?(0,i.A)(a):"".concat(n.Fv,"/images/fallbackThumbnail.png")}},86913:function(e,t,r){"use strict";var n=r(67294);let i=(e,t)=>{(0,n.useEffect)(()=>{let r=r=>{let n=null==e?void 0:e.current;!n||n.contains(r.target)||t(r)};return document.addEventListener("mousedown",r),document.addEventListener("touchstart",r),()=>{document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r)}},[e,t])};t.Z=i},13250:function(e,t,r){"use strict";var n=r(86501),i=r(50319),a=r(68980);let o=e=>{let{onCompleted:t,update:r}=e,o={notMined:"A previous transaction may not been mined yet or you have passed in a invalid nonce. You must wait for that to be mined before doing another action, please try again in a few moments. Nonce out of sync."},[s,{data:l,loading:u}]=function(e){let t={...e};return i.D(a.VPH,t)}({onCompleted:t,update:r,onError:e=>{e.message===o.notMined&&n.ZP.error(e.message)}});return{broadcast:e=>{let{request:t}=e;return s({variables:{request:t}})},data:l,loading:u}};t.Z=o},44753:function(){},73372:function(){},23106:function(e,t,r){"use strict";r.d(t,{Z:function(){return p}});var n=r(85893),i=r(67294),a=r(21443),o=r.n(a),s=r(45697),l=r.n(s);let u=(e,t)=>{let r=new(o())(".plyr-react",t.options||{});return t.source&&(r.source=t.source),r},c=e=>{e&&e.destroy()},d=()=>{},h=e=>e?()=>({plyr:e}):()=>new Proxy({plyr:{source:null}},{get:(e,t)=>"plyr"===t?e[t]:d}),p=i.forwardRef((e,t)=>{let{source:r,options:a=null,...o}=e,s=function(e,t,r=null){return function(e,t,r=[]){let[n,a]=(0,i.useState)(null),o=(0,i.useRef)(null),{instantiate:s,destroy:l,getAPI:u,params:c}=t;(0,i.useEffect)(()=>{let e=s(o.current,c);return a(e),()=>{l&&l(e,c)}},r);let d=(0,i.useMemo)(()=>u(n,c),[n]);return(0,i.useImperativeHandle)(e,d,[d]),o}(e,{instantiate:u,getAPI:h,destroy:c,params:t},r||[t.options,t.source])}(t,{source:r,options:a});return(0,n.jsx)("video",{ref:s,className:"plyr-react plyr",...o})});p.displayName="Plyr",p.defaultProps={options:{controls:["rewind","play","fast-forward","progress","current-time","duration","mute","volume","settings","fullscreen"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop"}},source:{type:"video",sources:[{src:"https://cdn.plyr.io/static/blank.mp4",type:"video/mp4",size:720},{src:"https://cdn.plyr.io/static/blank.mp4",type:"video/mp4",size:1080}]}},p.propTypes={options:l().object,source:l().any}},21443:function(e,t,r){"object"==typeof navigator&&(e.exports=function(){"use strict";function e(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){var n,i;n=e,i=r[t],t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var a,o,s,l={addCSS:!0,thumbWidth:15,watch:!0},u=function(e){return null!=e?e.constructor:null},c=function(e,t){return!!(e&&t&&e instanceof t)},d=function(e){return null==e},h=function(e){return u(e)===Object},p=function(e){return u(e)===String},f=function(e){return Array.isArray(e)},m=function(e){return c(e,NodeList)},v={nullOrUndefined:d,object:h,number:function(e){return u(e)===Number&&!Number.isNaN(e)},string:p,boolean:function(e){return u(e)===Boolean},function:function(e){return u(e)===Function},array:f,nodeList:m,element:function(e){return c(e,Element)},event:function(e){return c(e,Event)},empty:function(e){return d(e)||(p(e)||f(e)||m(e))&&!e.length||h(e)&&!Object.keys(e).length}},g=function(){var e,r;function n(e,t){(function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")})(this,n),v.element(e)?this.element=e:v.string(e)&&(this.element=document.querySelector(e)),v.element(this.element)&&v.empty(this.element.rangeTouch)&&(this.config=i({},l,{},t),this.init())}return e=[{key:"init",value:function(){n.enabled&&(this.config.addCSS&&(this.element.style.userSelect="none",this.element.style.webKitUserSelect="none",this.element.style.touchAction="manipulation"),this.listeners(!0),this.element.rangeTouch=this)}},{key:"destroy",value:function(){n.enabled&&(this.config.addCSS&&(this.element.style.userSelect="",this.element.style.webKitUserSelect="",this.element.style.touchAction=""),this.listeners(!1),this.element.rangeTouch=null)}},{key:"listeners",value:function(e){var t=this,r=e?"addEventListener":"removeEventListener";["touchstart","touchmove","touchend"].forEach(function(e){t.element[r](e,function(e){return t.set(e)},!1)})}},{key:"get",value:function(e){if(!n.enabled||!v.event(e))return null;var t,r=e.target,i=e.changedTouches[0],a=parseFloat(r.getAttribute("min"))||0,o=parseFloat(r.getAttribute("max"))||100,s=parseFloat(r.getAttribute("step"))||1,l=r.getBoundingClientRect(),u=100/l.width*(this.config.thumbWidth/2)/100;return 0>(t=100/l.width*(i.clientX-l.left))?t=0:100<t&&(t=100),50>t?t-=(100-2*t)*u:50<t&&(t+=2*(t-50)*u),a+function(e,t){if(1>t){var r,n=(r="".concat(t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/))?Math.max(0,(r[1]?r[1].length:0)-(r[2]?+r[2]:0)):0;return parseFloat(e.toFixed(n))}return Math.round(e/t)*t}(t/100*(o-a),s)}},{key:"set",value:function(e){n.enabled&&v.event(e)&&!e.target.disabled&&(e.preventDefault(),e.target.value=this.get(e),function(e,t){if(e&&t){var r=new Event(t,{bubbles:!0});e.dispatchEvent(r)}}(e.target,"touchend"===e.type?"change":"input"))}}],r=[{key:"setup",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=null;if(v.empty(e)||v.string(e)?r=Array.from(document.querySelectorAll(v.string(e)?e:'input[type="range"]')):v.element(e)?r=[e]:v.nodeList(e)?r=Array.from(e):v.array(e)&&(r=e.filter(v.element)),v.empty(r))return null;var a=i({},l,{},t);return v.string(e)&&a.watch&&new MutationObserver(function(t){Array.from(t).forEach(function(t){Array.from(t.addedNodes).forEach(function(t){var r;v.element(t)&&(function(){return Array.from(document.querySelectorAll(r)).includes(this)}).call(t,r=e)&&new n(t,a)})})}).observe(document.body,{childList:!0,subtree:!0}),r.map(function(e){return new n(e,t)})}},{key:"enabled",get:function(){return"ontouchstart"in document.documentElement}}],e&&t(n.prototype,e),r&&t(n,r),n}();let y=e=>null!=e?e.constructor:null,b=(e,t)=>Boolean(e&&t&&e instanceof t),w=e=>null==e,x=e=>y(e)===Object,_=e=>y(e)===String,k=e=>"function"==typeof e,T=e=>Array.isArray(e),E=e=>b(e,NodeList),C=e=>w(e)||(_(e)||T(e)||E(e))&&!e.length||x(e)&&!Object.keys(e).length;var S={nullOrUndefined:w,object:x,number:e=>y(e)===Number&&!Number.isNaN(e),string:_,boolean:e=>y(e)===Boolean,function:k,array:T,weakMap:e=>b(e,WeakMap),nodeList:E,element:e=>null!==e&&"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument,textNode:e=>y(e)===Text,event:e=>b(e,Event),keyboardEvent:e=>b(e,KeyboardEvent),cue:e=>b(e,window.TextTrackCue)||b(e,window.VTTCue),track:e=>b(e,TextTrack)||!w(e)&&_(e.kind),promise:e=>b(e,Promise)&&k(e.then),url:e=>{if(b(e,window.URL))return!0;if(!_(e))return!1;let t=e;e.startsWith("http://")&&e.startsWith("https://")||(t=`http://${e}`);try{return!C(new URL(t).hostname)}catch(r){return!1}},empty:C};let j=(()=>{let e=document.createElement("span"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},r=Object.keys(t).find(t=>void 0!==e.style[t]);return!!S.string(r)&&t[r]})();function L(e,t){setTimeout(()=>{try{e.hidden=!0,e.offsetHeight,e.hidden=!1}catch(t){}},t)}var P={isIE:Boolean(window.document.documentMode),isEdge:/Edge/g.test(navigator.userAgent),isWebKit:"WebkitAppearance"in document.documentElement.style&&!/Edge/g.test(navigator.userAgent),isIPhone:/iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1,isIPadOS:"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,isIos:/iPad|iPhone|iPod/gi.test(navigator.userAgent)&&navigator.maxTouchPoints>1};function R(e,t){return t.split(".").reduce((e,t)=>e&&e[t],e)}function I(e={},...t){if(!t.length)return e;let r=t.shift();return S.object(r)?(Object.keys(r).forEach(t=>{S.object(r[t])?(Object.keys(e).includes(t)||Object.assign(e,{[t]:{}}),I(e[t],r[t])):Object.assign(e,{[t]:r[t]})}),I(e,...t)):e}function M(e,t){let r=e.length?e:[e];Array.from(r).reverse().forEach((e,r)=>{let n=r>0?t.cloneNode(!0):t,i=e.parentNode,a=e.nextSibling;n.appendChild(e),a?i.insertBefore(n,a):i.appendChild(n)})}function O(e,t){S.element(e)&&!S.empty(t)&&Object.entries(t).filter(([,e])=>!S.nullOrUndefined(e)).forEach(([t,r])=>e.setAttribute(t,r))}function A(e,t,r){let n=document.createElement(e);return S.object(t)&&O(n,t),S.string(r)&&(n.innerText=r),n}function N(e,t,r,n){S.element(t)&&t.appendChild(A(e,r,n))}function D(e){S.nodeList(e)||S.array(e)?Array.from(e).forEach(D):S.element(e)&&S.element(e.parentNode)&&e.parentNode.removeChild(e)}function q(e){if(!S.element(e))return;let{length:t}=e.childNodes;for(;t>0;)e.removeChild(e.lastChild),t-=1}function F(e,t){return S.element(t)&&S.element(t.parentNode)&&S.element(e)?(t.parentNode.replaceChild(e,t),e):null}function U(e,t){if(!S.string(e)||S.empty(e))return{};let r={},n=I({},t);return e.split(",").forEach(e=>{let t=e.trim(),i=t.replace(".",""),a=t.replace(/[[\]]/g,"").split("="),[o]=a,s=a.length>1?a[1].replace(/["']/g,""):"";switch(t.charAt(0)){case".":S.string(n.class)?r.class=`${n.class} ${i}`:r.class=i;break;case"#":r.id=t.replace("#","");break;case"[":r[o]=s}}),I(n,r)}function B(e,t){if(!S.element(e))return;let r=t;S.boolean(r)||(r=!e.hidden),e.hidden=r}function H(e,t,r){if(S.nodeList(e))return Array.from(e).map(e=>H(e,t,r));if(S.element(e)){let n="toggle";return void 0!==r&&(n=r?"add":"remove"),e.classList[n](t),e.classList.contains(t)}return!1}function V(e,t){return S.element(e)&&e.classList.contains(t)}function Z(e,t){let{prototype:r}=Element;return(r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function z(e){return this.elements.container.querySelectorAll(e)}function $(e){return this.elements.container.querySelector(e)}function W(e=null,t=!1){S.element(e)&&e.focus({preventScroll:!0,focusVisible:t})}let Q={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},G={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check(e,t){let r=G[e]||"html5"!==t;return{api:r,ui:r&&G.rangeInput}},pip:!(P.isIPhone||!S.function(A("video").webkitSetPresentationMode)&&(!document.pictureInPictureEnabled||A("video").disablePictureInPicture)),airplay:S.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime(e){if(S.empty(e))return!1;let[t]=e.split("/"),r=e;if(!this.isHTML5||t!==this.type)return!1;Object.keys(Q).includes(r)&&(r+=`; codecs="${Q[e]}"`);try{return Boolean(r&&this.media.canPlayType(r).replace(/no/,""))}catch(n){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(()=>{let e=document.createElement("input");return e.type="range","range"===e.type})(),touch:"ontouchstart"in document.documentElement,transitions:!1!==j,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},K=(()=>{let e=!1;try{let t=Object.defineProperty({},"passive",{get:()=>(e=!0,null)});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(r){}return e})();function Y(e,t,r,n=!1,i=!0,a=!1){if(!e||!("addEventListener"in e)||S.empty(t)||!S.function(r))return;let o=t.split(" "),s=a;K&&(s={passive:i,capture:a}),o.forEach(t=>{this&&this.eventListeners&&n&&this.eventListeners.push({element:e,type:t,callback:r,options:s}),e[n?"addEventListener":"removeEventListener"](t,r,s)})}function J(e,t="",r,n=!0,i=!1){Y.call(this,e,t,r,!0,n,i)}function X(e,t="",r,n=!0,i=!1){Y.call(this,e,t,r,!1,n,i)}function ee(e,t="",r,n=!0,i=!1){let a=(...o)=>{X(e,t,a,n,i),r.apply(this,o)};Y.call(this,e,t,a,!0,n,i)}function et(e,t="",r=!1,n={}){if(!S.element(e)||S.empty(t))return;let i=new CustomEvent(t,{bubbles:r,detail:{...n,plyr:this}});e.dispatchEvent(i)}function er(){this&&this.eventListeners&&(this.eventListeners.forEach(e=>{let{element:t,type:r,callback:n,options:i}=e;t.removeEventListener(r,n,i)}),this.eventListeners=[])}function en(){return new Promise(e=>this.ready?setTimeout(e,0):J.call(this,this.elements.container,"ready",e)).then(()=>{})}function ei(e){S.promise(e)&&e.then(null,()=>{})}function ea(e){return S.array(e)?e.filter((t,r)=>e.indexOf(t)===r):e}function eo(e,t){return S.array(e)&&e.length?e.reduce((e,r)=>Math.abs(r-t)<Math.abs(e-t)?r:e):null}function es(e){return!(!window||!window.CSS)&&window.CSS.supports(e)}let el=[[1,1],[4,3],[3,4],[5,4],[4,5],[3,2],[2,3],[16,10],[10,16],[16,9],[9,16],[21,9],[9,21],[32,9],[9,32]].reduce((e,[t,r])=>({...e,[t/r]:[t,r]}),{});function eu(e){return!!(S.array(e)||S.string(e)&&e.includes(":"))&&(S.array(e)?e:e.split(":")).map(Number).every(S.number)}function ec(e){if(!S.array(e)||!e.every(S.number))return null;let[t,r]=e,n=(e,t)=>0===t?e:n(t,e%t),i=n(t,r);return[t/i,r/i]}function ed(e){let t=e=>eu(e)?e.split(":").map(Number):null,r=t(e);if(null===r&&(r=t(this.config.ratio)),null===r&&!S.empty(this.embed)&&S.array(this.embed.ratio)&&({ratio:r}=this.embed),null===r&&this.isHTML5){let{videoWidth:n,videoHeight:i}=this.media;r=[n,i]}return ec(r)}function eh(e){if(!this.isVideo)return{};let{wrapper:t}=this.elements,r=ed.call(this,e);if(!S.array(r))return{};let[n,i]=ec(r),a=100/n*i;if(es(`aspect-ratio: ${n}/${i}`)?t.style.aspectRatio=`${n}/${i}`:t.style.paddingBottom=`${a}%`,this.isVimeo&&!this.config.vimeo.premium&&this.supported.ui){let o=100/this.media.offsetWidth*parseInt(window.getComputedStyle(this.media).paddingBottom,10);this.fullscreen.active?t.style.paddingBottom=null:this.media.style.transform=`translateY(-${(o-a)/(o/50)}%)`}else this.isHTML5&&t.classList.add(this.config.classNames.videoFixedRatio);return{padding:a,ratio:r}}function ep(e,t,r=.05){let n=e/t,i=eo(Object.keys(el),n);return Math.abs(i-n)<=r?el[i]:[e,t]}let ef={getSources(){return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter(e=>{let t=e.getAttribute("type");return!!S.empty(t)||G.mime.call(this,t)}):[]},getQualityOptions(){return this.config.quality.forced?this.config.quality.options:ef.getSources.call(this).map(e=>Number(e.getAttribute("size"))).filter(Boolean)},setup(){if(!this.isHTML5)return;let e=this;e.options.speed=e.config.speed.options,S.empty(this.config.ratio)||eh.call(e),Object.defineProperty(e.media,"quality",{get(){let t=ef.getSources.call(e).find(t=>t.getAttribute("src")===e.source);return t&&Number(t.getAttribute("size"))},set(t){if(e.quality!==t){if(e.config.quality.forced&&S.function(e.config.quality.onChange))e.config.quality.onChange(t);else{let r=ef.getSources.call(e).find(e=>Number(e.getAttribute("size"))===t);if(!r)return;let{currentTime:n,paused:i,preload:a,readyState:o,playbackRate:s}=e.media;e.media.src=r.getAttribute("src"),("none"!==a||o)&&(e.once("loadedmetadata",()=>{e.speed=s,e.currentTime=n,i||ei(e.play())}),e.media.load())}et.call(e,e.media,"qualitychange",!1,{quality:t})}}})},cancelRequests(){this.isHTML5&&(D(ef.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function em(e,...t){return S.empty(e)?e:e.toString().replace(/{(\d+)}/g,(e,r)=>t[r].toString())}let ev=(e="",t="",r="")=>e.replace(RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),r.toString()),eg=(e="")=>e.toString().replace(/\w\S*/g,e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase());function ey(e){let t=document.createElement("div");return t.appendChild(e),t.innerHTML}let eb={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},ew={get(e="",t={}){if(S.empty(e)||S.empty(t))return"";let r=R(t.i18n,e);if(S.empty(r))return Object.keys(eb).includes(e)?eb[e]:"";let n={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(n).forEach(([e,t])=>{r=ev(r,e,t)}),r}};class ex{constructor(t){e(this,"get",e=>{if(!ex.supported||!this.enabled)return null;let t=window.localStorage.getItem(this.key);if(S.empty(t))return null;let r=JSON.parse(t);return S.string(e)&&e.length?r[e]:r}),e(this,"set",e=>{if(!ex.supported||!this.enabled||!S.object(e))return;let t=this.get();S.empty(t)&&(t={}),I(t,e);try{window.localStorage.setItem(this.key,JSON.stringify(t))}catch(r){}}),this.enabled=t.config.storage.enabled,this.key=t.config.storage.key}static get supported(){try{if(!("localStorage"in window))return!1;let e="___test";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(t){return!1}}}function e_(e,t="text"){return new Promise((r,n)=>{try{let i=new XMLHttpRequest;if(!("withCredentials"in i))return;i.addEventListener("load",()=>{if("text"===t)try{r(JSON.parse(i.responseText))}catch(e){r(i.responseText)}else r(i.response)}),i.addEventListener("error",()=>{throw Error(i.status)}),i.open("GET",e,!0),i.responseType=t,i.send()}catch(a){n(a)}})}function ek(e,t){if(!S.string(e))return;let r="cache",n=S.string(t),i=()=>null!==document.getElementById(t),a=(e,t)=>{e.innerHTML=t,n&&i()||document.body.insertAdjacentElement("afterbegin",e)};if(!n||!i()){let o=ex.supported,s=document.createElement("div");if(s.setAttribute("hidden",""),n&&s.setAttribute("id",t),o){let l=window.localStorage.getItem(`${r}-${t}`);if(null!==l){let u=JSON.parse(l);a(s,u.content)}}e_(e).then(e=>{if(!S.empty(e)){if(o)try{window.localStorage.setItem(`${r}-${t}`,JSON.stringify({content:e}))}catch(n){}a(s,e)}}).catch(()=>{})}}let eT=e=>Math.trunc(e/60/60%60,10),eE=e=>Math.trunc(e/60%60,10),eC=e=>Math.trunc(e%60,10);function eS(e=0,t=!1,r=!1){if(!S.number(e))return eS(void 0,t,r);let n=e=>`0${e}`.slice(-2),i=eT(e),a=eE(e),o=eC(e);return`${r&&e>0?"-":""}${i=t||i>0?`${i}:`:""}${n(a)}:${n(o)}`}let ej={getIconUrl(){let e=new URL(this.config.iconUrl,window.location),t=window.location.host?window.location.host:window.top.location.host,r=e.host!==t||P.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:r}},findElements(){try{return this.elements.controls=$.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:z.call(this,this.config.selectors.buttons.play),pause:$.call(this,this.config.selectors.buttons.pause),restart:$.call(this,this.config.selectors.buttons.restart),rewind:$.call(this,this.config.selectors.buttons.rewind),fastForward:$.call(this,this.config.selectors.buttons.fastForward),mute:$.call(this,this.config.selectors.buttons.mute),pip:$.call(this,this.config.selectors.buttons.pip),airplay:$.call(this,this.config.selectors.buttons.airplay),settings:$.call(this,this.config.selectors.buttons.settings),captions:$.call(this,this.config.selectors.buttons.captions),fullscreen:$.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=$.call(this,this.config.selectors.progress),this.elements.inputs={seek:$.call(this,this.config.selectors.inputs.seek),volume:$.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:$.call(this,this.config.selectors.display.buffer),currentTime:$.call(this,this.config.selectors.display.currentTime),duration:$.call(this,this.config.selectors.display.duration)},S.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(`.${this.config.classNames.tooltip}`)),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon(e,t){let r="http://www.w3.org/2000/svg",n=ej.getIconUrl.call(this),i=`${n.cors?"":n.url}#${this.config.iconPrefix}`,a=document.createElementNS(r,"svg");O(a,I(t,{"aria-hidden":"true",focusable:"false"}));let o=document.createElementNS(r,"use"),s=`${i}-${e}`;return"href"in o&&o.setAttributeNS("http://www.w3.org/1999/xlink","href",s),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s),a.appendChild(o),a},createLabel(e,t={}){let r=ew.get(e,this.config);return A("span",{...t,class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")},r)},createBadge(e){if(S.empty(e))return null;let t=A("span",{class:this.config.classNames.menu.value});return t.appendChild(A("span",{class:this.config.classNames.menu.badge},e)),t},createButton(e,t){let r=I({},t),n=function(e=""){let t=e.toString();return(t=function(e=""){let t=e.toString();return t=ev(t,"-"," "),t=eg(t=ev(t,"_"," ")),ev(t," ","")}(t)).charAt(0).toLowerCase()+t.slice(1)}(e),i={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(e=>{Object.keys(r).includes(e)&&(i[e]=r[e],delete r[e])}),"button"!==i.element||Object.keys(r).includes("type")||(r.type="button"),Object.keys(r).includes("class")?r.class.split(" ").some(e=>e===this.config.classNames.control)||I(r,{class:`${r.class} ${this.config.classNames.control}`}):r.class=this.config.classNames.control,e){case"play":i.toggle=!0,i.label="play",i.labelPressed="pause",i.icon="play",i.iconPressed="pause";break;case"mute":i.toggle=!0,i.label="mute",i.labelPressed="unmute",i.icon="volume",i.iconPressed="muted";break;case"captions":i.toggle=!0,i.label="enableCaptions",i.labelPressed="disableCaptions",i.icon="captions-off",i.iconPressed="captions-on";break;case"fullscreen":i.toggle=!0,i.label="enterFullscreen",i.labelPressed="exitFullscreen",i.icon="enter-fullscreen",i.iconPressed="exit-fullscreen";break;case"play-large":r.class+=` ${this.config.classNames.control}--overlaid`,n="play",i.label="play",i.icon="play";break;default:S.empty(i.label)&&(i.label=n),S.empty(i.icon)&&(i.icon=e)}let a=A(i.element);return i.toggle?(a.appendChild(ej.createIcon.call(this,i.iconPressed,{class:"icon--pressed"})),a.appendChild(ej.createIcon.call(this,i.icon,{class:"icon--not-pressed"})),a.appendChild(ej.createLabel.call(this,i.labelPressed,{class:"label--pressed"})),a.appendChild(ej.createLabel.call(this,i.label,{class:"label--not-pressed"}))):(a.appendChild(ej.createIcon.call(this,i.icon)),a.appendChild(ej.createLabel.call(this,i.label))),I(r,U(this.config.selectors.buttons[n],r)),O(a,r),"play"===n?(S.array(this.elements.buttons[n])||(this.elements.buttons[n]=[]),this.elements.buttons[n].push(a)):this.elements.buttons[n]=a,a},createRange(e,t){let r=A("input",I(U(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":ew.get(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=r,ej.updateRangeFill.call(this,r),g.setup(r),r},createProgress(e,t){let r=A("progress",I(U(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"progressbar","aria-hidden":!0},t));if("volume"!==e){r.appendChild(A("span",null,"0"));let n={played:"played",buffer:"buffered"}[e],i=n?ew.get(n,this.config):"";r.innerText=`% ${i.toLowerCase()}`}return this.elements.display[e]=r,r},createTime(e,t){let r=U(this.config.selectors.display[e],t),n=A("div",I(r,{class:`${r.class?r.class:""} ${this.config.classNames.display.time} `.trim(),"aria-label":ew.get(e,this.config),role:"timer"}),"00:00");return this.elements.display[e]=n,n},bindMenuItemShortcuts(e,t){J.call(this,e,"keydown keyup",r=>{if(![" ","ArrowUp","ArrowDown","ArrowRight"].includes(r.key)||(r.preventDefault(),r.stopPropagation(),"keydown"===r.type))return;let n=Z(e,'[role="menuitemradio"]');if(!n&&[" ","ArrowRight"].includes(r.key))ej.showMenuPanel.call(this,t,!0);else{let i;" "!==r.key&&("ArrowDown"===r.key||n&&"ArrowRight"===r.key?(i=e.nextElementSibling,S.element(i)||(i=e.parentNode.firstElementChild)):(i=e.previousElementSibling,S.element(i)||(i=e.parentNode.lastElementChild)),W.call(this,i,!0))}},!1),J.call(this,e,"keyup",e=>{"Return"===e.key&&ej.focusFirstMenuItem.call(this,null,!0)})},createMenuItem({value:e,list:t,type:r,title:n,badge:i=null,checked:a=!1}){let o=U(this.config.selectors.inputs[r]),s=A("button",I(o,{type:"button",role:"menuitemradio",class:`${this.config.classNames.control} ${o.class?o.class:""}`.trim(),"aria-checked":a,value:e})),l=A("span");l.innerHTML=n,S.element(i)&&l.appendChild(i),s.appendChild(l),Object.defineProperty(s,"checked",{enumerable:!0,get:()=>"true"===s.getAttribute("aria-checked"),set(e){e&&Array.from(s.parentNode.children).filter(e=>Z(e,'[role="menuitemradio"]')).forEach(e=>e.setAttribute("aria-checked","false")),s.setAttribute("aria-checked",e?"true":"false")}}),this.listeners.bind(s,"click keyup",t=>{if(!S.keyboardEvent(t)||" "===t.key){switch(t.preventDefault(),t.stopPropagation(),s.checked=!0,r){case"language":this.currentTrack=Number(e);break;case"quality":this.quality=e;break;case"speed":this.speed=parseFloat(e)}ej.showMenuPanel.call(this,"home",S.keyboardEvent(t))}},r,!1),ej.bindMenuItemShortcuts.call(this,s,r),t.appendChild(s)},formatTime(e=0,t=!1){return S.number(e)?eS(e,eT(this.duration)>0,t):e},updateTimeDisplay(e=null,t=0,r=!1){S.element(e)&&S.number(t)&&(e.innerText=ej.formatTime(t,r))},updateVolume(){this.supported.ui&&(S.element(this.elements.inputs.volume)&&ej.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),S.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange(e,t=0){S.element(e)&&(e.value=t,ej.updateRangeFill.call(this,e))},updateProgress(e){var t,r;if(!this.supported.ui||!S.event(e))return;let n=0;if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":t=this.currentTime,r=this.duration,n=0===t||0===r||Number.isNaN(t)||Number.isNaN(r)?0:(t/r*100).toFixed(2),"timeupdate"===e.type&&ej.setRange.call(this,this.elements.inputs.seek,n);break;case"playing":case"progress":((e,t)=>{let r=S.number(t)?t:0,n=S.element(e)?e:this.elements.display.buffer;if(S.element(n)){n.value=r;let i=n.getElementsByTagName("span")[0];S.element(i)&&(i.childNodes[0].nodeValue=r)}})(this.elements.display.buffer,100*this.buffered)}},updateRangeFill(e){let t=S.event(e)?e.target:e;if(S.element(t)&&"range"===t.getAttribute("type")){if(Z(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);let r=ej.formatTime(this.currentTime),n=ej.formatTime(this.duration),i=ew.get("seekLabel",this.config);t.setAttribute("aria-valuetext",i.replace("{currentTime}",r).replace("{duration}",n))}else if(Z(t,this.config.selectors.inputs.volume)){let a=100*t.value;t.setAttribute("aria-valuenow",a),t.setAttribute("aria-valuetext",`${a.toFixed(1)}%`)}else t.setAttribute("aria-valuenow",t.value);(P.isWebKit||P.isIPadOS)&&t.style.setProperty("--value",t.value/t.max*100+"%")}},updateSeekTooltip(e){var t,r;if(!this.config.tooltips.seek||!S.element(this.elements.inputs.seek)||!S.element(this.elements.display.seekTooltip)||0===this.duration)return;let n=this.elements.display.seekTooltip,i=`${this.config.classNames.tooltip}--visible`,a=e=>H(n,i,e);if(this.touch)return void a(!1);let o=0,s=this.elements.progress.getBoundingClientRect();if(S.event(e))o=100/s.width*(e.pageX-s.left);else{if(!V(n,i))return;o=parseFloat(n.style.left,10)}o<0?o=0:o>100&&(o=100);let l=this.duration/100*o;n.innerText=ej.formatTime(l);let u=null===(t=this.config.markers)||void 0===t||null===(r=t.points)||void 0===r?void 0:r.find(({time:e})=>e===Math.round(l));u&&n.insertAdjacentHTML("afterbegin",`${u.label}<br>`),n.style.left=`${o}%`,S.event(e)&&["mouseenter","mouseleave"].includes(e.type)&&a("mouseenter"===e.type)},timeUpdate(e){let t=!S.element(this.elements.display.duration)&&this.config.invertTime;ej.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&"timeupdate"===e.type&&this.media.seeking||ej.updateProgress.call(this,e)},durationUpdate(){if(!this.supported.ui||!this.config.invertTime&&this.currentTime)return;if(this.duration>=4294967296)return B(this.elements.display.currentTime,!0),void B(this.elements.progress,!0);S.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);let e=S.element(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&ej.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&ej.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),this.config.markers.enabled&&ej.setMarkers.call(this),ej.updateSeekTooltip.call(this)},toggleMenuButton(e,t){B(this.elements.settings.buttons[e],!t)},updateSetting(e,t,r){let n=this.elements.settings.panels[e],i=null,a=t;if("captions"===e)i=this.currentTrack;else{if(i=S.empty(r)?this[e]:r,S.empty(i)&&(i=this.config[e].default),!S.empty(this.options[e])&&!this.options[e].includes(i))return void this.debug.warn(`Unsupported value of '${i}' for ${e}`);if(!this.config[e].options.includes(i))return void this.debug.warn(`Disabled value of '${i}' for ${e}`)}if(S.element(a)||(a=n&&n.querySelector('[role="menu"]')),!S.element(a))return;this.elements.settings.buttons[e].querySelector(`.${this.config.classNames.menu.value}`).innerHTML=ej.getLabel.call(this,e,i);let o=a&&a.querySelector(`[value="${i}"]`);S.element(o)&&(o.checked=!0)},getLabel(e,t){switch(e){case"speed":return 1===t?ew.get("normal",this.config):`${t}&times;`;case"quality":if(S.number(t)){let r=ew.get(`qualityLabel.${t}`,this.config);return r.length?r:`${t}p`}return eg(t);case"captions":return eR.getLabel.call(this);default:return null}},setQualityMenu(e){if(!S.element(this.elements.settings.panels.quality))return;let t="quality",r=this.elements.settings.panels.quality.querySelector('[role="menu"]');S.array(e)&&(this.options.quality=ea(e).filter(e=>this.config.quality.options.includes(e)));let n=!S.empty(this.options.quality)&&this.options.quality.length>1;if(ej.toggleMenuButton.call(this,t,n),q(r),ej.checkMenu.call(this),!n)return;let i=e=>{let t=ew.get(`qualityBadge.${e}`,this.config);return t.length?ej.createBadge.call(this,t):null};this.options.quality.sort((e,t)=>{let r=this.config.quality.options;return r.indexOf(e)>r.indexOf(t)?1:-1}).forEach(e=>{ej.createMenuItem.call(this,{value:e,list:r,type:t,title:ej.getLabel.call(this,"quality",e),badge:i(e)})}),ej.updateSetting.call(this,t,r)},setCaptionsMenu(){if(!S.element(this.elements.settings.panels.captions))return;let e="captions",t=this.elements.settings.panels.captions.querySelector('[role="menu"]'),r=eR.getTracks.call(this),n=Boolean(r.length);if(ej.toggleMenuButton.call(this,e,n),q(t),ej.checkMenu.call(this),!n)return;let i=r.map((e,r)=>({value:r,checked:this.captions.toggled&&this.currentTrack===r,title:eR.getLabel.call(this,e),badge:e.language&&ej.createBadge.call(this,e.language.toUpperCase()),list:t,type:"language"}));i.unshift({value:-1,checked:!this.captions.toggled,title:ew.get("disabled",this.config),list:t,type:"language"}),i.forEach(ej.createMenuItem.bind(this)),ej.updateSetting.call(this,e,t)},setSpeedMenu(){if(!S.element(this.elements.settings.panels.speed))return;let e="speed",t=this.elements.settings.panels.speed.querySelector('[role="menu"]');this.options.speed=this.options.speed.filter(e=>e>=this.minimumSpeed&&e<=this.maximumSpeed);let r=!S.empty(this.options.speed)&&this.options.speed.length>1;ej.toggleMenuButton.call(this,e,r),q(t),ej.checkMenu.call(this),r&&(this.options.speed.forEach(r=>{ej.createMenuItem.call(this,{value:r,list:t,type:e,title:ej.getLabel.call(this,"speed",r)})}),ej.updateSetting.call(this,e,t))},checkMenu(){let{buttons:e}=this.elements.settings,t=!S.empty(e)&&Object.values(e).some(e=>!e.hidden);B(this.elements.settings.menu,!t)},focusFirstMenuItem(e,t=!1){if(this.elements.settings.popup.hidden)return;let r=e;S.element(r)||(r=Object.values(this.elements.settings.panels).find(e=>!e.hidden));let n=r.querySelector('[role^="menuitem"]');W.call(this,n,t)},toggleMenu(e){let{popup:t}=this.elements.settings,r=this.elements.buttons.settings;if(!S.element(t)||!S.element(r))return;let{hidden:n}=t,i=n;if(S.boolean(e))i=e;else if(S.keyboardEvent(e)&&"Escape"===e.key)i=!1;else if(S.event(e)){let a=S.function(e.composedPath)?e.composedPath()[0]:e.target,o=t.contains(a);if(o||!o&&e.target!==r&&i)return}r.setAttribute("aria-expanded",i),B(t,!i),H(this.elements.container,this.config.classNames.menu.open,i),i&&S.keyboardEvent(e)?ej.focusFirstMenuItem.call(this,null,!0):i||n||W.call(this,r,S.keyboardEvent(e))},getMenuSize(e){let t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);let r=t.scrollWidth,n=t.scrollHeight;return D(t),{width:r,height:n}},showMenuPanel(e="",t=!1){let r=this.elements.container.querySelector(`#plyr-settings-${this.id}-${e}`);if(!S.element(r))return;let n=r.parentNode,i=Array.from(n.children).find(e=>!e.hidden);if(G.transitions&&!G.reducedMotion){n.style.width=`${i.scrollWidth}px`,n.style.height=`${i.scrollHeight}px`;let a=ej.getMenuSize.call(this,r),o=e=>{e.target===n&&["width","height"].includes(e.propertyName)&&(n.style.width="",n.style.height="",X.call(this,n,j,o))};J.call(this,n,j,o),n.style.width=`${a.width}px`,n.style.height=`${a.height}px`}B(i,!0),B(r,!1),ej.focusFirstMenuItem.call(this,r,t)},setDownloadUrl(){let e=this.elements.buttons.download;S.element(e)&&e.setAttribute("href",this.download)},create(e){let{bindMenuItemShortcuts:t,createButton:r,createProgress:n,createRange:i,createTime:a,setQualityMenu:o,setSpeedMenu:s,showMenuPanel:l}=ej;this.elements.controls=null,S.array(this.config.controls)&&this.config.controls.includes("play-large")&&this.elements.container.appendChild(r.call(this,"play-large"));let u=A("div",U(this.config.selectors.controls.wrapper));this.elements.controls=u;let c={class:"plyr__controls__item"};return ea(S.array(this.config.controls)?this.config.controls:[]).forEach(o=>{if("restart"===o&&u.appendChild(r.call(this,"restart",c)),"rewind"===o&&u.appendChild(r.call(this,"rewind",c)),"play"===o&&u.appendChild(r.call(this,"play",c)),"fast-forward"===o&&u.appendChild(r.call(this,"fast-forward",c)),"progress"===o){let s=A("div",{class:`${c.class} plyr__progress__container`}),d=A("div",U(this.config.selectors.progress));if(d.appendChild(i.call(this,"seek",{id:`plyr-seek-${e.id}`})),d.appendChild(n.call(this,"buffer")),this.config.tooltips.seek){let h=A("span",{class:this.config.classNames.tooltip},"00:00");d.appendChild(h),this.elements.display.seekTooltip=h}this.elements.progress=d,s.appendChild(this.elements.progress),u.appendChild(s)}if("current-time"===o&&u.appendChild(a.call(this,"currentTime",c)),"duration"===o&&u.appendChild(a.call(this,"duration",c)),"mute"===o||"volume"===o){let{volume:p}=this.elements;if(S.element(p)&&u.contains(p)||(p=A("div",I({},c,{class:`${c.class} plyr__volume`.trim()})),this.elements.volume=p,u.appendChild(p)),"mute"===o&&p.appendChild(r.call(this,"mute")),"volume"===o&&!P.isIos&&!P.isIPadOS){let f={max:1,step:.05,value:this.config.volume};p.appendChild(i.call(this,"volume",I(f,{id:`plyr-volume-${e.id}`})))}}if("captions"===o&&u.appendChild(r.call(this,"captions",c)),"settings"===o&&!S.empty(this.config.settings)){let m=A("div",I({},c,{class:`${c.class} plyr__menu`.trim(),hidden:""}));m.appendChild(r.call(this,"settings",{"aria-haspopup":!0,"aria-controls":`plyr-settings-${e.id}`,"aria-expanded":!1}));let v=A("div",{class:"plyr__menu__container",id:`plyr-settings-${e.id}`,hidden:""}),g=A("div"),y=A("div",{id:`plyr-settings-${e.id}-home`}),b=A("div",{role:"menu"});y.appendChild(b),g.appendChild(y),this.elements.settings.panels.home=y,this.config.settings.forEach(r=>{let n=A("button",I(U(this.config.selectors.buttons.settings),{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--forward`,role:"menuitem","aria-haspopup":!0,hidden:""}));t.call(this,n,r),J.call(this,n,"click",()=>{l.call(this,r,!1)});let i=A("span",null,ew.get(r,this.config)),a=A("span",{class:this.config.classNames.menu.value});a.innerHTML=e[r],i.appendChild(a),n.appendChild(i),b.appendChild(n);let o=A("div",{id:`plyr-settings-${e.id}-${r}`,hidden:""}),s=A("button",{type:"button",class:`${this.config.classNames.control} ${this.config.classNames.control}--back`});s.appendChild(A("span",{"aria-hidden":!0},ew.get(r,this.config))),s.appendChild(A("span",{class:this.config.classNames.hidden},ew.get("menuBack",this.config))),J.call(this,o,"keydown",e=>{"ArrowLeft"===e.key&&(e.preventDefault(),e.stopPropagation(),l.call(this,"home",!0))},!1),J.call(this,s,"click",()=>{l.call(this,"home",!1)}),o.appendChild(s),o.appendChild(A("div",{role:"menu"})),g.appendChild(o),this.elements.settings.buttons[r]=n,this.elements.settings.panels[r]=o}),v.appendChild(g),m.appendChild(v),u.appendChild(m),this.elements.settings.popup=v,this.elements.settings.menu=m}if("pip"===o&&G.pip&&u.appendChild(r.call(this,"pip",c)),"airplay"===o&&G.airplay&&u.appendChild(r.call(this,"airplay",c)),"download"===o){let w=I({},c,{element:"a",href:this.download,target:"_blank"});this.isHTML5&&(w.download="");let{download:x}=this.config.urls;!S.url(x)&&this.isEmbed&&I(w,{icon:`logo-${this.provider}`,label:this.provider}),u.appendChild(r.call(this,"download",w))}"fullscreen"===o&&u.appendChild(r.call(this,"fullscreen",c))}),this.isHTML5&&o.call(this,ef.getQualityOptions.call(this)),s.call(this),u},inject(){let e,t;if(this.config.loadSprite){let r=ej.getIconUrl.call(this);r.cors&&ek(r.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());let n=null;this.elements.controls=null;let i={id:this.id,seektime:this.config.seekTime,title:this.config.title},a=!0;if(S.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this,i)),this.config.controls||(this.config.controls=[]),S.element(this.config.controls)||S.string(this.config.controls)?n=this.config.controls:(n=ej.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:eR.getLabel.call(this)}),a=!1),a&&S.string(this.config.controls)&&(t=n,Object.entries(i).forEach(([e,r])=>{t=ev(t,`{${e}}`,r)}),n=t),S.string(this.config.selectors.controls.container)&&(e=document.querySelector(this.config.selectors.controls.container)),S.element(e)||(e=this.elements.container),e[S.element(n)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",n),S.element(this.elements.controls)||ej.findElements.call(this),!S.empty(this.elements.buttons)){let o=e=>{let t=this.config.classNames.controlPressed;e.setAttribute("aria-pressed","false"),Object.defineProperty(e,"pressed",{configurable:!0,enumerable:!0,get:()=>V(e,t),set(r=!1){H(e,t,r),e.setAttribute("aria-pressed",r?"true":"false")}})};Object.values(this.elements.buttons).filter(Boolean).forEach(e=>{S.array(e)||S.nodeList(e)?Array.from(e).filter(Boolean).forEach(o):o(e)})}if(P.isEdge&&L(e),this.config.tooltips.controls){let{classNames:s,selectors:l}=this.config,u=`${l.controls.wrapper} ${l.labels} .${s.hidden}`,c=z.call(this,u);Array.from(c).forEach(e=>{H(e,this.config.classNames.hidden,!1),H(e,this.config.classNames.tooltip,!0)})}},setMediaMetadata(){try{"mediaSession"in navigator&&(navigator.mediaSession.metadata=new window.MediaMetadata({title:this.config.mediaMetadata.title,artist:this.config.mediaMetadata.artist,album:this.config.mediaMetadata.album,artwork:this.config.mediaMetadata.artwork}))}catch(e){}},setMarkers(){var e,t;if(!this.duration||this.elements.markers)return;let r=null===(e=this.config.markers)||void 0===e||null===(t=e.points)||void 0===t?void 0:t.filter(({time:e})=>e>0&&e<this.duration);if(null==r||!r.length)return;let n=document.createDocumentFragment(),i=document.createDocumentFragment(),a=null,o=`${this.config.classNames.tooltip}--visible`,s=e=>H(a,o,e);r.forEach(e=>{let t=A("span",{class:this.config.classNames.marker},""),r=e.time/this.duration*100+"%";a&&(t.addEventListener("mouseenter",()=>{e.label||(a.style.left=r,a.innerHTML=e.label,s(!0))}),t.addEventListener("mouseleave",()=>{s(!1)})),t.addEventListener("click",()=>{this.currentTime=e.time}),t.style.left=r,i.appendChild(t)}),n.appendChild(i),this.config.tooltips.seek||(a=A("span",{class:this.config.classNames.tooltip},""),n.appendChild(a)),this.elements.markers={points:i,tip:a},this.elements.progress.appendChild(n)}};function eL(e,t=!0){let r=e;if(t){let n=document.createElement("a");n.href=r,r=n.href}try{return new URL(r)}catch(i){return null}}function eP(e){let t=new URLSearchParams;return S.object(e)&&Object.entries(e).forEach(([e,r])=>{t.set(e,r)}),t}let eR={setup(){var e,t;if(!this.supported.ui)return;if(!this.isVideo||this.isYouTube||this.isHTML5&&!G.textTracks)return void(S.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&ej.setCaptionsMenu.call(this));if(S.element(this.elements.captions)||(this.elements.captions=A("div",U(this.config.selectors.captions)),this.elements.captions.setAttribute("dir","auto"),e=this.elements.captions,t=this.elements.wrapper,S.element(e)&&S.element(t)&&t.parentNode.insertBefore(e,t.nextSibling)),P.isIE&&window.URL){let r=this.media.querySelectorAll("track");Array.from(r).forEach(e=>{let t=e.getAttribute("src"),r=eL(t);null!==r&&r.hostname!==window.location.href.hostname&&["http:","https:"].includes(r.protocol)&&e_(t,"blob").then(t=>{e.setAttribute("src",window.URL.createObjectURL(t))}).catch(()=>{D(e)})})}let n=ea((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(e=>e.split("-")[0])),i=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();"auto"===i&&([i]=n);let a=this.storage.get("captions");if(S.boolean(a)||({active:a}=this.config.captions),Object.assign(this.captions,{toggled:!1,active:a,language:i,languages:n}),this.isHTML5){let o=this.config.captions.update?"addtrack removetrack":"removetrack";J.call(this,this.media.textTracks,o,eR.update.bind(this))}setTimeout(eR.update.bind(this),0)},update(){let e=eR.getTracks.call(this,!0),{active:t,language:r,meta:n,currentTrackNode:i}=this.captions,a=Boolean(e.find(e=>e.language===r));this.isHTML5&&this.isVideo&&e.filter(e=>!n.get(e)).forEach(e=>{this.debug.log("Track added",e),n.set(e,{default:"showing"===e.mode}),"showing"===e.mode&&(e.mode="hidden"),J.call(this,e,"cuechange",()=>eR.updateCues.call(this))}),(a&&this.language!==r||!e.includes(i))&&(eR.setLanguage.call(this,r),eR.toggle.call(this,t&&a)),this.elements&&H(this.elements.container,this.config.classNames.captions.enabled,!S.empty(e)),S.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&ej.setCaptionsMenu.call(this)},toggle(e,t=!0){if(!this.supported.ui)return;let{toggled:r}=this.captions,n=this.config.classNames.captions.active,i=S.nullOrUndefined(e)?!r:e;if(i!==r){if(t||(this.captions.active=i,this.storage.set({captions:i})),!this.language&&i&&!t){let a=eR.getTracks.call(this),o=eR.findTrack.call(this,[this.captions.language,...this.captions.languages],!0);return this.captions.language=o.language,void eR.set.call(this,a.indexOf(o))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=i),H(this.elements.container,n,i),this.captions.toggled=i,ej.updateSetting.call(this,"captions"),et.call(this,this.media,i?"captionsenabled":"captionsdisabled")}setTimeout(()=>{i&&this.captions.toggled&&(this.captions.currentTrackNode.mode="hidden")})},set(e,t=!0){let r=eR.getTracks.call(this);if(-1!==e){if(S.number(e)){if(e in r){if(this.captions.currentTrack!==e){this.captions.currentTrack=e;let n=r[e],{language:i}=n||{};this.captions.currentTrackNode=n,ej.updateSetting.call(this,"captions"),t||(this.captions.language=i,this.storage.set({language:i})),this.isVimeo&&this.embed.enableTextTrack(i),et.call(this,this.media,"languagechange")}eR.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&eR.updateCues.call(this)}else this.debug.warn("Track not found",e)}else this.debug.warn("Invalid caption argument",e)}else eR.toggle.call(this,!1,t)},setLanguage(e,t=!0){if(!S.string(e))return void this.debug.warn("Invalid language argument",e);let r=e.toLowerCase();this.captions.language=r;let n=eR.getTracks.call(this),i=eR.findTrack.call(this,[r]);eR.set.call(this,n.indexOf(i),t)},getTracks(e=!1){return Array.from((this.media||{}).textTracks||[]).filter(t=>!this.isHTML5||e||this.captions.meta.has(t)).filter(e=>["captions","subtitles"].includes(e.kind))},findTrack(e,t=!1){let r;let n=eR.getTracks.call(this),i=e=>Number((this.captions.meta.get(e)||{}).default),a=Array.from(n).sort((e,t)=>i(t)-i(e));return e.every(e=>!(r=a.find(t=>t.language===e))),r||(t?a[0]:void 0)},getCurrentTrack(){return eR.getTracks.call(this)[this.currentTrack]},getLabel(e){let t=e;return!S.track(t)&&G.textTracks&&this.captions.toggled&&(t=eR.getCurrentTrack.call(this)),S.track(t)?S.empty(t.label)?S.empty(t.language)?ew.get("enabled",this.config):e.language.toUpperCase():t.label:ew.get("disabled",this.config)},updateCues(e){if(!this.supported.ui)return;if(!S.element(this.elements.captions))return void this.debug.warn("No captions element to render to");if(!S.nullOrUndefined(e)&&!Array.isArray(e))return void this.debug.warn("updateCues: Invalid input",e);let t=e;if(!t){let r=eR.getCurrentTrack.call(this);t=Array.from((r||{}).activeCues||[]).map(e=>e.getCueAsHTML()).map(ey)}let n=t.map(e=>e.trim()).join("\n");if(n!==this.elements.captions.innerHTML){q(this.elements.captions);let i=A("span",U(this.config.selectors.caption));i.innerHTML=n,this.elements.captions.appendChild(i),et.call(this,this.media,"cuechange")}}},eI={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:null,clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.7.8/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240],forced:!1,onChange:null},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2,4]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",pip:"PIP",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/oembed.json?url={0}"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://noembed.com/embed?url=https://www.youtube.com/watch?v={0}"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption"},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",videoFixedRatio:"plyr__video-wrapper--fixed-ratio",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",marker:"plyr__progress__marker",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},previewThumbnails:{thumbContainer:"plyr__preview-thumb",thumbContainerShown:"plyr__preview-thumb--is-shown",imageContainer:"plyr__preview-thumb__image-container",timeContainer:"plyr__preview-thumb__time-container",scrubbingContainer:"plyr__preview-scrubbing",scrubbingContainerShown:"plyr__preview-scrubbing--is-shown"}},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id",hash:"data-plyr-embed-hash"}},ads:{enabled:!1,publisherId:"",tagUrl:""},previewThumbnails:{enabled:!1,src:""},vimeo:{byline:!1,portrait:!1,title:!1,speed:!0,transparent:!1,customControls:!0,referrerPolicy:null,premium:!1},youtube:{rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,customControls:!0,noCookie:!1},mediaMetadata:{title:"",artist:"",album:"",artwork:[]},markers:{enabled:!1,points:[]}},eM="picture-in-picture",eO={html5:"html5",youtube:"youtube",vimeo:"vimeo"},eA="video",eN=()=>{};class eD{constructor(e=!1){this.enabled=window.console&&e,this.enabled&&this.log("Debugging enabled")}get log(){return this.enabled?Function.prototype.bind.call(console.log,console):eN}get warn(){return this.enabled?Function.prototype.bind.call(console.warn,console):eN}get error(){return this.enabled?Function.prototype.bind.call(console.error,console):eN}}class eq{constructor(t){e(this,"onChange",()=>{if(!this.supported)return;let e=this.player.elements.buttons.fullscreen;S.element(e)&&(e.pressed=this.active);let t=this.target===this.player.media?this.target:this.player.elements.container;et.call(this.player,t,this.active?"enterfullscreen":"exitfullscreen",!0)}),e(this,"toggleFallback",(e=!1)=>{if(e?this.scrollPosition={x:window.scrollX??0,y:window.scrollY??0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=e?"hidden":"",H(this.target,this.player.config.classNames.fullscreen.fallback,e),P.isIos){let t=document.head.querySelector('meta[name="viewport"]'),r="viewport-fit=cover";t||(t=document.createElement("meta")).setAttribute("name","viewport");let n=S.string(t.content)&&t.content.includes(r);e?(this.cleanupViewport=!n,n||(t.content+=`,${r}`)):this.cleanupViewport&&(t.content=t.content.split(",").filter(e=>e.trim()!==r).join(","))}this.onChange()}),e(this,"trapFocus",e=>{if(P.isIos||P.isIPadOS||!this.active||"Tab"!==e.key)return;let t=document.activeElement,r=z.call(this.player,"a[href], button:not(:disabled), input:not(:disabled), [tabindex]"),[n]=r,i=r[r.length-1];t!==i||e.shiftKey?t===n&&e.shiftKey&&(i.focus(),e.preventDefault()):(n.focus(),e.preventDefault())}),e(this,"update",()=>{if(this.supported){let e;e=this.forceFallback?"Fallback (forced)":eq.nativeSupported?"Native":"Fallback",this.player.debug.log(`${e} fullscreen enabled`)}else this.player.debug.log("Fullscreen not supported and fallback disabled");H(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.supported)}),e(this,"enter",()=>{this.supported&&(P.isIos&&this.player.config.fullscreen.iosNative?this.player.isVimeo?this.player.embed.requestFullscreen():this.target.webkitEnterFullscreen():!eq.nativeSupported||this.forceFallback?this.toggleFallback(!0):this.prefix?S.empty(this.prefix)||this.target[`${this.prefix}Request${this.property}`]():this.target.requestFullscreen({navigationUI:"hide"}))}),e(this,"exit",()=>{if(this.supported){if(P.isIos&&this.player.config.fullscreen.iosNative)this.player.isVimeo?this.player.embed.exitFullscreen():this.target.webkitEnterFullscreen(),ei(this.player.play());else if(!eq.nativeSupported||this.forceFallback)this.toggleFallback(!1);else if(this.prefix){if(!S.empty(this.prefix)){let e="moz"===this.prefix?"Cancel":"Exit";document[`${this.prefix}${e}${this.property}`]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document)}}),e(this,"toggle",()=>{this.active?this.exit():this.enter()}),this.player=t,this.prefix=eq.prefix,this.property=eq.property,this.scrollPosition={x:0,y:0},this.forceFallback="force"===t.config.fullscreen.fallback,this.player.elements.fullscreen=t.config.fullscreen.container&&function(e,t){let{prototype:r}=Element;return(r.closest||function(){let e=this;do{if(Z.matches(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}).call(e,t)}(this.player.elements.container,t.config.fullscreen.container),J.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":`${this.prefix}fullscreenchange`,()=>{this.onChange()}),J.call(this.player,this.player.elements.container,"dblclick",e=>{S.element(this.player.elements.controls)&&this.player.elements.controls.contains(e.target)||this.player.listeners.proxy(e,this.toggle,"fullscreen")}),J.call(this,this.player.elements.container,"keydown",e=>this.trapFocus(e)),this.update()}static get nativeSupported(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}get useNative(){return eq.nativeSupported&&!this.forceFallback}static get prefix(){if(S.function(document.exitFullscreen))return"";let e="";return["webkit","moz","ms"].some(t=>!(!S.function(document[`${t}ExitFullscreen`])&&!S.function(document[`${t}CancelFullScreen`]))&&(e=t,!0)),e}static get property(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}get supported(){return[this.player.config.fullscreen.enabled,this.player.isVideo,eq.nativeSupported||this.player.config.fullscreen.fallback,!this.player.isYouTube||eq.nativeSupported||!P.isIos||this.player.config.playsinline&&!this.player.config.fullscreen.iosNative].every(Boolean)}get active(){if(!this.supported)return!1;if(!eq.nativeSupported||this.forceFallback)return V(this.target,this.player.config.classNames.fullscreen.fallback);let e=this.prefix?this.target.getRootNode()[`${this.prefix}${this.property}Element`]:this.target.getRootNode().fullscreenElement;return e&&e.shadowRoot?e===this.target.getRootNode().host:e===this.target}get target(){return P.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.fullscreen??this.player.elements.container}}function eF(e,t=1){return new Promise((r,n)=>{let i=new Image,a=()=>{delete i.onload,delete i.onerror,(i.naturalWidth>=t?r:n)(i)};Object.assign(i,{onload:a,onerror:a,src:e})})}let eU={addStyleHook(){H(this.elements.container,this.config.selectors.container.replace(".",""),!0),H(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls(e=!1){e&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build(){if(this.listeners.media(),!this.supported.ui)return this.debug.warn(`Basic support only for ${this.provider} ${this.type}`),void eU.toggleNativeControls.call(this,!0);S.element(this.elements.controls)||(ej.inject.call(this),this.listeners.controls()),eU.toggleNativeControls.call(this),this.isHTML5&&eR.setup.call(this),this.volume=null,this.muted=null,this.loop=null,this.quality=null,this.speed=null,ej.updateVolume.call(this),ej.timeUpdate.call(this),ej.durationUpdate.call(this),eU.checkPlaying.call(this),H(this.elements.container,this.config.classNames.pip.supported,G.pip&&this.isHTML5&&this.isVideo),H(this.elements.container,this.config.classNames.airplay.supported,G.airplay&&this.isHTML5),H(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(()=>{et.call(this,this.media,"ready")},0),eU.setTitle.call(this),this.poster&&eU.setPoster.call(this,this.poster,!1).catch(()=>{}),this.config.duration&&ej.durationUpdate.call(this),this.config.mediaMetadata&&ej.setMediaMetadata.call(this)},setTitle(){let e=ew.get("play",this.config);if(S.string(this.config.title)&&!S.empty(this.config.title)&&(e+=`, ${this.config.title}`),Array.from(this.elements.buttons.play||[]).forEach(t=>{t.setAttribute("aria-label",e)}),this.isEmbed){let t=$.call(this,"iframe");if(!S.element(t))return;let r=S.empty(this.config.title)?"video":this.config.title,n=ew.get("frameTitle",this.config);t.setAttribute("title",n.replace("{title}",r))}},togglePoster(e){H(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster(e,t=!0){return t&&this.poster?Promise.reject(Error("Poster already set")):(this.media.setAttribute("data-poster",e),this.elements.poster.removeAttribute("hidden"),en.call(this).then(()=>eF(e)).catch(t=>{throw e===this.poster&&eU.togglePoster.call(this,!1),t}).then(()=>{if(e!==this.poster)throw Error("setPoster cancelled by later call to setPoster")}).then(()=>(Object.assign(this.elements.poster.style,{backgroundImage:`url('${e}')`,backgroundSize:""}),eU.togglePoster.call(this,!0),e)))},checkPlaying(e){H(this.elements.container,this.config.classNames.playing,this.playing),H(this.elements.container,this.config.classNames.paused,this.paused),H(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(e=>{Object.assign(e,{pressed:this.playing}),e.setAttribute("aria-label",ew.get(this.playing?"pause":"play",this.config))}),S.event(e)&&"timeupdate"===e.type||eU.toggleControls.call(this)},checkLoading(e){this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(()=>{H(this.elements.container,this.config.classNames.loading,this.loading),eU.toggleControls.call(this)},this.loading?250:0)},toggleControls(e){let{controls:t}=this.elements;if(t&&this.config.hideControls){let r=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(e||this.loading||this.paused||t.pressed||t.hover||r))}},migrateStyles(){Object.values({...this.media.style}).filter(e=>!S.empty(e)&&S.string(e)&&e.startsWith("--plyr")).forEach(e=>{this.elements.container.style.setProperty(e,this.media.style.getPropertyValue(e)),this.media.style.removeProperty(e)}),S.empty(this.media.style)&&this.media.removeAttribute("style")}};class eB{constructor(t){e(this,"firstTouch",()=>{let{player:e}=this,{elements:t}=e;e.touch=!0,H(t.container,e.config.classNames.isTouch,!0)}),e(this,"global",(e=!0)=>{let{player:t}=this;t.config.keyboard.global&&Y.call(t,window,"keydown keyup",this.handleKey,e,!1),Y.call(t,document.body,"click",this.toggleMenu,e),ee.call(t,document.body,"touchstart",this.firstTouch)}),e(this,"container",()=>{let{player:e}=this,{config:t,elements:r,timers:n}=e;!t.keyboard.global&&t.keyboard.focused&&J.call(e,r.container,"keydown keyup",this.handleKey,!1),J.call(e,r.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",t=>{let{controls:i}=r;i&&"enterfullscreen"===t.type&&(i.pressed=!1,i.hover=!1);let a=0;["touchstart","touchmove","mousemove"].includes(t.type)&&(eU.toggleControls.call(e,!0),a=e.touch?3e3:2e3),clearTimeout(n.controls),n.controls=setTimeout(()=>eU.toggleControls.call(e,!1),a)});let i=()=>{if(!e.isVimeo||e.config.vimeo.premium)return;let t=r.wrapper,{active:n}=e.fullscreen,[i,a]=ed.call(e),o=es(`aspect-ratio: ${i} / ${a}`);if(!n)return void(o?(t.style.width=null,t.style.height=null):(t.style.maxWidth=null,t.style.margin=null));let[s,l]=[Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),Math.max(document.documentElement.clientHeight||0,window.innerHeight||0)],u=s/l>i/a;o?(t.style.width=u?"auto":"100%",t.style.height=u?"100%":"auto"):(t.style.maxWidth=u?l/a*i+"px":null,t.style.margin=u?"0 auto":null)},a=()=>{clearTimeout(n.resized),n.resized=setTimeout(i,50)};J.call(e,r.container,"enterfullscreen exitfullscreen",t=>{let{target:n}=e.fullscreen;n===r.container&&(!e.isEmbed&&S.empty(e.config.ratio)||(i(),("enterfullscreen"===t.type?J:X).call(e,window,"resize",a)))})}),e(this,"media",()=>{let{player:e}=this,{elements:t}=e;if(J.call(e,e.media,"timeupdate seeking seeked",t=>ej.timeUpdate.call(e,t)),J.call(e,e.media,"durationchange loadeddata loadedmetadata",t=>ej.durationUpdate.call(e,t)),J.call(e,e.media,"ended",()=>{e.isHTML5&&e.isVideo&&e.config.resetOnEnd&&(e.restart(),e.pause())}),J.call(e,e.media,"progress playing seeking seeked",t=>ej.updateProgress.call(e,t)),J.call(e,e.media,"volumechange",t=>ej.updateVolume.call(e,t)),J.call(e,e.media,"playing play pause ended emptied timeupdate",t=>eU.checkPlaying.call(e,t)),J.call(e,e.media,"waiting canplay seeked playing",t=>eU.checkLoading.call(e,t)),e.supported.ui&&e.config.clickToPlay&&!e.isAudio){let r=$.call(e,`.${e.config.classNames.video}`);if(!S.element(r))return;J.call(e,t.container,"click",n=>{([t.container,r].includes(n.target)||r.contains(n.target))&&(e.touch&&e.config.hideControls||(e.ended?(this.proxy(n,e.restart,"restart"),this.proxy(n,()=>{ei(e.play())},"play")):this.proxy(n,()=>{ei(e.togglePlay())},"play")))})}e.supported.ui&&e.config.disableContextMenu&&J.call(e,t.wrapper,"contextmenu",e=>{e.preventDefault()},!1),J.call(e,e.media,"volumechange",()=>{e.storage.set({volume:e.volume,muted:e.muted})}),J.call(e,e.media,"ratechange",()=>{ej.updateSetting.call(e,"speed"),e.storage.set({speed:e.speed})}),J.call(e,e.media,"qualitychange",t=>{ej.updateSetting.call(e,"quality",null,t.detail.quality)}),J.call(e,e.media,"ready qualitychange",()=>{ej.setDownloadUrl.call(e)});let n=e.config.events.concat(["keyup","keydown"]).join(" ");J.call(e,e.media,n,r=>{let{detail:n={}}=r;"error"===r.type&&(n=e.media.error),et.call(e,t.container,r.type,!0,n)})}),e(this,"proxy",(e,t,r)=>{let{player:n}=this,i=n.config.listeners[r],a=!0;S.function(i)&&(a=i.call(n,e)),!1!==a&&S.function(t)&&t.call(n,e)}),e(this,"bind",(e,t,r,n,i=!0)=>{let{player:a}=this,o=a.config.listeners[n],s=S.function(o);J.call(a,e,t,e=>this.proxy(e,r,n),i&&!s)}),e(this,"controls",()=>{let{player:e}=this,{elements:t}=e,r=P.isIE?"change":"input";if(t.buttons.play&&Array.from(t.buttons.play).forEach(t=>{this.bind(t,"click",()=>{ei(e.togglePlay())},"play")}),this.bind(t.buttons.restart,"click",e.restart,"restart"),this.bind(t.buttons.rewind,"click",()=>{e.lastSeekTime=Date.now(),e.rewind()},"rewind"),this.bind(t.buttons.fastForward,"click",()=>{e.lastSeekTime=Date.now(),e.forward()},"fastForward"),this.bind(t.buttons.mute,"click",()=>{e.muted=!e.muted},"mute"),this.bind(t.buttons.captions,"click",()=>e.toggleCaptions()),this.bind(t.buttons.download,"click",()=>{et.call(e,e.media,"download")},"download"),this.bind(t.buttons.fullscreen,"click",()=>{e.fullscreen.toggle()},"fullscreen"),this.bind(t.buttons.pip,"click",()=>{e.pip="toggle"},"pip"),this.bind(t.buttons.airplay,"click",e.airplay,"airplay"),this.bind(t.buttons.settings,"click",t=>{t.stopPropagation(),t.preventDefault(),ej.toggleMenu.call(e,t)},null,!1),this.bind(t.buttons.settings,"keyup",t=>{[" ","Enter"].includes(t.key)&&("Enter"!==t.key?(t.preventDefault(),t.stopPropagation(),ej.toggleMenu.call(e,t)):ej.focusFirstMenuItem.call(e,null,!0))},null,!1),this.bind(t.settings.menu,"keydown",t=>{"Escape"===t.key&&ej.toggleMenu.call(e,t)}),this.bind(t.inputs.seek,"mousedown mousemove",e=>{let r=t.progress.getBoundingClientRect(),n=100/r.width*(e.pageX-r.left);e.currentTarget.setAttribute("seek-value",n)}),this.bind(t.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",t=>{let r=t.currentTarget,n="play-on-seeked";if(S.keyboardEvent(t)&&!["ArrowLeft","ArrowRight"].includes(t.key))return;e.lastSeekTime=Date.now();let i=r.hasAttribute(n),a=["mouseup","touchend","keyup"].includes(t.type);i&&a?(r.removeAttribute(n),ei(e.play())):!a&&e.playing&&(r.setAttribute(n,""),e.pause())}),P.isIos){let n=z.call(e,'input[type="range"]');Array.from(n).forEach(e=>this.bind(e,r,e=>L(e.target)))}this.bind(t.inputs.seek,r,t=>{let r=t.currentTarget,n=r.getAttribute("seek-value");S.empty(n)&&(n=r.value),r.removeAttribute("seek-value"),e.currentTime=n/r.max*e.duration},"seek"),this.bind(t.progress,"mouseenter mouseleave mousemove",t=>ej.updateSeekTooltip.call(e,t)),this.bind(t.progress,"mousemove touchmove",t=>{let{previewThumbnails:r}=e;r&&r.loaded&&r.startMove(t)}),this.bind(t.progress,"mouseleave touchend click",()=>{let{previewThumbnails:t}=e;t&&t.loaded&&t.endMove(!1,!0)}),this.bind(t.progress,"mousedown touchstart",t=>{let{previewThumbnails:r}=e;r&&r.loaded&&r.startScrubbing(t)}),this.bind(t.progress,"mouseup touchend",t=>{let{previewThumbnails:r}=e;r&&r.loaded&&r.endScrubbing(t)}),P.isWebKit&&Array.from(z.call(e,'input[type="range"]')).forEach(t=>{this.bind(t,"input",t=>ej.updateRangeFill.call(e,t.target))}),e.config.toggleInvert&&!S.element(t.display.duration)&&this.bind(t.display.currentTime,"click",()=>{0!==e.currentTime&&(e.config.invertTime=!e.config.invertTime,ej.timeUpdate.call(e))}),this.bind(t.inputs.volume,r,t=>{e.volume=t.target.value},"volume"),this.bind(t.controls,"mouseenter mouseleave",r=>{t.controls.hover=!e.touch&&"mouseenter"===r.type}),t.fullscreen&&Array.from(t.fullscreen.children).filter(e=>!e.contains(t.container)).forEach(r=>{this.bind(r,"mouseenter mouseleave",r=>{t.controls&&(t.controls.hover=!e.touch&&"mouseenter"===r.type)})}),this.bind(t.controls,"mousedown mouseup touchstart touchend touchcancel",e=>{t.controls.pressed=["mousedown","touchstart"].includes(e.type)}),this.bind(t.controls,"focusin",()=>{let{config:r,timers:n}=e;H(t.controls,r.classNames.noTransition,!0),eU.toggleControls.call(e,!0),setTimeout(()=>{H(t.controls,r.classNames.noTransition,!1)},0);let i=this.touch?3e3:4e3;clearTimeout(n.controls),n.controls=setTimeout(()=>eU.toggleControls.call(e,!1),i)}),this.bind(t.inputs.volume,"wheel",t=>{let r=t.webkitDirectionInvertedFromDevice,[n,i]=[t.deltaX,-t.deltaY].map(e=>r?-e:e),a=Math.sign(Math.abs(n)>Math.abs(i)?n:i);e.increaseVolume(a/50);let{volume:o}=e.media;(1===a&&o<1||-1===a&&o>0)&&t.preventDefault()},"volume",!1)}),this.player=t,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.firstTouch=this.firstTouch.bind(this)}handleKey(e){var t;let{player:r}=this,{elements:n}=r,{key:i,type:a,altKey:o,ctrlKey:s,metaKey:l,shiftKey:u}=e,c="keydown"===a,d=c&&i===this.lastKey;if(!o&&!s&&!l&&!u&&i){if(c){let h=document.activeElement;if(S.element(h)){let{editable:p}=r.config.selectors,{seek:f}=n.inputs;if(h!==f&&Z(h,p)||" "===e.key&&Z(h,'button, [role^="menuitem"]'))return}switch([" ","ArrowLeft","ArrowUp","ArrowRight","ArrowDown","0","1","2","3","4","5","6","7","8","9","c","f","k","l","m"].includes(i)&&(e.preventDefault(),e.stopPropagation()),i){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":d||(t=parseInt(i,10),r.currentTime=r.duration/10*t);break;case" ":case"k":d||ei(r.togglePlay());break;case"ArrowUp":r.increaseVolume(.1);break;case"ArrowDown":r.decreaseVolume(.1);break;case"m":d||(r.muted=!r.muted);break;case"ArrowRight":r.forward();break;case"ArrowLeft":r.rewind();break;case"f":r.fullscreen.toggle();break;case"c":d||r.toggleCaptions();break;case"l":r.loop=!r.loop}"Escape"===i&&!r.fullscreen.usingNative&&r.fullscreen.active&&r.fullscreen.toggle(),this.lastKey=i}else this.lastKey=null}}toggleMenu(e){ej.toggleMenu.call(this.player,e)}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self&&self;var eH=(a=s={exports:{}},s.exports,a.exports=function(){var e=function(){},t={},r={},n={};function i(e,t){if(e){var i=n[e];if(r[e]=t,i)for(;i.length;)i[0](e,t),i.splice(0,1)}}function a(t,r){t.call&&(t={success:t}),r.length?(t.error||e)(r):(t.success||e)(t)}function o(r,n,o){var s,l;if(n&&n.trim&&(s=n),l=(s?o:n)||{},s){if(s in t)throw"LoadJS";t[s]=!0}function u(t,n){!function(t,r,n){var i,a,o=(t=t.push?t:[t]).length,s=o,l=[];for(i=function(e,t,n){if("e"==t&&l.push(e),"b"==t){if(!n)return;l.push(e)}--o||r(l)},a=0;a<s;a++)!function t(r,n,i,a){var o,s,l=document,u=i.async,c=(i.numRetries||0)+1,d=i.before||e,h=r.replace(/[\?|#].*$/,""),p=r.replace(/^(css|img)!/,"");a=a||0,/(^css!|\.css$)/.test(h)?((s=l.createElement("link")).rel="stylesheet",s.href=p,(o="hideFocus"in s)&&s.relList&&(o=0,s.rel="preload",s.as="style")):/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(h)?(s=l.createElement("img")).src=p:((s=l.createElement("script")).src=r,s.async=void 0===u||u),s.onload=s.onerror=s.onbeforeload=function(e){var l=e.type[0];if(o)try{s.sheet.cssText.length||(l="e")}catch(u){18!=u.code&&(l="e")}if("e"==l){if((a+=1)<c)return t(r,n,i,a)}else if("preload"==s.rel&&"style"==s.as)return s.rel="stylesheet";n(r,l,e.defaultPrevented)},!1!==d(r,s)&&l.head.appendChild(s)}(t[a],i,n)}(r,function(e){a(l,e),t&&a({success:t,error:n},e),i(s,e)},l)}if(l.returnPromise)return new Promise(u);u()}return o.ready=function(e,t){return function(e,t){e=e.push?e:[e];var i,a,o,s=[],l=e.length,u=l;for(i=function(e,r){r.length&&s.push(e),--u||t(s)};l--;)(o=r[a=e[l]])?i(a,o):(n[a]=n[a]||[]).push(i)}(e,function(e){a(t,e)}),o},o.done=function(e){i(e,[])},o.reset=function(){t={},r={},n={}},o.isDefined=function(e){return e in t},o}(),s.exports);function eV(e){return new Promise((t,r)=>{eH(e,{success:t,error:r})})}function eZ(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,et.call(this,this.media,e?"play":"pause"))}let ez={setup(){let e=this;H(e.elements.wrapper,e.config.classNames.embed,!0),e.options.speed=e.config.speed.options,eh.call(e),S.object(window.Vimeo)?ez.ready.call(e):eV(e.config.urls.vimeo.sdk).then(()=>{ez.ready.call(e)}).catch(t=>{e.debug.warn("Vimeo SDK (player.js) failed to load",t)})},ready(){var e;let t=this,r=t.config.vimeo,{premium:n,referrerPolicy:i,...a}=r,o=t.media.getAttribute("src"),s="";S.empty(o)?(o=t.media.getAttribute(t.config.attributes.embed.id),s=t.media.getAttribute(t.config.attributes.embed.hash)):s=function(e){let t=e.match(/^.*(vimeo.com\/|video\/)(\d+)(\?.*&*h=|\/)+([\d,a-f]+)/);return t&&5===t.length?t[4]:null}(o);let l=s?{h:s}:{};n&&Object.assign(a,{controls:!1,sidedock:!1});let u=eP({loop:t.config.loop.active,autoplay:t.autoplay,muted:t.muted,gesture:"media",playsinline:t.config.playsinline,...l,...a}),c=(e=o,S.empty(e)?null:S.number(Number(e))?e:e.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:e),d=A("iframe"),h=em(t.config.urls.vimeo.iframe,c,u);if(d.setAttribute("src",h),d.setAttribute("allowfullscreen",""),d.setAttribute("allow","autoplay; fullscreen; picture-in-picture; encrypted-media; accelerometer; gyroscope"),S.empty(i)||d.setAttribute("referrerPolicy",i),n||!r.customControls)d.setAttribute("data-poster",t.poster),t.media=F(d,t.media);else{let p=A("div",{class:t.config.classNames.embedContainer,"data-poster":t.poster});p.appendChild(d),t.media=F(p,t.media)}r.customControls||e_(em(t.config.urls.vimeo.api,h)).then(e=>{!S.empty(e)&&e.thumbnail_url&&eU.setPoster.call(t,e.thumbnail_url).catch(()=>{})}),t.embed=new window.Vimeo.Player(d,{autopause:t.config.autopause,muted:t.muted}),t.media.paused=!0,t.media.currentTime=0,t.supported.ui&&t.embed.disableTextTrack(),t.media.play=()=>(eZ.call(t,!0),t.embed.play()),t.media.pause=()=>(eZ.call(t,!1),t.embed.pause()),t.media.stop=()=>{t.pause(),t.currentTime=0};let{currentTime:f}=t.media;Object.defineProperty(t.media,"currentTime",{get:()=>f,set(e){let{embed:r,media:n,paused:i,volume:a}=t,o=i&&!r.hasPlayed;n.seeking=!0,et.call(t,n,"seeking"),Promise.resolve(o&&r.setVolume(0)).then(()=>r.setCurrentTime(e)).then(()=>o&&r.pause()).then(()=>o&&r.setVolume(a)).catch(()=>{})}});let m=t.config.speed.selected;Object.defineProperty(t.media,"playbackRate",{get:()=>m,set(e){t.embed.setPlaybackRate(e).then(()=>{m=e,et.call(t,t.media,"ratechange")}).catch(()=>{t.options.speed=[1]})}});let{volume:v}=t.config;Object.defineProperty(t.media,"volume",{get:()=>v,set(e){t.embed.setVolume(e).then(()=>{v=e,et.call(t,t.media,"volumechange")})}});let{muted:g}=t.config;Object.defineProperty(t.media,"muted",{get:()=>g,set(e){let r=!!S.boolean(e)&&e;t.embed.setMuted(!!r||t.config.muted).then(()=>{g=r,et.call(t,t.media,"volumechange")})}});let y,{loop:b}=t.config;Object.defineProperty(t.media,"loop",{get:()=>b,set(e){let r=S.boolean(e)?e:t.config.loop.active;t.embed.setLoop(r).then(()=>{b=r})}}),t.embed.getVideoUrl().then(e=>{y=e,ej.setDownloadUrl.call(t)}).catch(e=>{this.debug.warn(e)}),Object.defineProperty(t.media,"currentSrc",{get:()=>y}),Object.defineProperty(t.media,"ended",{get:()=>t.currentTime===t.duration}),Promise.all([t.embed.getVideoWidth(),t.embed.getVideoHeight()]).then(e=>{let[r,n]=e;t.embed.ratio=ep(r,n),eh.call(this)}),t.embed.setAutopause(t.config.autopause).then(e=>{t.config.autopause=e}),t.embed.getVideoTitle().then(e=>{t.config.title=e,eU.setTitle.call(this)}),t.embed.getCurrentTime().then(e=>{f=e,et.call(t,t.media,"timeupdate")}),t.embed.getDuration().then(e=>{t.media.duration=e,et.call(t,t.media,"durationchange")}),t.embed.getTextTracks().then(e=>{t.media.textTracks=e,eR.setup.call(t)}),t.embed.on("cuechange",({cues:e=[]})=>{let r=e.map(e=>(function(e){let t=document.createDocumentFragment(),r=document.createElement("div");return t.appendChild(r),r.innerHTML=e,t.firstChild.innerText})(e.text));eR.updateCues.call(t,r)}),t.embed.on("loaded",()=>{t.embed.getPaused().then(e=>{eZ.call(t,!e),e||et.call(t,t.media,"playing")}),S.element(t.embed.element)&&t.supported.ui&&t.embed.element.setAttribute("tabindex",-1)}),t.embed.on("bufferstart",()=>{et.call(t,t.media,"waiting")}),t.embed.on("bufferend",()=>{et.call(t,t.media,"playing")}),t.embed.on("play",()=>{eZ.call(t,!0),et.call(t,t.media,"playing")}),t.embed.on("pause",()=>{eZ.call(t,!1)}),t.embed.on("timeupdate",e=>{t.media.seeking=!1,f=e.seconds,et.call(t,t.media,"timeupdate")}),t.embed.on("progress",e=>{t.media.buffered=e.percent,et.call(t,t.media,"progress"),1===parseInt(e.percent,10)&&et.call(t,t.media,"canplaythrough"),t.embed.getDuration().then(e=>{e!==t.media.duration&&(t.media.duration=e,et.call(t,t.media,"durationchange"))})}),t.embed.on("seeked",()=>{t.media.seeking=!1,et.call(t,t.media,"seeked")}),t.embed.on("ended",()=>{t.media.paused=!0,et.call(t,t.media,"ended")}),t.embed.on("error",e=>{t.media.error=e,et.call(t,t.media,"error")}),r.customControls&&setTimeout(()=>eU.build.call(t),0)}};function e$(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,et.call(this,this.media,e?"play":"pause"))}let eW={setup(){if(H(this.elements.wrapper,this.config.classNames.embed,!0),S.object(window.YT)&&S.function(window.YT.Player))eW.ready.call(this);else{let e=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{S.function(e)&&e(),eW.ready.call(this)},eV(this.config.urls.youtube.sdk).catch(e=>{this.debug.warn("YouTube API failed to load",e)})}},getTitle(e){e_(em(this.config.urls.youtube.api,e)).then(e=>{if(S.object(e)){let{title:t,height:r,width:n}=e;this.config.title=t,eU.setTitle.call(this),this.embed.ratio=ep(n,r)}eh.call(this)}).catch(()=>{eh.call(this)})},ready(){var e;let t=this,r=t.config.youtube,n=t.media&&t.media.getAttribute("id");if(!S.empty(n)&&n.startsWith("youtube-"))return;let i=t.media.getAttribute("src");S.empty(i)&&(i=t.media.getAttribute(this.config.attributes.embed.id));let a=(e=i,S.empty(e)?null:e.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:e),o=A("div",{id:`${t.provider}-${Math.floor(1e4*Math.random())}`,"data-poster":r.customControls?t.poster:void 0});if(t.media=F(o,t.media),r.customControls){let s=e=>`https://i.ytimg.com/vi/${a}/${e}default.jpg`;eF(s("maxres"),121).catch(()=>eF(s("sd"),121)).catch(()=>eF(s("hq"))).then(e=>eU.setPoster.call(t,e.src)).then(e=>{e.includes("maxres")||(t.elements.poster.style.backgroundSize="cover")}).catch(()=>{})}t.embed=new window.YT.Player(t.media,{videoId:a,host:r.noCookie?"https://www.youtube-nocookie.com":"http:"===window.location.protocol?"http://www.youtube.com":void 0,playerVars:I({},{autoplay:t.config.autoplay?1:0,hl:t.config.hl,controls:t.supported.ui&&r.customControls?0:1,disablekb:1,playsinline:t.config.playsinline&&!t.config.fullscreen.iosNative?1:0,cc_load_policy:t.captions.active?1:0,cc_lang_pref:t.config.captions.language,widget_referrer:window?window.location.href:null},r),events:{onError(e){if(!t.media.error){let r=e.data;t.media.error={code:r,message:({2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."})[r]||"An unknown error occurred"},et.call(t,t.media,"error")}},onPlaybackRateChange(e){let r=e.target;t.media.playbackRate=r.getPlaybackRate(),et.call(t,t.media,"ratechange")},onReady(e){if(S.function(t.media.play))return;let n=e.target;eW.getTitle.call(t,a),t.media.play=()=>{e$.call(t,!0),n.playVideo()},t.media.pause=()=>{e$.call(t,!1),n.pauseVideo()},t.media.stop=()=>{n.stopVideo()},t.media.duration=n.getDuration(),t.media.paused=!0,t.media.currentTime=0,Object.defineProperty(t.media,"currentTime",{get:()=>Number(n.getCurrentTime()),set(e){t.paused&&!t.embed.hasPlayed&&t.embed.mute(),t.media.seeking=!0,et.call(t,t.media,"seeking"),n.seekTo(e)}}),Object.defineProperty(t.media,"playbackRate",{get:()=>n.getPlaybackRate(),set(e){n.setPlaybackRate(e)}});let{volume:i}=t.config;Object.defineProperty(t.media,"volume",{get:()=>i,set(e){i=e,n.setVolume(100*i),et.call(t,t.media,"volumechange")}});let{muted:o}=t.config;Object.defineProperty(t.media,"muted",{get:()=>o,set(e){let r=S.boolean(e)?e:o;o=r,n[r?"mute":"unMute"](),n.setVolume(100*i),et.call(t,t.media,"volumechange")}}),Object.defineProperty(t.media,"currentSrc",{get:()=>n.getVideoUrl()}),Object.defineProperty(t.media,"ended",{get:()=>t.currentTime===t.duration});let s=n.getAvailablePlaybackRates();t.options.speed=s.filter(e=>t.config.speed.options.includes(e)),t.supported.ui&&r.customControls&&t.media.setAttribute("tabindex",-1),et.call(t,t.media,"timeupdate"),et.call(t,t.media,"durationchange"),clearInterval(t.timers.buffering),t.timers.buffering=setInterval(()=>{t.media.buffered=n.getVideoLoadedFraction(),(null===t.media.lastBuffered||t.media.lastBuffered<t.media.buffered)&&et.call(t,t.media,"progress"),t.media.lastBuffered=t.media.buffered,1===t.media.buffered&&(clearInterval(t.timers.buffering),et.call(t,t.media,"canplaythrough"))},200),r.customControls&&setTimeout(()=>eU.build.call(t),50)},onStateChange(e){let n=e.target;switch(clearInterval(t.timers.playing),t.media.seeking&&[1,2].includes(e.data)&&(t.media.seeking=!1,et.call(t,t.media,"seeked")),e.data){case -1:et.call(t,t.media,"timeupdate"),t.media.buffered=n.getVideoLoadedFraction(),et.call(t,t.media,"progress");break;case 0:e$.call(t,!1),t.media.loop?(n.stopVideo(),n.playVideo()):et.call(t,t.media,"ended");break;case 1:r.customControls&&!t.config.autoplay&&t.media.paused&&!t.embed.hasPlayed?t.media.pause():(e$.call(t,!0),et.call(t,t.media,"playing"),t.timers.playing=setInterval(()=>{et.call(t,t.media,"timeupdate")},50),t.media.duration!==n.getDuration()&&(t.media.duration=n.getDuration(),et.call(t,t.media,"durationchange")));break;case 2:t.muted||t.embed.unMute(),e$.call(t,!1);break;case 3:et.call(t,t.media,"waiting")}et.call(t,t.elements.container,"statechange",!1,{code:e.data})}}})}},eQ={setup(){this.media?(H(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),H(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&H(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=A("div",{class:this.config.classNames.video}),M(this.media,this.elements.wrapper),this.elements.poster=A("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?ef.setup.call(this):this.isYouTube?eW.setup.call(this):this.isVimeo&&ez.setup.call(this)):this.debug.warn("No media element found!")}};class eG{constructor(t){e(this,"load",()=>{this.enabled&&(S.object(window.google)&&S.object(window.google.ima)?this.ready():eV(this.player.config.urls.googleIMA.sdk).then(()=>{this.ready()}).catch(()=>{this.trigger("error",Error("Google IMA SDK failed to load"))}))}),e(this,"ready",()=>{this.enabled||(this.manager&&this.manager.destroy(),this.elements.displayContainer&&this.elements.displayContainer.destroy(),this.elements.container.remove()),this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(()=>{this.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}),e(this,"setupIMA",()=>{this.elements.container=A("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(this.player.config.playsinline),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container,this.player.media),this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,e=>this.onAdsManagerLoaded(e),!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,e=>this.onAdError(e),!1),this.requestAds()}),e(this,"requestAds",()=>{let{container:e}=this.player.elements;try{let t=new google.ima.AdsRequest;t.adTagUrl=this.tagUrl,t.linearAdSlotWidth=e.offsetWidth,t.linearAdSlotHeight=e.offsetHeight,t.nonLinearAdSlotWidth=e.offsetWidth,t.nonLinearAdSlotHeight=e.offsetHeight,t.forceNonLinearFullSlot=!1,t.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(t)}catch(r){this.onAdError(r)}}),e(this,"pollCountdown",(e=!1)=>{if(!e)return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(()=>{let e=eS(Math.max(this.manager.getRemainingTime(),0)),t=`${ew.get("advertisement",this.player.config)} - ${e}`;this.elements.container.setAttribute("data-badge-text",t)},100)}),e(this,"onAdsManagerLoaded",e=>{if(!this.enabled)return;let t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,t.enablePreloading=!0,this.manager=e.getAdsManager(this.player,t),this.cuePoints=this.manager.getCuePoints(),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,e=>this.onAdError(e)),Object.keys(google.ima.AdEvent.Type).forEach(e=>{this.manager.addEventListener(google.ima.AdEvent.Type[e],e=>this.onAdEvent(e))}),this.trigger("loaded")}),e(this,"addCuePoints",()=>{S.empty(this.cuePoints)||this.cuePoints.forEach(e=>{if(0!==e&&-1!==e&&e<this.player.duration){let t=this.player.elements.progress;if(S.element(t)){let r=100/this.player.duration*e,n=A("span",{class:this.player.config.classNames.cues});n.style.left=`${r.toString()}%`,t.appendChild(n)}}})}),e(this,"onAdEvent",e=>{let{container:t}=this.player.elements,r=e.getAd(),n=e.getAdData();switch((e=>{et.call(this.player,this.player.media,`ads${e.replace(/_/g,"").toLowerCase()}`)})(e.type),e.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),this.pollCountdown(!0),r.isLinear()||(r.width=t.offsetWidth,r.height=t.offsetHeight);break;case google.ima.AdEvent.Type.STARTED:this.manager.setVolume(this.player.volume);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.player.ended?this.loadAds():this.loader.contentComplete();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.LOG:n.adError&&this.player.debug.warn(`Non-fatal ad error: ${n.adError.getMessage()}`)}}),e(this,"onAdError",e=>{this.cancel(),this.player.debug.warn("Ads error",e)}),e(this,"listeners",()=>{let e;let{container:t}=this.player.elements;this.player.on("canplay",()=>{this.addCuePoints()}),this.player.on("ended",()=>{this.loader.contentComplete()}),this.player.on("timeupdate",()=>{e=this.player.currentTime}),this.player.on("seeked",()=>{let t=this.player.currentTime;S.empty(this.cuePoints)||this.cuePoints.forEach((r,n)=>{e<r&&r<t&&(this.manager.discardAdBreak(),this.cuePoints.splice(n,1))})}),window.addEventListener("resize",()=>{this.manager&&this.manager.resize(t.offsetWidth,t.offsetHeight,google.ima.ViewMode.NORMAL)})}),e(this,"play",()=>{let{container:e}=this.player.elements;this.managerPromise||this.resumeContent(),this.managerPromise.then(()=>{this.manager.setVolume(this.player.volume),this.elements.displayContainer.initialize();try{this.initialized||(this.manager.init(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL),this.manager.start()),this.initialized=!0}catch(t){this.onAdError(t)}}).catch(()=>{})}),e(this,"resumeContent",()=>{this.elements.container.style.zIndex="",this.playing=!1,ei(this.player.media.play())}),e(this,"pauseContent",()=>{this.elements.container.style.zIndex=3,this.playing=!0,this.player.media.pause()}),e(this,"cancel",()=>{this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}),e(this,"loadAds",()=>{this.managerPromise.then(()=>{this.manager&&this.manager.destroy(),this.managerPromise=new Promise(e=>{this.on("loaded",e),this.player.debug.log(this.manager)}),this.initialized=!1,this.requestAds()}).catch(()=>{})}),e(this,"trigger",(e,...t)=>{let r=this.events[e];S.array(r)&&r.forEach(e=>{S.function(e)&&e.apply(this,t)})}),e(this,"on",(e,t)=>(S.array(this.events[e])||(this.events[e]=[]),this.events[e].push(t),this)),e(this,"startSafetyTimer",(e,t)=>{this.player.debug.log(`Safety timer invoked from: ${t}`),this.safetyTimer=setTimeout(()=>{this.cancel(),this.clearSafetyTimer("startSafetyTimer()")},e)}),e(this,"clearSafetyTimer",e=>{S.nullOrUndefined(this.safetyTimer)||(this.player.debug.log(`Safety timer cleared from: ${e}`),clearTimeout(this.safetyTimer),this.safetyTimer=null)}),this.player=t,this.config=t.config.ads,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise((e,t)=>{this.on("loaded",e),this.on("error",t)}),this.load()}get enabled(){let{config:e}=this;return this.player.isHTML5&&this.player.isVideo&&e.enabled&&(!S.empty(e.publisherId)||S.url(e.tagUrl))}get tagUrl(){let{config:e}=this;return S.url(e.tagUrl)?e.tagUrl:`https://go.aniview.com/api/adserver6/vast/?${eP({AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:e.publisherId})}`}}function eK(e=0,t=0,r=255){return Math.min(Math.max(e,t),r)}let eY=e=>{let t=[];return e.split(/\r\n\r\n|\n\n|\r\r/).forEach(e=>{let r={};e.split(/\r\n|\n|\r/).forEach(e=>{if(S.number(r.startTime)){if(!S.empty(e.trim())&&S.empty(r.text)){let t=e.trim().split("#xywh=");[r.text]=t,t[1]&&([r.x,r.y,r.w,r.h]=t[1].split(","))}}else{let n=e.match(/([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})( ?--> ?)([0-9]{2})?:?([0-9]{2}):([0-9]{2}).([0-9]{2,3})/);n&&(r.startTime=60*Number(n[1]||0)*60+60*Number(n[2])+Number(n[3])+Number(`0.${n[4]}`),r.endTime=60*Number(n[6]||0)*60+60*Number(n[7])+Number(n[8])+Number(`0.${n[9]}`))}}),r.text&&t.push(r)}),t},eJ=(e,t)=>{let r={};return e>t.width/t.height?(r.width=t.width,r.height=1/e*t.width):(r.height=t.height,r.width=e*t.height),r};class eX{constructor(t){e(this,"load",()=>{this.player.elements.display.seekTooltip&&(this.player.elements.display.seekTooltip.hidden=this.enabled),this.enabled&&this.getThumbnails().then(()=>{this.enabled&&(this.render(),this.determineContainerAutoSizing(),this.listeners(),this.loaded=!0)})}),e(this,"getThumbnails",()=>new Promise(e=>{let{src:t}=this.player.config.previewThumbnails;if(S.empty(t))throw Error("Missing previewThumbnails.src config attribute");let r=()=>{this.thumbnails.sort((e,t)=>e.height-t.height),this.player.debug.log("Preview thumbnails",this.thumbnails),e()};if(S.function(t))t(e=>{this.thumbnails=e,r()});else{let n=(S.string(t)?[t]:t).map(e=>this.getThumbnail(e));Promise.all(n).then(r)}})),e(this,"getThumbnail",e=>new Promise(t=>{e_(e).then(r=>{let n={frames:eY(r),height:null,urlPrefix:""};n.frames[0].text.startsWith("/")||n.frames[0].text.startsWith("http://")||n.frames[0].text.startsWith("https://")||(n.urlPrefix=e.substring(0,e.lastIndexOf("/")+1));let i=new Image;i.onload=()=>{n.height=i.naturalHeight,n.width=i.naturalWidth,this.thumbnails.push(n),t()},i.src=n.urlPrefix+n.frames[0].text})})),e(this,"startMove",e=>{if(this.loaded&&S.event(e)&&["touchmove","mousemove"].includes(e.type)&&this.player.media.duration){if("touchmove"===e.type)this.seekTime=this.player.media.duration*(this.player.elements.inputs.seek.value/100);else{var t,r;let n=this.player.elements.progress.getBoundingClientRect(),i=100/n.width*(e.pageX-n.left);this.seekTime=this.player.media.duration*(i/100),this.seekTime<0&&(this.seekTime=0),this.seekTime>this.player.media.duration-1&&(this.seekTime=this.player.media.duration-1),this.mousePosX=e.pageX,this.elements.thumb.time.innerText=eS(this.seekTime);let a=null===(t=this.player.config.markers)||void 0===t||null===(r=t.points)||void 0===r?void 0:r.find(({time:e})=>e===Math.round(this.seekTime));a&&this.elements.thumb.time.insertAdjacentHTML("afterbegin",`${a.label}<br>`)}this.showImageAtCurrentTime()}}),e(this,"endMove",()=>{this.toggleThumbContainer(!1,!0)}),e(this,"startScrubbing",e=>{(S.nullOrUndefined(e.button)||!1===e.button||0===e.button)&&(this.mouseDown=!0,this.player.media.duration&&(this.toggleScrubbingContainer(!0),this.toggleThumbContainer(!1,!0),this.showImageAtCurrentTime()))}),e(this,"endScrubbing",()=>{this.mouseDown=!1,Math.ceil(this.lastTime)===Math.ceil(this.player.media.currentTime)?this.toggleScrubbingContainer(!1):ee.call(this.player,this.player.media,"timeupdate",()=>{this.mouseDown||this.toggleScrubbingContainer(!1)})}),e(this,"listeners",()=>{this.player.on("play",()=>{this.toggleThumbContainer(!1,!0)}),this.player.on("seeked",()=>{this.toggleThumbContainer(!1)}),this.player.on("timeupdate",()=>{this.lastTime=this.player.media.currentTime})}),e(this,"render",()=>{this.elements.thumb.container=A("div",{class:this.player.config.classNames.previewThumbnails.thumbContainer}),this.elements.thumb.imageContainer=A("div",{class:this.player.config.classNames.previewThumbnails.imageContainer}),this.elements.thumb.container.appendChild(this.elements.thumb.imageContainer);let e=A("div",{class:this.player.config.classNames.previewThumbnails.timeContainer});this.elements.thumb.time=A("span",{},"00:00"),e.appendChild(this.elements.thumb.time),this.elements.thumb.imageContainer.appendChild(e),S.element(this.player.elements.progress)&&this.player.elements.progress.appendChild(this.elements.thumb.container),this.elements.scrubbing.container=A("div",{class:this.player.config.classNames.previewThumbnails.scrubbingContainer}),this.player.elements.wrapper.appendChild(this.elements.scrubbing.container)}),e(this,"destroy",()=>{this.elements.thumb.container&&this.elements.thumb.container.remove(),this.elements.scrubbing.container&&this.elements.scrubbing.container.remove()}),e(this,"showImageAtCurrentTime",()=>{this.mouseDown?this.setScrubbingContainerSize():this.setThumbContainerSizeAndPos();let e=this.thumbnails[0].frames.findIndex(e=>this.seekTime>=e.startTime&&this.seekTime<=e.endTime),t=e>=0,r=0;this.mouseDown||this.toggleThumbContainer(t),t&&(this.thumbnails.forEach((t,n)=>{this.loadedImages.includes(t.frames[e].text)&&(r=n)}),e!==this.showingThumb&&(this.showingThumb=e,this.loadImage(r)))}),e(this,"loadImage",(e=0)=>{let t=this.showingThumb,r=this.thumbnails[e],{urlPrefix:n}=r,i=r.frames[t],a=r.frames[t].text,o=n+a;if(this.currentImageElement&&this.currentImageElement.dataset.filename===a)this.showImage(this.currentImageElement,i,e,t,a,!1),this.currentImageElement.dataset.index=t,this.removeOldImages(this.currentImageElement);else{this.loadingImage&&this.usingSprites&&(this.loadingImage.onload=null);let s=new Image;s.src=o,s.dataset.index=t,s.dataset.filename=a,this.showingThumbFilename=a,this.player.debug.log(`Loading image: ${o}`),s.onload=()=>this.showImage(s,i,e,t,a,!0),this.loadingImage=s,this.removeOldImages(s)}}),e(this,"showImage",(e,t,r,n,i,a=!0)=>{this.player.debug.log(`Showing thumb: ${i}. num: ${n}. qual: ${r}. newimg: ${a}`),this.setImageSizeAndOffset(e,t),a&&(this.currentImageContainer.appendChild(e),this.currentImageElement=e,this.loadedImages.includes(i)||this.loadedImages.push(i)),this.preloadNearby(n,!0).then(this.preloadNearby(n,!1)).then(this.getHigherQuality(r,e,t,i))}),e(this,"removeOldImages",e=>{Array.from(this.currentImageContainer.children).forEach(t=>{if("img"!==t.tagName.toLowerCase())return;let r=this.usingSprites?500:1e3;if(t.dataset.index!==e.dataset.index&&!t.dataset.deleting){t.dataset.deleting=!0;let{currentImageContainer:n}=this;setTimeout(()=>{n.removeChild(t),this.player.debug.log(`Removing thumb: ${t.dataset.filename}`)},r)}})}),e(this,"preloadNearby",(e,t=!0)=>new Promise(r=>{setTimeout(()=>{let n=this.thumbnails[0].frames[e].text;if(this.showingThumbFilename===n){let i;i=t?this.thumbnails[0].frames.slice(e):this.thumbnails[0].frames.slice(0,e).reverse();let a=!1;i.forEach(e=>{let t=e.text;if(t!==n&&!this.loadedImages.includes(t)){a=!0,this.player.debug.log(`Preloading thumb filename: ${t}`);let{urlPrefix:i}=this.thumbnails[0],o=new Image;o.src=i+t,o.onload=()=>{this.player.debug.log(`Preloaded thumb filename: ${t}`),this.loadedImages.includes(t)||this.loadedImages.push(t),r()}}}),a||r()}},300)})),e(this,"getHigherQuality",(e,t,r,n)=>{if(e<this.thumbnails.length-1){let i=t.naturalHeight;this.usingSprites&&(i=r.h),i<this.thumbContainerHeight&&setTimeout(()=>{this.showingThumbFilename===n&&(this.player.debug.log(`Showing higher quality thumb for: ${n}`),this.loadImage(e+1))},300)}}),e(this,"toggleThumbContainer",(e=!1,t=!1)=>{let r=this.player.config.classNames.previewThumbnails.thumbContainerShown;this.elements.thumb.container.classList.toggle(r,e),!e&&t&&(this.showingThumb=null,this.showingThumbFilename=null)}),e(this,"toggleScrubbingContainer",(e=!1)=>{let t=this.player.config.classNames.previewThumbnails.scrubbingContainerShown;this.elements.scrubbing.container.classList.toggle(t,e),e||(this.showingThumb=null,this.showingThumbFilename=null)}),e(this,"determineContainerAutoSizing",()=>{(this.elements.thumb.imageContainer.clientHeight>20||this.elements.thumb.imageContainer.clientWidth>20)&&(this.sizeSpecifiedInCSS=!0)}),e(this,"setThumbContainerSizeAndPos",()=>{let{imageContainer:e}=this.elements.thumb;if(this.sizeSpecifiedInCSS){if(e.clientHeight>20&&e.clientWidth<20){let t=Math.floor(e.clientHeight*this.thumbAspectRatio);e.style.width=`${t}px`}else if(e.clientHeight<20&&e.clientWidth>20){let r=Math.floor(e.clientWidth/this.thumbAspectRatio);e.style.height=`${r}px`}}else{let n=Math.floor(this.thumbContainerHeight*this.thumbAspectRatio);e.style.height=`${this.thumbContainerHeight}px`,e.style.width=`${n}px`}this.setThumbContainerPos()}),e(this,"setThumbContainerPos",()=>{let e=this.player.elements.progress.getBoundingClientRect(),t=this.player.elements.container.getBoundingClientRect(),{container:r}=this.elements.thumb,n=t.left-e.left+10,i=t.right-e.left-r.clientWidth-10,a=this.mousePosX-e.left-r.clientWidth/2,o=eK(a,n,i);r.style.left=`${o}px`,r.style.setProperty("--preview-arrow-offset",a-o+"px")}),e(this,"setScrubbingContainerSize",()=>{let{width:e,height:t}=eJ(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});this.elements.scrubbing.container.style.width=`${e}px`,this.elements.scrubbing.container.style.height=`${t}px`}),e(this,"setImageSizeAndOffset",(e,t)=>{if(!this.usingSprites)return;let r=this.thumbContainerHeight/t.h;e.style.height=e.naturalHeight*r+"px",e.style.width=e.naturalWidth*r+"px",e.style.left=`-${t.x*r}px`,e.style.top=`-${t.y*r}px`}),this.player=t,this.thumbnails=[],this.loaded=!1,this.lastMouseMoveTime=Date.now(),this.mouseDown=!1,this.loadedImages=[],this.elements={thumb:{},scrubbing:{}},this.load()}get enabled(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.previewThumbnails.enabled}get currentImageContainer(){return this.mouseDown?this.elements.scrubbing.container:this.elements.thumb.imageContainer}get usingSprites(){return Object.keys(this.thumbnails[0].frames[0]).includes("w")}get thumbAspectRatio(){return this.usingSprites?this.thumbnails[0].frames[0].w/this.thumbnails[0].frames[0].h:this.thumbnails[0].width/this.thumbnails[0].height}get thumbContainerHeight(){if(this.mouseDown){let{height:e}=eJ(this.thumbAspectRatio,{width:this.player.media.clientWidth,height:this.player.media.clientHeight});return e}return this.sizeSpecifiedInCSS?this.elements.thumb.imageContainer.clientHeight:Math.floor(this.player.media.clientWidth/this.thumbAspectRatio/4)}get currentImageElement(){return this.mouseDown?this.currentScrubbingImageElement:this.currentThumbnailImageElement}set currentImageElement(e){this.mouseDown?this.currentScrubbingImageElement=e:this.currentThumbnailImageElement=e}}let e0={insertElements(e,t){S.string(t)?N(e,this.media,{src:t}):S.array(t)&&t.forEach(t=>{N(e,this.media,t)})},change(e){R(e,"sources.length")?(ef.cancelRequests.call(this),this.destroy.call(this,()=>{this.options.quality=[],D(this.media),this.media=null,S.element(this.elements.container)&&this.elements.container.removeAttribute("class");let{sources:t,type:r}=e,[{provider:n=eO.html5,src:i}]=t;Object.assign(this,{provider:n,type:r,supported:G.check(r,n,this.config.playsinline),media:A("html5"===n?r:"div","html5"===n?{}:{src:i})}),this.elements.container.appendChild(this.media),S.boolean(e.autoplay)&&(this.config.autoplay=e.autoplay),this.isHTML5&&(this.config.crossorigin&&this.media.setAttribute("crossorigin",""),this.config.autoplay&&this.media.setAttribute("autoplay",""),S.empty(e.poster)||(this.poster=e.poster),this.config.loop.active&&this.media.setAttribute("loop",""),this.config.muted&&this.media.setAttribute("muted",""),this.config.playsinline&&this.media.setAttribute("playsinline","")),eU.addStyleHook.call(this),this.isHTML5&&e0.insertElements.call(this,"source",t),this.config.title=e.title,eQ.setup.call(this),this.isHTML5&&Object.keys(e).includes("tracks")&&e0.insertElements.call(this,"track",e.tracks),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&eU.build.call(this),this.isHTML5&&this.media.load(),S.empty(e.previewThumbnails)||(Object.assign(this.config.previewThumbnails,e.previewThumbnails),this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new eX(this))),this.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}};class e1{constructor(t,r){if(e(this,"play",()=>S.function(this.media.play)?(this.ads&&this.ads.enabled&&this.ads.managerPromise.then(()=>this.ads.play()).catch(()=>ei(this.media.play())),this.media.play()):null),e(this,"pause",()=>this.playing&&S.function(this.media.pause)?this.media.pause():null),e(this,"togglePlay",e=>(S.boolean(e)?e:!this.playing)?this.play():this.pause()),e(this,"stop",()=>{this.isHTML5?(this.pause(),this.restart()):S.function(this.media.stop)&&this.media.stop()}),e(this,"restart",()=>{this.currentTime=0}),e(this,"rewind",e=>{this.currentTime-=S.number(e)?e:this.config.seekTime}),e(this,"forward",e=>{this.currentTime+=S.number(e)?e:this.config.seekTime}),e(this,"increaseVolume",e=>{let t=this.media.muted?0:this.volume;this.volume=t+(S.number(e)?e:0)}),e(this,"decreaseVolume",e=>{this.increaseVolume(-e)}),e(this,"airplay",()=>{G.airplay&&this.media.webkitShowPlaybackTargetPicker()}),e(this,"toggleControls",e=>{if(this.supported.ui&&!this.isAudio){let t=V(this.elements.container,this.config.classNames.hideControls),r=H(this.elements.container,this.config.classNames.hideControls,void 0===e?void 0:!e);return r&&S.array(this.config.controls)&&this.config.controls.includes("settings")&&!S.empty(this.config.settings)&&ej.toggleMenu.call(this,!1),r!==t&&et.call(this,this.media,r?"controlshidden":"controlsshown"),!r}return!1}),e(this,"on",(e,t)=>{J.call(this,this.elements.container,e,t)}),e(this,"once",(e,t)=>{ee.call(this,this.elements.container,e,t)}),e(this,"off",(e,t)=>{X(this.elements.container,e,t)}),e(this,"destroy",(e,t=!1)=>{if(!this.ready)return;let r=()=>{document.body.style.overflow="",this.embed=null,t?(Object.keys(this.elements).length&&(D(this.elements.buttons.play),D(this.elements.captions),D(this.elements.controls),D(this.elements.wrapper),this.elements.buttons.play=null,this.elements.captions=null,this.elements.controls=null,this.elements.wrapper=null),S.function(e)&&e()):(er.call(this),ef.cancelRequests.call(this),F(this.elements.original,this.elements.container),et.call(this,this.elements.original,"destroyed",!0),S.function(e)&&e.call(this.elements.original),this.ready=!1,setTimeout(()=>{this.elements=null,this.media=null},200))};this.stop(),clearTimeout(this.timers.loading),clearTimeout(this.timers.controls),clearTimeout(this.timers.resized),this.isHTML5?(eU.toggleNativeControls.call(this,!0),r()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&S.function(this.embed.destroy)&&this.embed.destroy(),r()):this.isVimeo&&(null!==this.embed&&this.embed.unload().then(r),setTimeout(r,200))}),e(this,"supports",e=>G.mime.call(this,e)),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=G.touch,this.media=t,S.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||S.nodeList(this.media)||S.array(this.media))&&(this.media=this.media[0]),this.config=I({},eI,e1.defaults,r||{},(()=>{try{return JSON.parse(this.media.getAttribute("data-plyr-config"))}catch(e){return{}}})()),this.elements={container:null,fullscreen:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new eD(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",G),S.nullOrUndefined(this.media)||!S.element(this.media))return void this.debug.error("Setup failed: no suitable element passed");if(this.media.plyr)return void this.debug.warn("Target already setup");if(!this.config.enabled)return void this.debug.error("Setup failed: disabled by config");if(!G.check().api)return void this.debug.error("Setup failed: no support");let n=this.media.cloneNode(!0);n.autoplay=!1,this.elements.original=n;let i=this.media.tagName.toLowerCase(),a=null,o=null;switch(i){case"div":if(a=this.media.querySelector("iframe"),S.element(a)){var s;if(o=eL(a.getAttribute("src")),this.provider=(s=o.toString(),/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(s)?eO.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(s)?eO.vimeo:null),this.elements.container=this.media,this.media=a,this.elements.container.className="",o.search.length){let l=["1","true"];l.includes(o.searchParams.get("autoplay"))&&(this.config.autoplay=!0),l.includes(o.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=l.includes(o.searchParams.get("playsinline")),this.config.youtube.hl=o.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(S.empty(this.provider)||!Object.values(eO).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=eA;break;case"video":case"audio":this.type=i,this.provider=eO.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=G.check(this.type,this.provider),this.supported.api?(this.eventListeners=[],this.listeners=new eB(this),this.storage=new ex(this),this.media.plyr=this,S.element(this.elements.container)||(this.elements.container=A("div"),M(this.media,this.elements.container)),eU.migrateStyles.call(this),eU.addStyleHook.call(this),eQ.setup.call(this),this.config.debug&&J.call(this,this.elements.container,this.config.events.join(" "),e=>{this.debug.log(`event: ${e.type}`)}),this.fullscreen=new eq(this),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&eU.build.call(this),this.listeners.container(),this.listeners.global(),this.config.ads.enabled&&(this.ads=new eG(this)),this.isHTML5&&this.config.autoplay&&this.once("canplay",()=>ei(this.play())),this.lastSeekTime=0,this.config.previewThumbnails.enabled&&(this.previewThumbnails=new eX(this))):this.debug.error("Setup failed: no support")}get isHTML5(){return this.provider===eO.html5}get isEmbed(){return this.isYouTube||this.isVimeo}get isYouTube(){return this.provider===eO.youtube}get isVimeo(){return this.provider===eO.vimeo}get isVideo(){return this.type===eA}get isAudio(){return"audio"===this.type}get playing(){return Boolean(this.ready&&!this.paused&&!this.ended)}get paused(){return Boolean(this.media.paused)}get stopped(){return Boolean(this.paused&&0===this.currentTime)}get ended(){return Boolean(this.media.ended)}set currentTime(e){if(!this.duration)return;let t=S.number(e)&&e>0;this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log(`Seeking to ${this.currentTime} seconds`)}get currentTime(){return Number(this.media.currentTime)}get buffered(){let{buffered:e}=this.media;return S.number(e)?e:e&&e.length&&this.duration>0?e.end(0)/this.duration:0}get seeking(){return Boolean(this.media.seeking)}get duration(){let e=parseFloat(this.config.duration),t=(this.media||{}).duration,r=S.number(t)&&t!==1/0?t:0;return e||r}set volume(e){let t=e;S.string(t)&&(t=Number(t)),S.number(t)||(t=this.storage.get("volume")),S.number(t)||({volume:t}=this.config),t>1&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!S.empty(e)&&this.muted&&t>0&&(this.muted=!1)}get volume(){return Number(this.media.volume)}set muted(e){let t=e;S.boolean(t)||(t=this.storage.get("muted")),S.boolean(t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t}get muted(){return Boolean(this.media.muted)}get hasAudio(){return!this.isHTML5||!!this.isAudio||Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)}set speed(e){let t=null;S.number(e)&&(t=e),S.number(t)||(t=this.storage.get("speed")),S.number(t)||(t=this.config.speed.selected);let{minimumSpeed:r,maximumSpeed:n}=this;t=eK(t,r,n),this.config.speed.selected=t,setTimeout(()=>{this.media&&(this.media.playbackRate=t)},0)}get speed(){return Number(this.media.playbackRate)}get minimumSpeed(){return this.isYouTube?Math.min(...this.options.speed):this.isVimeo?.5:.0625}get maximumSpeed(){return this.isYouTube?Math.max(...this.options.speed):this.isVimeo?2:16}set quality(e){let t=this.config.quality,r=this.options.quality;if(!r.length)return;let n=[!S.empty(e)&&Number(e),this.storage.get("quality"),t.selected,t.default].find(S.number),i=!0;if(!r.includes(n)){let a=eo(r,n);this.debug.warn(`Unsupported quality option: ${n}, using ${a} instead`),n=a,i=!1}t.selected=n,this.media.quality=n,i&&this.storage.set({quality:n})}get quality(){return this.media.quality}set loop(e){let t=S.boolean(e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t}get loop(){return Boolean(this.media.loop)}set source(e){e0.change.call(this,e)}get source(){return this.media.currentSrc}get download(){let{download:e}=this.config.urls;return S.url(e)?e:this.source}set download(e){S.url(e)&&(this.config.urls.download=e,ej.setDownloadUrl.call(this))}set poster(e){this.isVideo?eU.setPoster.call(this,e,!1).catch(()=>{}):this.debug.warn("Poster can only be set for video")}get poster(){return this.isVideo?this.media.getAttribute("poster")||this.media.getAttribute("data-poster"):null}get ratio(){if(!this.isVideo)return null;let e=ec(ed.call(this));return S.array(e)?e.join(":"):e}set ratio(e){this.isVideo?S.string(e)&&eu(e)?(this.config.ratio=ec(e),eh.call(this)):this.debug.error(`Invalid aspect ratio specified (${e})`):this.debug.warn("Aspect ratio can only be set for video")}set autoplay(e){this.config.autoplay=S.boolean(e)?e:this.config.autoplay}get autoplay(){return Boolean(this.config.autoplay)}toggleCaptions(e){eR.toggle.call(this,e,!1)}set currentTrack(e){eR.set.call(this,e,!1),eR.setup.call(this)}get currentTrack(){let{toggled:e,currentTrack:t}=this.captions;return e?t:-1}set language(e){eR.setLanguage.call(this,e,!1)}get language(){return(eR.getCurrentTrack.call(this)||{}).language}set pip(e){if(!G.pip)return;let t=S.boolean(e)?e:!this.pip;S.function(this.media.webkitSetPresentationMode)&&this.media.webkitSetPresentationMode(t?eM:"inline"),S.function(this.media.requestPictureInPicture)&&(!this.pip&&t?this.media.requestPictureInPicture():this.pip&&!t&&document.exitPictureInPicture())}get pip(){return G.pip?S.empty(this.media.webkitPresentationMode)?this.media===document.pictureInPictureElement:this.media.webkitPresentationMode===eM:null}setPreviewThumbnails(e){this.previewThumbnails&&this.previewThumbnails.loaded&&(this.previewThumbnails.destroy(),this.previewThumbnails=null),Object.assign(this.config.previewThumbnails,e),this.config.previewThumbnails.enabled&&(this.previewThumbnails=new eX(this))}static supported(e,t){return G.check(e,t)}static loadSprite(e,t){return ek(e,t)}static setup(e,t={}){let r=null;return S.string(e)?r=Array.from(document.querySelectorAll(e)):S.nodeList(e)?r=Array.from(e):S.array(e)&&(r=e.filter(S.element)),S.empty(r)?null:r.map(e=>new e1(e,t))}}return e1.defaults=JSON.parse(JSON.stringify(eI)),e1}())},92703:function(e,t,r){"use strict";var n=r(50414);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,a,o){if(o!==n){var s=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return r.PropTypes=r,r}},45697:function(e,t,r){e.exports=r(92703)()},50414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},86243:function(){},24604:function(e,t,r){"use strict";r.d(t,{v:function(){return F}});var n,i,a,o,s=r(67294),l=r(32984),u=r(12351),c=r(9362),d=r(94192),h=r(16723),p=r(23784),f=r(19946),m=r(61363),v=((n=v||{})[n.First=0]="First",n[n.Previous=1]="Previous",n[n.Next=2]="Next",n[n.Last=3]="Last",n[n.Specific=4]="Specific",n[n.Nothing=5]="Nothing",n),g=r(64103),y=r(84575),b=r(39650),w=r(15466),x=r(16567),_=r(14157),k=r(51074),T=r(73781);function E(e){return[e.screenX,e.screenY]}let C=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function S(e){var t,r;let n=null!=(t=e.innerText)?t:"",i=e.cloneNode(!0);if(!(i instanceof HTMLElement))return n;let a=!1;for(let o of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))o.remove(),a=!0;let s=a?null!=(r=i.innerText)?r:"":n;return C.test(s)&&(s=s.replace(C,"")),s}var j=((i=j||{})[i.Open=0]="Open",i[i.Closed=1]="Closed",i),L=((a=L||{})[a.Pointer=0]="Pointer",a[a.Other=1]="Other",a),P=((o=P||{})[o.OpenMenu=0]="OpenMenu",o[o.CloseMenu=1]="CloseMenu",o[o.GoToItem=2]="GoToItem",o[o.Search=3]="Search",o[o.ClearSearch=4]="ClearSearch",o[o.RegisterItem=5]="RegisterItem",o[o.UnregisterItem=6]="UnregisterItem",o);function R(e,t=e=>e){let r=null!==e.activeItemIndex?e.items[e.activeItemIndex]:null,n=(0,y.z2)(t(e.items.slice()),e=>e.dataRef.current.domRef.current),i=r?n.indexOf(r):null;return -1===i&&(i=null),{items:n,activeItemIndex:i}}let I={1:e=>1===e.menuState?e:{...e,activeItemIndex:null,menuState:1},0:e=>0===e.menuState?e:{...e,__demoMode:!1,menuState:0},2:(e,t)=>{var r;let n=R(e),i=function(e,t){let r=t.resolveItems();if(r.length<=0)return null;let n=t.resolveActiveIndex(),i=null!=n?n:-1,a=(()=>{switch(e.focus){case 0:return r.findIndex(e=>!t.resolveDisabled(e));case 1:{let n=r.slice().reverse().findIndex((e,r,n)=>(-1===i||!(n.length-r-1>=i))&&!t.resolveDisabled(e));return -1===n?n:r.length-1-n}case 2:return r.findIndex((e,r)=>!(r<=i)&&!t.resolveDisabled(e));case 3:{let a=r.slice().reverse().findIndex(e=>!t.resolveDisabled(e));return -1===a?a:r.length-1-a}case 4:return r.findIndex(r=>t.resolveId(r)===e.id);case 5:return null;default:!function(e){throw Error("Unexpected object: "+e)}(e)}})();return -1===a?n:a}(t,{resolveItems:()=>n.items,resolveActiveIndex:()=>n.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...n,searchQuery:"",activeItemIndex:i,activationTrigger:null!=(r=t.trigger)?r:1}},3:(e,t)=>{let r=""!==e.searchQuery?0:1,n=e.searchQuery+t.value.toLowerCase(),i=(null!==e.activeItemIndex?e.items.slice(e.activeItemIndex+r).concat(e.items.slice(0,e.activeItemIndex+r)):e.items).find(e=>{var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(n))&&!e.dataRef.current.disabled}),a=i?e.items.indexOf(i):-1;return -1===a||a===e.activeItemIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeItemIndex:a,activationTrigger:1}},4:e=>""===e.searchQuery?e:{...e,searchQuery:"",searchActiveItemIndex:null},5:(e,t)=>{let r=R(e,e=>[...e,{id:t.id,dataRef:t.dataRef}]);return{...e,...r}},6:(e,t)=>{let r=R(e,e=>{let r=e.findIndex(e=>e.id===t.id);return -1!==r&&e.splice(r,1),e});return{...e,...r,activationTrigger:1}}},M=(0,s.createContext)(null);function O(e){let t=(0,s.useContext)(M);if(null===t){let r=Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,O),r}return t}function A(e,t){return(0,l.E)(t.type,I,e,t)}M.displayName="MenuContext";let N=s.Fragment,D=u.AN.RenderStrategy|u.AN.Static,q=s.Fragment,F=Object.assign((0,u.yV)(function(e,t){let{__demoMode:r=!1,...n}=e,i=(0,s.useReducer)(A,{__demoMode:r,menuState:r?0:1,buttonRef:(0,s.createRef)(),itemsRef:(0,s.createRef)(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:a,itemsRef:o,buttonRef:c},d]=i,h=(0,p.T)(t);(0,b.O)([c,o],(e,t)=>{var r;d({type:1}),(0,y.sP)(t,y.tJ.Loose)||(e.preventDefault(),null==(r=c.current)||r.focus())},0===a);let f=(0,T.z)(()=>{d({type:1})}),m=(0,s.useMemo)(()=>({open:0===a,close:f}),[a,f]);return s.createElement(M.Provider,{value:i},s.createElement(x.up,{value:(0,l.E)(a,{0:x.ZM.Open,1:x.ZM.Closed})},(0,u.sY)({ourProps:{ref:h},theirProps:n,slot:m,defaultTag:N,name:"Menu"})))}),{Button:(0,u.yV)(function(e,t){var r;let n=(0,f.M)(),{id:i=`headlessui-menu-button-${n}`,...a}=e,[o,l]=O("Menu.Button"),c=(0,p.T)(o.buttonRef,t),h=(0,d.G)(),y=(0,T.z)(e=>{switch(e.key){case m.R.Space:case m.R.Enter:case m.R.ArrowDown:e.preventDefault(),e.stopPropagation(),l({type:0}),h.nextFrame(()=>l({type:2,focus:v.First}));break;case m.R.ArrowUp:e.preventDefault(),e.stopPropagation(),l({type:0}),h.nextFrame(()=>l({type:2,focus:v.Last}))}}),b=(0,T.z)(e=>{e.key===m.R.Space&&e.preventDefault()}),w=(0,T.z)(t=>{if((0,g.P)(t.currentTarget))return t.preventDefault();e.disabled||(0===o.menuState?(l({type:1}),h.nextFrame(()=>{var e;return null==(e=o.buttonRef.current)?void 0:e.focus({preventScroll:!0})})):(t.preventDefault(),l({type:0})))}),x=(0,s.useMemo)(()=>({open:0===o.menuState}),[o]),k={ref:c,id:i,type:(0,_.f)(e,o.buttonRef),"aria-haspopup":"menu","aria-controls":null==(r=o.itemsRef.current)?void 0:r.id,"aria-expanded":e.disabled?void 0:0===o.menuState,onKeyDown:y,onKeyUp:b,onClick:w};return(0,u.sY)({ourProps:k,theirProps:a,slot:x,defaultTag:"button",name:"Menu.Button"})}),Items:(0,u.yV)(function(e,t){var r,n;let i=(0,f.M)(),{id:a=`headlessui-menu-items-${i}`,...o}=e,[l,g]=O("Menu.Items"),b=(0,p.T)(l.itemsRef,t),_=(0,k.i)(l.itemsRef),E=(0,d.G)(),C=(0,x.oJ)(),S=null!==C?(C&x.ZM.Open)===x.ZM.Open:0===l.menuState;(0,s.useEffect)(()=>{let e=l.itemsRef.current;e&&0===l.menuState&&e!==(null==_?void 0:_.activeElement)&&e.focus({preventScroll:!0})},[l.menuState,l.itemsRef,_]),function({container:e,accept:t,walk:r,enabled:n=!0}){let i=(0,s.useRef)(t),a=(0,s.useRef)(r);(0,s.useEffect)(()=>{i.current=t,a.current=r},[t,r]),(0,h.e)(()=>{if(!e||!n)return;let t=(0,w.r)(e);if(!t)return;let r=i.current,o=a.current,s=Object.assign(e=>r(e),{acceptNode:r}),l=t.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,s,!1);for(;l.nextNode();)o(l.currentNode)},[e,n,i,a])}({container:l.itemsRef.current,enabled:0===l.menuState,accept:e=>"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let j=(0,T.z)(e=>{var t,r;switch(E.dispose(),e.key){case m.R.Space:if(""!==l.searchQuery)return e.preventDefault(),e.stopPropagation(),g({type:3,value:e.key});case m.R.Enter:if(e.preventDefault(),e.stopPropagation(),g({type:1}),null!==l.activeItemIndex){let{dataRef:n}=l.items[l.activeItemIndex];null==(r=null==(t=n.current)?void 0:t.domRef.current)||r.click()}(0,y.wI)(l.buttonRef.current);break;case m.R.ArrowDown:return e.preventDefault(),e.stopPropagation(),g({type:2,focus:v.Next});case m.R.ArrowUp:return e.preventDefault(),e.stopPropagation(),g({type:2,focus:v.Previous});case m.R.Home:case m.R.PageUp:return e.preventDefault(),e.stopPropagation(),g({type:2,focus:v.First});case m.R.End:case m.R.PageDown:return e.preventDefault(),e.stopPropagation(),g({type:2,focus:v.Last});case m.R.Escape:e.preventDefault(),e.stopPropagation(),g({type:1}),(0,c.k)().nextFrame(()=>{var e;return null==(e=l.buttonRef.current)?void 0:e.focus({preventScroll:!0})});break;case m.R.Tab:e.preventDefault(),e.stopPropagation(),g({type:1}),(0,c.k)().nextFrame(()=>{(0,y.EO)(l.buttonRef.current,e.shiftKey?y.TO.Previous:y.TO.Next)});break;default:1===e.key.length&&(g({type:3,value:e.key}),E.setTimeout(()=>g({type:4}),350))}}),L=(0,T.z)(e=>{e.key===m.R.Space&&e.preventDefault()}),P=(0,s.useMemo)(()=>({open:0===l.menuState}),[l]),R={"aria-activedescendant":null===l.activeItemIndex||null==(r=l.items[l.activeItemIndex])?void 0:r.id,"aria-labelledby":null==(n=l.buttonRef.current)?void 0:n.id,id:a,onKeyDown:j,onKeyUp:L,role:"menu",tabIndex:0,ref:b};return(0,u.sY)({ourProps:R,theirProps:o,slot:P,defaultTag:"div",features:D,visible:S,name:"Menu.Items"})}),Item:(0,u.yV)(function(e,t){let r,n,i,a=(0,f.M)(),{id:o=`headlessui-menu-item-${a}`,disabled:l=!1,...d}=e,[m,g]=O("Menu.Item"),b=null!==m.activeItemIndex&&m.items[m.activeItemIndex].id===o,w=(0,s.useRef)(null),x=(0,p.T)(t,w);(0,h.e)(()=>{if(m.__demoMode||0!==m.menuState||!b||0===m.activationTrigger)return;let e=(0,c.k)();return e.requestAnimationFrame(()=>{var e,t;null==(t=null==(e=w.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})}),e.dispose},[m.__demoMode,w,b,m.menuState,m.activationTrigger,m.activeItemIndex]);let _=(r=(0,s.useRef)(""),n=(0,s.useRef)(""),(0,T.z)(()=>{let e=w.current;if(!e)return"";let t=e.innerText;if(r.current===t)return n.current;let i=(function(e){let t=e.getAttribute("aria-label");if("string"==typeof t)return t.trim();let r=e.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(e=>{let t=document.getElementById(e);if(t){let r=t.getAttribute("aria-label");return"string"==typeof r?r.trim():S(t).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return S(e).trim()})(e).trim().toLowerCase();return r.current=t,n.current=i,i})),k=(0,s.useRef)({disabled:l,domRef:w,get textValue(){return _()}});(0,h.e)(()=>{k.current.disabled=l},[k,l]),(0,h.e)(()=>(g({type:5,id:o,dataRef:k}),()=>g({type:6,id:o})),[k,o]);let C=(0,T.z)(()=>{g({type:1})}),j=(0,T.z)(e=>{if(l)return e.preventDefault();g({type:1}),(0,y.wI)(m.buttonRef.current)}),L=(0,T.z)(()=>{if(l)return g({type:2,focus:v.Nothing});g({type:2,focus:v.Specific,id:o})}),P=(i=(0,s.useRef)([-1,-1]),{wasMoved(e){let t=E(e);return(i.current[0]!==t[0]||i.current[1]!==t[1])&&(i.current=t,!0)},update(e){i.current=E(e)}}),R=(0,T.z)(e=>P.update(e)),I=(0,T.z)(e=>{P.wasMoved(e)&&(l||b||g({type:2,focus:v.Specific,id:o,trigger:0}))}),M=(0,T.z)(e=>{P.wasMoved(e)&&(l||b&&g({type:2,focus:v.Nothing}))}),A=(0,s.useMemo)(()=>({active:b,disabled:l,close:C}),[b,l,C]);return(0,u.sY)({ourProps:{id:o,ref:x,role:"menuitem",tabIndex:!0===l?void 0:-1,"aria-disabled":!0===l||void 0,disabled:void 0,onClick:j,onFocus:L,onPointerEnter:R,onMouseEnter:R,onPointerMove:I,onMouseMove:I,onPointerLeave:M,onMouseLeave:M},theirProps:d,slot:A,defaultTag:q,name:"Menu.Item"})})})},14157:function(e,t,r){"use strict";r.d(t,{f:function(){return o}});var n=r(67294),i=r(16723);function a(e){var t;if(e.type)return e.type;let r=null!=(t=e.as)?t:"button";if("string"==typeof r&&"button"===r.toLowerCase())return"button"}function o(e,t){let[r,o]=(0,n.useState)(()=>a(e));return(0,i.e)(()=>{o(a(e))},[e.type,e.as]),(0,i.e)(()=>{r||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&o("button")},[r,t]),r}},10050:function(e,t,r){"use strict";var n=r(67294);let i=n.forwardRef(function({title:e,titleId:t,...r},i){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))});t.Z=i},62940:function(e,t,r){"use strict";var n=r(67294);let i=n.forwardRef(function({title:e,titleId:t,...r},i){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"}),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}))});t.Z=i},23:function(e,t,r){"use strict";var n=r(67294);let i=n.forwardRef(function({title:e,titleId:t,...r},i){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 011.242 7.244l-4.5 4.5a4.5 4.5 0 01-6.364-6.364l1.757-1.757m13.35-.622l1.757-1.757a4.5 4.5 0 00-6.364-6.364l-4.5 4.5a4.5 4.5 0 001.242 7.244"}))});t.Z=i},56186:function(e,t,r){"use strict";var n=r(67294);let i=n.forwardRef(function({title:e,titleId:t,...r},i){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"}))});t.Z=i},89814:function(e,t,r){"use strict";var n=r(67294);let i=n.forwardRef(function({title:e,titleId:t,...r},i){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 006-6v-1.5m-6 7.5a6 6 0 01-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 01-3-3V4.5a3 3 0 116 0v8.25a3 3 0 01-3 3z"}))});t.Z=i},83436:function(e,t,r){"use strict";var n=r(67294);let i=n.forwardRef(function({title:e,titleId:t,...r},i){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"}))});t.Z=i},21321:function(e,t,r){"use strict";var n=r(67294);let i=n.forwardRef(function({title:e,titleId:t,...r},i){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.348a1.125 1.125 0 010 1.971l-11.54 6.347a1.125 1.125 0 01-1.667-.985V5.653z"}))});t.Z=i},76249:function(e,t,r){"use strict";var n=r(67294);let i=n.forwardRef(function({title:e,titleId:t,...r},i){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"}))});t.Z=i},7543:function(e,t,r){"use strict";var n=r(67294);let i=n.forwardRef(function({title:e,titleId:t,...r},i){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z"}))});t.Z=i},31415:function(e,t,r){"use strict";var n=r(67294);let i=n.forwardRef(function({title:e,titleId:t,...r},i){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:i,"aria-labelledby":t},r),e?n.createElement("title",{id:t},e):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}))});t.Z=i},56312:function(e,t,r){"use strict";r.d(t,{F:function(){return l}});var n=r(87536),i=function(e,t,r){if(e&&"reportValidity"in e){var i=(0,n.U2)(r,t);e.setCustomValidity(i&&i.message||""),e.reportValidity()}},a=function(e,t){var r=function(r){var n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?i(n.ref,r,e):n.refs&&n.refs.forEach(function(t){return i(t,r,e)})};for(var n in t.fields)r(n)},o=function(e,t){t.shouldUseNativeValidation&&a(e,t);var r={};for(var i in e){var o=(0,n.U2)(t.fields,i);(0,n.t8)(r,i,Object.assign(e[i],{ref:o&&o.ref}))}return r},s=function(e,t){for(var r={};e.length;){var i=e[0],a=i.code,o=i.message,s=i.path.join(".");if(!r[s]){if("unionErrors"in i){var l=i.unionErrors[0].errors[0];r[s]={message:l.message,type:l.code}}else r[s]={message:o,type:a}}if("unionErrors"in i&&i.unionErrors.forEach(function(t){return t.errors.forEach(function(t){return e.push(t)})}),t){var u=r[s].types,c=u&&u[i.code];r[s]=(0,n.KN)(s,t,r,a,c?[].concat(c,i.message):i.message)}e.shift()}return r},l=function(e,t,r){return void 0===r&&(r={}),function(n,i,l){try{return Promise.resolve(function(i,o){try{var s=Promise.resolve(e["sync"===r.mode?"parse":"parseAsync"](n,t)).then(function(e){return l.shouldUseNativeValidation&&a({},l),{errors:{},values:r.rawValues?n:e}})}catch(u){return o(u)}return s&&s.then?s.then(void 0,o):s}(0,function(e){return{values:{},errors:e.isEmpty?{}:o(s(e.errors,!l.shouldUseNativeValidation&&"all"===l.criteriaMode),l)}}))}catch(u){return Promise.reject(u)}}}},93189:function(e,t,r){"use strict";r.d(t,{a:function(){return b}});var n=r(30065),i=r(19005),a=r(67294),o=r(14034),s=r(464),l=r(91784),u=r(85945),c=r(37122),d=r(24798);let h=(e,t)=>{(e.suspense||e.useErrorBoundary)&&!t.isReset()&&(e.retryOnMount=!1)},p=e=>{a.useEffect(()=>{e.clearReset()},[e])},f=({result:e,errorResetBoundary:t,useErrorBoundary:r,query:n})=>e.isError&&!t.isReset()&&!e.isFetching&&(0,d.L)(r,[e.error,n]),m=e=>{e.suspense&&"number"!=typeof e.staleTime&&(e.staleTime=1e3)},v=(e,t)=>e.isLoading&&e.isFetching&&!t,g=(e,t,r)=>(null==e?void 0:e.suspense)&&v(t,r),y=(e,t,r)=>t.fetchOptimistic(e).then(({data:t})=>{null==e.onSuccess||e.onSuccess(t),null==e.onSettled||e.onSettled(t,null)}).catch(t=>{r.clearReset(),null==e.onError||e.onError(t),null==e.onSettled||e.onSettled(void 0,t)});function b(e,t,r){let d=(0,n._v)(e,t,r);return function(e,t){let r=(0,u.NL)({context:e.context}),n=(0,c.S)(),i=(0,l._)(),d=r.defaultQueryOptions(e);d._optimisticResults=n?"isRestoring":"optimistic",d.onError&&(d.onError=o.V.batchCalls(d.onError)),d.onSuccess&&(d.onSuccess=o.V.batchCalls(d.onSuccess)),d.onSettled&&(d.onSettled=o.V.batchCalls(d.onSettled)),m(d),h(d,i),p(i);let[v]=a.useState(()=>new t(r,d)),b=v.getOptimisticResult(d);if((0,s.$)(a.useCallback(e=>{let t=n?()=>void 0:v.subscribe(o.V.batchCalls(e));return v.updateResult(),t},[v,n]),()=>v.getCurrentResult(),()=>v.getCurrentResult()),a.useEffect(()=>{v.setOptions(d,{listeners:!1})},[d,v]),g(d,b,n))throw y(d,v,i);if(f({result:b,errorResetBoundary:i,useErrorBoundary:d.useErrorBoundary,query:v.getCurrentQuery()}))throw b.error;return d.notifyOnChangeProps?b:v.trackResult(b)}(d,i.z)}}},function(e){e.O(0,[4980,2013,5445,9866,1228,3874,6556,8179,4355,5937,9412,4617,994,1664,1618,1692,2697,8649,3775,2438,9090,7536,1604,4193,8476,5333,3581,6781,4732,674,6550,9774,2888,179],function(){return e(e.s=37804)}),_N_E=e.O()}]);